function nm(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const f=Object.getOwnPropertyDescriptor(o,l);f&&Object.defineProperty(e,l,f.get?f:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function r(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(l){if(l.ep)return;l.ep=!0;const f=r(l);fetch(l.href,f)}})();var Ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xd={exports:{}},Tl={},Yd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),rm=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),sm=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),lm=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),fm=Symbol.for("react.memo"),dm=Symbol.for("react.lazy"),Vf=Symbol.iterator;function hm(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var Kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zd=Object.assign,Qd={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=Qd,this.updater=r||Kd}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $d(){}$d.prototype=Ss.prototype;function o1(e,t,r){this.props=e,this.context=t,this.refs=Qd,this.updater=r||Kd}var a1=o1.prototype=new $d;a1.constructor=o1;Zd(a1,Ss.prototype);a1.isPureReactComponent=!0;var Hf=Array.isArray,qd=Object.prototype.hasOwnProperty,l1={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function eh(e,t,r){var o,l={},f=null,g=null;if(t!=null)for(o in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)qd.call(t,o)&&!Jd.hasOwnProperty(o)&&(l[o]=t[o]);var m=arguments.length-2;if(m===1)l.children=r;else if(1<m){for(var w=Array(m),x=0;x<m;x++)w[x]=arguments[x+2];l.children=w}if(e&&e.defaultProps)for(o in m=e.defaultProps,m)l[o]===void 0&&(l[o]=m[o]);return{$$typeof:Po,type:e,key:f,ref:g,props:l,_owner:l1.current}}function gm(e,t){return{$$typeof:Po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function pm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wf=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pm(""+e.key):t.toString(36)}function Ta(e,t,r,o,l){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Po:case rm:g=!0}}if(g)return g=e,l=l(g),e=o===""?"."+Ec(g,0):o,Hf(l)?(r="",e!=null&&(r=e.replace(Wf,"$&/")+"/"),Ta(l,t,r,"",function(x){return x})):l!=null&&(c1(l)&&(l=gm(l,r+(!l.key||g&&g.key===l.key?"":(""+l.key).replace(Wf,"$&/")+"/")+e)),t.push(l)),1;if(g=0,o=o===""?".":o+":",Hf(e))for(var m=0;m<e.length;m++){f=e[m];var w=o+Ec(f,m);g+=Ta(f,t,r,w,l)}else if(w=hm(e),typeof w=="function")for(e=w.call(e),m=0;!(f=e.next()).done;)f=f.value,w=o+Ec(f,m++),g+=Ta(f,t,r,w,l);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function oa(e,t,r){if(e==null)return e;var o=[],l=0;return Ta(e,o,"","",function(f){return t.call(r,f,l++)}),o}function mm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Na={transition:null},xm={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Na,ReactCurrentOwner:l1};function th(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:oa,forEach:function(e,t,r){oa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oa(e,function(){t++}),t},toArray:function(e){return oa(e,function(t){return t})||[]},only:function(e){if(!c1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Ss;Ce.Fragment=im;Ce.Profiler=om;Ce.PureComponent=o1;Ce.StrictMode=sm;Ce.Suspense=um;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;Ce.act=th;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Zd({},e.props),l=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=l1.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(w in t)qd.call(t,w)&&!Jd.hasOwnProperty(w)&&(o[w]=t[w]===void 0&&m!==void 0?m[w]:t[w])}var w=arguments.length-2;if(w===1)o.children=r;else if(1<w){m=Array(w);for(var x=0;x<w;x++)m[x]=arguments[x+2];o.children=m}return{$$typeof:Po,type:e.type,key:l,ref:f,props:o,_owner:g}};Ce.createContext=function(e){return e={$$typeof:lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:am,_context:e},e.Consumer=e};Ce.createElement=eh;Ce.createFactory=function(e){var t=eh.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:cm,render:e}};Ce.isValidElement=c1;Ce.lazy=function(e){return{$$typeof:dm,_payload:{_status:-1,_result:e},_init:mm}};Ce.memo=function(e,t){return{$$typeof:fm,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};Ce.unstable_act=th;Ce.useCallback=function(e,t){return Wt.current.useCallback(e,t)};Ce.useContext=function(e){return Wt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return Wt.current.useEffect(e,t)};Ce.useId=function(){return Wt.current.useId()};Ce.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Wt.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};Ce.useRef=function(e){return Wt.current.useRef(e)};Ce.useState=function(e){return Wt.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return Wt.current.useTransition()};Ce.version="18.3.1";Yd.exports=Ce;var ve=Yd.exports;const wm=jd(ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=ve,ym=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Am=Object.prototype.hasOwnProperty,vm=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Im={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,r){var o,l={},f=null,g=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(o in t)Am.call(t,o)&&!Im.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)l[o]===void 0&&(l[o]=t[o]);return{$$typeof:ym,type:e,key:f,ref:g,props:l,_owner:vm.current}}Tl.Fragment=Cm;Tl.jsx=nh;Tl.jsxs=nh;Xd.exports=Tl;var H=Xd.exports,Jc={},rh={exports:{}},un={},ih={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ue){var pe=te.length;te.push(ue);e:for(;0<pe;){var Ze=pe-1>>>1,_e=te[Ze];if(0<l(_e,ue))te[Ze]=ue,te[pe]=_e,pe=Ze;else break e}}function r(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var ue=te[0],pe=te.pop();if(pe!==ue){te[0]=pe;e:for(var Ze=0,_e=te.length,gn=_e>>>1;Ze<gn;){var qe=2*(Ze+1)-1,li=te[qe],oe=qe+1,Ar=te[oe];if(0>l(li,pe))oe<_e&&0>l(Ar,li)?(te[Ze]=Ar,te[oe]=pe,Ze=oe):(te[Ze]=li,te[qe]=pe,Ze=qe);else if(oe<_e&&0>l(Ar,pe))te[Ze]=Ar,te[oe]=pe,Ze=oe;else break e}}return ue}function l(te,ue){var pe=te.sortIndex-ue.sortIndex;return pe!==0?pe:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var w=[],x=[],I=1,_=null,b=3,F=!1,G=!1,W=!1,fe=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(te){for(var ue=r(x);ue!==null;){if(ue.callback===null)o(x);else if(ue.startTime<=te)o(x),ue.sortIndex=ue.expirationTime,t(w,ue);else break;ue=r(x)}}function U(te){if(W=!1,N(te),!G)if(r(w)!==null)G=!0,Pe(J);else{var ue=r(x);ue!==null&&ge(U,ue.startTime-te)}}function J(te,ue){G=!1,W&&(W=!1,D($),$=-1),F=!0;var pe=b;try{for(N(ue),_=r(w);_!==null&&(!(_.expirationTime>ue)||te&&!ke());){var Ze=_.callback;if(typeof Ze=="function"){_.callback=null,b=_.priorityLevel;var _e=Ze(_.expirationTime<=ue);ue=e.unstable_now(),typeof _e=="function"?_.callback=_e:_===r(w)&&o(w),N(ue)}else o(w);_=r(w)}if(_!==null)var gn=!0;else{var qe=r(x);qe!==null&&ge(U,qe.startTime-ue),gn=!1}return gn}finally{_=null,b=pe,F=!1}}var K=!1,M=null,$=-1,z=5,me=-1;function ke(){return!(e.unstable_now()-me<z)}function ee(){if(M!==null){var te=e.unstable_now();me=te;var ue=!0;try{ue=M(!0,te)}finally{ue?we():(K=!1,M=null)}}else K=!1}var we;if(typeof T=="function")we=function(){T(ee)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,V=He.port2;He.port1.onmessage=ee,we=function(){V.postMessage(null)}}else we=function(){fe(ee,0)};function Pe(te){M=te,K||(K=!0,we())}function ge(te,ue){$=fe(function(){te(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){G||F||(G=!0,Pe(J))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(w)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var pe=b;b=ue;try{return te()}finally{b=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=b;b=te;try{return ue()}finally{b=pe}},e.unstable_scheduleCallback=function(te,ue,pe){var Ze=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ze+pe:Ze):pe=Ze,te){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=pe+_e,te={id:I++,callback:ue,priorityLevel:te,startTime:pe,expirationTime:_e,sortIndex:-1},pe>Ze?(te.sortIndex=pe,t(x,te),r(w)===null&&te===r(x)&&(W?(D($),$=-1):W=!0,ge(U,pe-Ze))):(te.sortIndex=_e,t(w,te),G||F||(G=!0,Pe(J))),te},e.unstable_shouldYield=ke,e.unstable_wrapCallback=function(te){var ue=b;return function(){var pe=b;b=ue;try{return te.apply(this,arguments)}finally{b=pe}}}})(sh);ih.exports=sh;var _m=ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=ve,cn=_m;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oh=new Set,go={};function Pi(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(go[e]=t,e=0;e<t.length;e++)oh.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=Object.prototype.hasOwnProperty,Tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zf={},Gf={};function Nm(e){return eu.call(Gf,e)?!0:eu.call(zf,e)?!1:Tm.test(e)?Gf[e]=!0:(zf[e]=!0,!1)}function Rm(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Om(e,t,r,o){if(t===null||typeof t>"u"||Rm(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,o,l,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var u1=/[\-:]([a-z])/g;function f1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u1,f1);Ot[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u1,f1);Ot[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u1,f1);Ot[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function d1(e,t,r,o){var l=Ot.hasOwnProperty(t)?Ot[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Om(t,r,l,o)&&(r=null),o||l===null?Nm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,o=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var yr=Sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aa=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),h1=Symbol.for("react.strict_mode"),tu=Symbol.for("react.profiler"),ah=Symbol.for("react.provider"),lh=Symbol.for("react.context"),g1=Symbol.for("react.forward_ref"),nu=Symbol.for("react.suspense"),ru=Symbol.for("react.suspense_list"),p1=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),ch=Symbol.for("react.offscreen"),jf=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=jf&&e[jf]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,yc;function $s(e){if(yc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yc=t&&t[1]||""}return`
`+yc+e}var Cc=!1;function Ac(e,t){if(!e||Cc)return"";Cc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var o=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){o=x}e.call(t.prototype)}else{try{throw Error()}catch(x){o=x}e()}}catch(x){if(x&&o&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),f=o.stack.split(`
`),g=l.length-1,m=f.length-1;1<=g&&0<=m&&l[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(l[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||l[g]!==f[m]){var w=`
`+l[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=m);break}}}finally{Cc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$s(e):""}function bm(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=Ac(e.type,!1),e;case 11:return e=Ac(e.type.render,!1),e;case 1:return e=Ac(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Ki:return"Portal";case tu:return"Profiler";case h1:return"StrictMode";case nu:return"Suspense";case ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lh:return(e.displayName||"Context")+".Consumer";case ah:return(e._context.displayName||"Context")+".Provider";case g1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case p1:return t=e.displayName||null,t!==null?t:iu(e.type)||"Memo";case kr:t=e._payload,e=e._init;try{return iu(e(t))}catch{}}return null}function Dm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(t);case 8:return t===h1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ei(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function km(e){var t=uh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=km(e))}function fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=uh(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function su(e,t){var r=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xf(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=ei(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dh(e,t){t=t.checked,t!=null&&d1(e,"checked",t,!1)}function ou(e,t){dh(e,t);var r=ei(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?au(e,t.type,r):t.hasOwnProperty("defaultValue")&&au(e,t.type,ei(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function au(e,t,r){(t!=="number"||Ga(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qs=Array.isArray;function ls(e,t,r,o){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ei(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(qs(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ei(r)}}function hh(e,t){var r=ei(t.value),o=ei(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function Zf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ca,ph=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(e){Pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ro[t]=ro[e]})});function mh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ro.hasOwnProperty(e)&&ro[e]?(""+t).trim():t+"px"}function xh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,l=mh(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,l):e[r]=l}}var Mm=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(e,t){if(t){if(Mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=null;function m1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hu=null,cs=null,us=null;function Qf(e){if(e=Bo(e)){if(typeof hu!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Dl(t),hu(e.stateNode,e.type,t))}}function wh(e){cs?us?us.push(e):us=[e]:cs=e}function Eh(){if(cs){var e=cs,t=us;if(us=cs=null,Qf(e),t)for(e=0;e<t.length;e++)Qf(t[e])}}function yh(e,t){return e(t)}function Ch(){}var vc=!1;function Ah(e,t,r){if(vc)return e(t,r);vc=!0;try{return yh(e,t,r)}finally{vc=!1,(cs!==null||us!==null)&&(Ch(),Eh())}}function mo(e,t){var r=e.stateNode;if(r===null)return null;var o=Dl(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var gu=!1;if(pr)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{gu=!1}function Lm(e,t,r,o,l,f,g,m,w){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(I){this.onError(I)}}var io=!1,ja=null,Xa=!1,pu=null,Bm={onError:function(e){io=!0,ja=e}};function Fm(e,t,r,o,l,f,g,m,w){io=!1,ja=null,Lm.apply(Bm,arguments)}function Um(e,t,r,o,l,f,g,m,w){if(Fm.apply(this,arguments),io){if(io){var x=ja;io=!1,ja=null}else throw Error(Y(198));Xa||(Xa=!0,pu=x)}}function Mi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $f(e){if(Mi(e)!==e)throw Error(Y(188))}function Vm(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,o=t;;){var l=r.return;if(l===null)break;var f=l.alternate;if(f===null){if(o=l.return,o!==null){r=o;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===r)return $f(l),e;if(f===o)return $f(l),t;f=f.sibling}throw Error(Y(188))}if(r.return!==o.return)r=l,o=f;else{for(var g=!1,m=l.child;m;){if(m===r){g=!0,r=l,o=f;break}if(m===o){g=!0,o=l,r=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===r){g=!0,r=f,o=l;break}if(m===o){g=!0,o=f,r=l;break}m=m.sibling}if(!g)throw Error(Y(189))}}if(r.alternate!==o)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function Ih(e){return e=Vm(e),e!==null?_h(e):null}function _h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_h(e);if(t!==null)return t;e=e.sibling}return null}var Sh=cn.unstable_scheduleCallback,qf=cn.unstable_cancelCallback,Hm=cn.unstable_shouldYield,Wm=cn.unstable_requestPaint,ct=cn.unstable_now,zm=cn.unstable_getCurrentPriorityLevel,x1=cn.unstable_ImmediatePriority,Th=cn.unstable_UserBlockingPriority,Ya=cn.unstable_NormalPriority,Gm=cn.unstable_LowPriority,Nh=cn.unstable_IdlePriority,Nl=null,qn=null;function jm(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Nl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Km,Xm=Math.log,Ym=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Xm(e)/Ym|0)|0}var ua=64,fa=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ka(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,l=e.suspendedLanes,f=e.pingedLanes,g=r&268435455;if(g!==0){var m=g&~l;m!==0?o=Js(m):(f&=g,f!==0&&(o=Js(f)))}else g=r&~l,g!==0?o=Js(g):f!==0&&(o=Js(f));if(o===0)return 0;if(t!==0&&t!==o&&!(t&l)&&(l=o&-o,f=t&-t,l>=f||l===16&&(f&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Mn(t),l=1<<r,o|=e[r],t&=~l;return o}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Mn(f),m=1<<g,w=l[g];w===-1?(!(m&r)||m&o)&&(l[g]=Zm(m,t)):w<=t&&(e.expiredLanes|=m),f&=~m}}function mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rh(){var e=ua;return ua<<=1,!(ua&4194240)&&(ua=64),e}function Ic(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=r}function $m(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Mn(r),f=1<<l;t[l]=0,o[l]=-1,e[l]=-1,r&=~f}}function w1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Mn(r),l=1<<o;l&t|e[o]&t&&(e[o]|=t),r&=~l}}var Me=0;function Oh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bh,E1,Dh,kh,Ph,xu=!1,da=[],zr=null,Gr=null,jr=null,xo=new Map,wo=new Map,Mr=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function js(e,t,r,o,l,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[l]},t!==null&&(t=Bo(t),t!==null&&E1(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jm(e,t,r,o,l){switch(t){case"focusin":return zr=js(zr,e,t,r,o,l),!0;case"dragenter":return Gr=js(Gr,e,t,r,o,l),!0;case"mouseover":return jr=js(jr,e,t,r,o,l),!0;case"pointerover":var f=l.pointerId;return xo.set(f,js(xo.get(f)||null,e,t,r,o,l)),!0;case"gotpointercapture":return f=l.pointerId,wo.set(f,js(wo.get(f)||null,e,t,r,o,l)),!0}return!1}function Mh(e){var t=Ei(e.target);if(t!==null){var r=Mi(t);if(r!==null){if(t=r.tag,t===13){if(t=vh(r),t!==null){e.blockedOn=t,Ph(e.priority,function(){Dh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);du=o,r.target.dispatchEvent(o),du=null}else return t=Bo(r),t!==null&&E1(t),e.blockedOn=r,!1;t.shift()}return!0}function e0(e,t,r){Ra(e)&&r.delete(t)}function ex(){xu=!1,zr!==null&&Ra(zr)&&(zr=null),Gr!==null&&Ra(Gr)&&(Gr=null),jr!==null&&Ra(jr)&&(jr=null),xo.forEach(e0),wo.forEach(e0)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,xu||(xu=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,ex)))}function Eo(e){function t(l){return Xs(l,e)}if(0<da.length){Xs(da[0],e);for(var r=1;r<da.length;r++){var o=da[r];o.blockedOn===e&&(o.blockedOn=null)}}for(zr!==null&&Xs(zr,e),Gr!==null&&Xs(Gr,e),jr!==null&&Xs(jr,e),xo.forEach(t),wo.forEach(t),r=0;r<Mr.length;r++)o=Mr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)Mh(r),r.blockedOn===null&&Mr.shift()}var fs=yr.ReactCurrentBatchConfig,Za=!0;function tx(e,t,r,o){var l=Me,f=fs.transition;fs.transition=null;try{Me=1,y1(e,t,r,o)}finally{Me=l,fs.transition=f}}function nx(e,t,r,o){var l=Me,f=fs.transition;fs.transition=null;try{Me=4,y1(e,t,r,o)}finally{Me=l,fs.transition=f}}function y1(e,t,r,o){if(Za){var l=wu(e,t,r,o);if(l===null)Pc(e,t,o,Qa,r),Jf(e,o);else if(Jm(l,e,t,r,o))o.stopPropagation();else if(Jf(e,o),t&4&&-1<qm.indexOf(e)){for(;l!==null;){var f=Bo(l);if(f!==null&&bh(f),f=wu(e,t,r,o),f===null&&Pc(e,t,o,Qa,r),f===l)break;l=f}l!==null&&o.stopPropagation()}else Pc(e,t,o,null,r)}}var Qa=null;function wu(e,t,r,o){if(Qa=null,e=m1(o),e=Ei(e),e!==null)if(t=Mi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qa=e,null}function Lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zm()){case x1:return 1;case Th:return 4;case Ya:case Gm:return 16;case Nh:return 536870912;default:return 16}default:return 16}}var Hr=null,C1=null,Oa=null;function Bh(){if(Oa)return Oa;var e,t=C1,r=t.length,o,l="value"in Hr?Hr.value:Hr.textContent,f=l.length;for(e=0;e<r&&t[e]===l[e];e++);var g=r-e;for(o=1;o<=g&&t[r-o]===l[f-o];o++);return Oa=l.slice(e,1<o?1-o:void 0)}function ba(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function t0(){return!1}function fn(e){function t(r,o,l,f,g){this._reactName=r,this._targetInst=l,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ha:t0,this.isPropagationStopped=t0,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=fn(Ts),Lo=nt({},Ts,{view:0,detail:0}),rx=fn(Lo),_c,Sc,Ys,Rl=nt({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(_c=e.screenX-Ys.screenX,Sc=e.screenY-Ys.screenY):Sc=_c=0,Ys=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),n0=fn(Rl),ix=nt({},Rl,{dataTransfer:0}),sx=fn(ix),ox=nt({},Lo,{relatedTarget:0}),Tc=fn(ox),ax=nt({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),lx=fn(ax),cx=nt({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ux=fn(cx),fx=nt({},Ts,{data:0}),r0=fn(fx),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gx[e])?!!t[e]:!1}function v1(){return px}var mx=nt({},Lo,{key:function(e){if(e.key){var t=dx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v1,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xx=fn(mx),wx=nt({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i0=fn(wx),Ex=nt({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v1}),yx=fn(Ex),Cx=nt({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ax=fn(Cx),vx=nt({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=fn(vx),_x=[9,13,27,32],I1=pr&&"CompositionEvent"in window,so=null;pr&&"documentMode"in document&&(so=document.documentMode);var Sx=pr&&"TextEvent"in window&&!so,Fh=pr&&(!I1||so&&8<so&&11>=so),s0=" ",o0=!1;function Uh(e,t){switch(e){case"keyup":return _x.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function Tx(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(o0=!0,s0);case"textInput":return e=t.data,e===s0&&o0?null:e;default:return null}}function Nx(e,t){if(Qi)return e==="compositionend"||!I1&&Uh(e,t)?(e=Bh(),Oa=C1=Hr=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fh&&t.locale!=="ko"?null:t.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rx[e.type]:t==="textarea"}function Hh(e,t,r,o){wh(o),t=$a(t,"onChange"),0<t.length&&(r=new A1("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var oo=null,yo=null;function Ox(e){qh(e,0)}function Ol(e){var t=Ji(e);if(fh(t))return e}function bx(e,t){if(e==="change")return t}var Wh=!1;if(pr){var Nc;if(pr){var Rc="oninput"in document;if(!Rc){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Rc=typeof l0.oninput=="function"}Nc=Rc}else Nc=!1;Wh=Nc&&(!document.documentMode||9<document.documentMode)}function c0(){oo&&(oo.detachEvent("onpropertychange",zh),yo=oo=null)}function zh(e){if(e.propertyName==="value"&&Ol(yo)){var t=[];Hh(t,yo,e,m1(e)),Ah(Ox,t)}}function Dx(e,t,r){e==="focusin"?(c0(),oo=t,yo=r,oo.attachEvent("onpropertychange",zh)):e==="focusout"&&c0()}function kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(yo)}function Px(e,t){if(e==="click")return Ol(t)}function Mx(e,t){if(e==="input"||e==="change")return Ol(t)}function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:Lx;function Co(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var l=r[o];if(!eu.call(t,l)||!Bn(e[l],t[l]))return!1}return!0}function u0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var r=u0(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u0(r)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ga(e.document)}return t}function _1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bx(e){var t=jh(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gh(r.ownerDocument.documentElement,r)){if(o!==null&&_1(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,f=Math.min(o.start,l);o=o.end===void 0?f:Math.min(o.end,l),!e.extend&&f>o&&(l=o,o=f,f=l),l=f0(r,f);var g=f0(r,o);l&&g&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fx=pr&&"documentMode"in document&&11>=document.documentMode,$i=null,Eu=null,ao=null,yu=!1;function d0(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yu||$i==null||$i!==Ga(o)||(o=$i,"selectionStart"in o&&_1(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ao&&Co(ao,o)||(ao=o,o=$a(Eu,"onSelect"),0<o.length&&(t=new A1("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=$i)))}function ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},Oc={},Xh={};pr&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function bl(e){if(Oc[e])return Oc[e];if(!qi[e])return e;var t=qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xh)return Oc[e]=t[r];return e}var Yh=bl("animationend"),Kh=bl("animationiteration"),Zh=bl("animationstart"),Qh=bl("transitionend"),$h=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(e,t){$h.set(e,t),Pi(t,[e])}for(var bc=0;bc<h0.length;bc++){var Dc=h0[bc],Ux=Dc.toLowerCase(),Vx=Dc[0].toUpperCase()+Dc.slice(1);ni(Ux,"on"+Vx)}ni(Yh,"onAnimationEnd");ni(Kh,"onAnimationIteration");ni(Zh,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(Qh,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function g0(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Um(o,t,void 0,e),e.currentTarget=null}function qh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],l=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var m=o[g],w=m.instance,x=m.currentTarget;if(m=m.listener,w!==f&&l.isPropagationStopped())break e;g0(l,m,x),f=w}else for(g=0;g<o.length;g++){if(m=o[g],w=m.instance,x=m.currentTarget,m=m.listener,w!==f&&l.isPropagationStopped())break e;g0(l,m,x),f=w}}}if(Xa)throw e=pu,Xa=!1,pu=null,e}function Xe(e,t){var r=t[_u];r===void 0&&(r=t[_u]=new Set);var o=e+"__bubble";r.has(o)||(Jh(t,e,2,!1),r.add(o))}function kc(e,t,r){var o=0;t&&(o|=4),Jh(r,e,o,t)}var pa="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[pa]){e[pa]=!0,oh.forEach(function(r){r!=="selectionchange"&&(Hx.has(r)||kc(r,!1,e),kc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pa]||(t[pa]=!0,kc("selectionchange",!1,t))}}function Jh(e,t,r,o){switch(Lh(t)){case 1:var l=tx;break;case 4:l=nx;break;default:l=y1}r=l.bind(null,t,r,e),l=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Pc(e,t,r,o,l){var f=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var m=o.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;g=g.return}for(;m!==null;){if(g=Ei(m),g===null)return;if(w=g.tag,w===5||w===6){o=f=g;continue e}m=m.parentNode}}o=o.return}Ah(function(){var x=f,I=m1(r),_=[];e:{var b=$h.get(e);if(b!==void 0){var F=A1,G=e;switch(e){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":F=xx;break;case"focusin":G="focus",F=Tc;break;case"focusout":G="blur",F=Tc;break;case"beforeblur":case"afterblur":F=Tc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=yx;break;case Yh:case Kh:case Zh:F=lx;break;case Qh:F=Ax;break;case"scroll":F=rx;break;case"wheel":F=Ix;break;case"copy":case"cut":case"paste":F=ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=i0}var W=(t&4)!==0,fe=!W&&e==="scroll",D=W?b!==null?b+"Capture":null:b;W=[];for(var T=x,N;T!==null;){N=T;var U=N.stateNode;if(N.tag===5&&U!==null&&(N=U,D!==null&&(U=mo(T,D),U!=null&&W.push(vo(T,U,N)))),fe)break;T=T.return}0<W.length&&(b=new F(b,G,null,r,I),_.push({event:b,listeners:W}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",b&&r!==du&&(G=r.relatedTarget||r.fromElement)&&(Ei(G)||G[mr]))break e;if((F||b)&&(b=I.window===I?I:(b=I.ownerDocument)?b.defaultView||b.parentWindow:window,F?(G=r.relatedTarget||r.toElement,F=x,G=G?Ei(G):null,G!==null&&(fe=Mi(G),G!==fe||G.tag!==5&&G.tag!==6)&&(G=null)):(F=null,G=x),F!==G)){if(W=n0,U="onMouseLeave",D="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(W=i0,U="onPointerLeave",D="onPointerEnter",T="pointer"),fe=F==null?b:Ji(F),N=G==null?b:Ji(G),b=new W(U,T+"leave",F,r,I),b.target=fe,b.relatedTarget=N,U=null,Ei(I)===x&&(W=new W(D,T+"enter",G,r,I),W.target=N,W.relatedTarget=fe,U=W),fe=U,F&&G)t:{for(W=F,D=G,T=0,N=W;N;N=Yi(N))T++;for(N=0,U=D;U;U=Yi(U))N++;for(;0<T-N;)W=Yi(W),T--;for(;0<N-T;)D=Yi(D),N--;for(;T--;){if(W===D||D!==null&&W===D.alternate)break t;W=Yi(W),D=Yi(D)}W=null}else W=null;F!==null&&p0(_,b,F,W,!1),G!==null&&fe!==null&&p0(_,fe,G,W,!0)}}e:{if(b=x?Ji(x):window,F=b.nodeName&&b.nodeName.toLowerCase(),F==="select"||F==="input"&&b.type==="file")var J=bx;else if(a0(b))if(Wh)J=Mx;else{J=kx;var K=Dx}else(F=b.nodeName)&&F.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(J=Px);if(J&&(J=J(e,x))){Hh(_,J,r,I);break e}K&&K(e,b,x),e==="focusout"&&(K=b._wrapperState)&&K.controlled&&b.type==="number"&&au(b,"number",b.value)}switch(K=x?Ji(x):window,e){case"focusin":(a0(K)||K.contentEditable==="true")&&($i=K,Eu=x,ao=null);break;case"focusout":ao=Eu=$i=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,d0(_,r,I);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":d0(_,r,I)}var M;if(I1)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Qi?Uh(e,r)&&($="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(Fh&&r.locale!=="ko"&&(Qi||$!=="onCompositionStart"?$==="onCompositionEnd"&&Qi&&(M=Bh()):(Hr=I,C1="value"in Hr?Hr.value:Hr.textContent,Qi=!0)),K=$a(x,$),0<K.length&&($=new r0($,e,null,r,I),_.push({event:$,listeners:K}),M?$.data=M:(M=Vh(r),M!==null&&($.data=M)))),(M=Sx?Tx(e,r):Nx(e,r))&&(x=$a(x,"onBeforeInput"),0<x.length&&(I=new r0("onBeforeInput","beforeinput",null,r,I),_.push({event:I,listeners:x}),I.data=M))}qh(_,t)})}function vo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $a(e,t){for(var r=t+"Capture",o=[];e!==null;){var l=e,f=l.stateNode;l.tag===5&&f!==null&&(l=f,f=mo(e,r),f!=null&&o.unshift(vo(e,f,l)),f=mo(e,t),f!=null&&o.push(vo(e,f,l))),e=e.return}return o}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p0(e,t,r,o,l){for(var f=t._reactName,g=[];r!==null&&r!==o;){var m=r,w=m.alternate,x=m.stateNode;if(w!==null&&w===o)break;m.tag===5&&x!==null&&(m=x,l?(w=mo(r,f),w!=null&&g.unshift(vo(r,w,m))):l||(w=mo(r,f),w!=null&&g.push(vo(r,w,m)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var Wx=/\r\n?/g,zx=/\u0000|\uFFFD/g;function m0(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(zx,"")}function ma(e,t,r){if(t=m0(t),m0(e)!==t&&r)throw Error(Y(425))}function qa(){}var Cu=null,Au=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(e){return x0.resolve(null).then(e).catch(Xx)}:Iu;function Xx(e){setTimeout(function(){throw e})}function Mc(e,t){var r=t,o=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(o===0){e.removeChild(l),Eo(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=l}while(r);Eo(t)}function Xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ns,Io="__reactProps$"+Ns,mr="__reactContainer$"+Ns,_u="__reactEvents$"+Ns,Yx="__reactListeners$"+Ns,Kx="__reactHandles$"+Ns;function Ei(e){var t=e[Kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mr]||r[Kn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=w0(e);e!==null;){if(r=e[Kn])return r;e=w0(e)}return t}e=r,r=e.parentNode}return null}function Bo(e){return e=e[Kn]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Dl(e){return e[Io]||null}var Su=[],es=-1;function ri(e){return{current:e}}function Ke(e){0>es||(e.current=Su[es],Su[es]=null,es--)}function Ge(e,t){es++,Su[es]=e.current,e.current=t}var ti={},Lt=ri(ti),qt=ri(!1),_i=ti;function Es(e,t){var r=e.type.contextTypes;if(!r)return ti;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},f;for(f in r)l[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Jt(e){return e=e.childContextTypes,e!=null}function Ja(){Ke(qt),Ke(Lt)}function E0(e,t,r){if(Lt.current!==ti)throw Error(Y(168));Ge(Lt,t),Ge(qt,r)}function eg(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(Y(108,Dm(e)||"Unknown",l));return nt({},r,o)}function el(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ti,_i=Lt.current,Ge(Lt,e),Ge(qt,qt.current),!0}function y0(e,t,r){var o=e.stateNode;if(!o)throw Error(Y(169));r?(e=eg(e,t,_i),o.__reactInternalMemoizedMergedChildContext=e,Ke(qt),Ke(Lt),Ge(Lt,e)):Ke(qt),Ge(qt,r)}var or=null,kl=!1,Lc=!1;function tg(e){or===null?or=[e]:or.push(e)}function Zx(e){kl=!0,tg(e)}function ii(){if(!Lc&&or!==null){Lc=!0;var e=0,t=Me;try{var r=or;for(Me=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}or=null,kl=!1}catch(l){throw or!==null&&(or=or.slice(e+1)),Sh(x1,ii),l}finally{Me=t,Lc=!1}}return null}var ts=[],ns=0,tl=null,nl=0,Cn=[],An=0,Si=null,ar=1,lr="";function mi(e,t){ts[ns++]=nl,ts[ns++]=tl,tl=e,nl=t}function ng(e,t,r){Cn[An++]=ar,Cn[An++]=lr,Cn[An++]=Si,Si=e;var o=ar;e=lr;var l=32-Mn(o)-1;o&=~(1<<l),r+=1;var f=32-Mn(t)+l;if(30<f){var g=l-l%5;f=(o&(1<<g)-1).toString(32),o>>=g,l-=g,ar=1<<32-Mn(t)+l|r<<l|o,lr=f+e}else ar=1<<f|r<<l|o,lr=e}function S1(e){e.return!==null&&(mi(e,1),ng(e,1,0))}function T1(e){for(;e===tl;)tl=ts[--ns],ts[ns]=null,nl=ts[--ns],ts[ns]=null;for(;e===Si;)Si=Cn[--An],Cn[An]=null,lr=Cn[--An],Cn[An]=null,ar=Cn[--An],Cn[An]=null}var ln=null,an=null,$e=!1,kn=null;function rg(e,t){var r=vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function C0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=Xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Si!==null?{id:ar,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,an=null,!0):!1;default:return!1}}function Tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nu(e){if($e){var t=an;if(t){var r=t;if(!C0(e,t)){if(Tu(e))throw Error(Y(418));t=Xr(r.nextSibling);var o=ln;t&&C0(e,t)?rg(o,r):(e.flags=e.flags&-4097|2,$e=!1,ln=e)}}else{if(Tu(e))throw Error(Y(418));e.flags=e.flags&-4097|2,$e=!1,ln=e}}}function A0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function xa(e){if(e!==ln)return!1;if(!$e)return A0(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=an)){if(Tu(e))throw ig(),Error(Y(418));for(;t;)rg(e,t),t=Xr(t.nextSibling)}if(A0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=Xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?Xr(e.stateNode.nextSibling):null;return!0}function ig(){for(var e=an;e;)e=Xr(e.nextSibling)}function ys(){an=ln=null,$e=!1}function N1(e){kn===null?kn=[e]:kn.push(e)}var Qx=yr.ReactCurrentBatchConfig;function Ks(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var o=r.stateNode}if(!o)throw Error(Y(147,e));var l=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var m=l.refs;g===null?delete m[f]:m[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function wa(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v0(e){var t=e._init;return t(e._payload)}function sg(e){function t(D,T){if(e){var N=D.deletions;N===null?(D.deletions=[T],D.flags|=16):N.push(T)}}function r(D,T){if(!e)return null;for(;T!==null;)t(D,T),T=T.sibling;return null}function o(D,T){for(D=new Map;T!==null;)T.key!==null?D.set(T.key,T):D.set(T.index,T),T=T.sibling;return D}function l(D,T){return D=Qr(D,T),D.index=0,D.sibling=null,D}function f(D,T,N){return D.index=N,e?(N=D.alternate,N!==null?(N=N.index,N<T?(D.flags|=2,T):N):(D.flags|=2,T)):(D.flags|=1048576,T)}function g(D){return e&&D.alternate===null&&(D.flags|=2),D}function m(D,T,N,U){return T===null||T.tag!==6?(T=zc(N,D.mode,U),T.return=D,T):(T=l(T,N),T.return=D,T)}function w(D,T,N,U){var J=N.type;return J===Zi?I(D,T,N.props.children,U,N.key):T!==null&&(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===kr&&v0(J)===T.type)?(U=l(T,N.props),U.ref=Ks(D,T,N),U.return=D,U):(U=Fa(N.type,N.key,N.props,null,D.mode,U),U.ref=Ks(D,T,N),U.return=D,U)}function x(D,T,N,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Gc(N,D.mode,U),T.return=D,T):(T=l(T,N.children||[]),T.return=D,T)}function I(D,T,N,U,J){return T===null||T.tag!==7?(T=vi(N,D.mode,U,J),T.return=D,T):(T=l(T,N),T.return=D,T)}function _(D,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=zc(""+T,D.mode,N),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case aa:return N=Fa(T.type,T.key,T.props,null,D.mode,N),N.ref=Ks(D,null,T),N.return=D,N;case Ki:return T=Gc(T,D.mode,N),T.return=D,T;case kr:var U=T._init;return _(D,U(T._payload),N)}if(qs(T)||zs(T))return T=vi(T,D.mode,N,null),T.return=D,T;wa(D,T)}return null}function b(D,T,N,U){var J=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return J!==null?null:m(D,T,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case aa:return N.key===J?w(D,T,N,U):null;case Ki:return N.key===J?x(D,T,N,U):null;case kr:return J=N._init,b(D,T,J(N._payload),U)}if(qs(N)||zs(N))return J!==null?null:I(D,T,N,U,null);wa(D,N)}return null}function F(D,T,N,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return D=D.get(N)||null,m(T,D,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case aa:return D=D.get(U.key===null?N:U.key)||null,w(T,D,U,J);case Ki:return D=D.get(U.key===null?N:U.key)||null,x(T,D,U,J);case kr:var K=U._init;return F(D,T,N,K(U._payload),J)}if(qs(U)||zs(U))return D=D.get(N)||null,I(T,D,U,J,null);wa(T,U)}return null}function G(D,T,N,U){for(var J=null,K=null,M=T,$=T=0,z=null;M!==null&&$<N.length;$++){M.index>$?(z=M,M=null):z=M.sibling;var me=b(D,M,N[$],U);if(me===null){M===null&&(M=z);break}e&&M&&me.alternate===null&&t(D,M),T=f(me,T,$),K===null?J=me:K.sibling=me,K=me,M=z}if($===N.length)return r(D,M),$e&&mi(D,$),J;if(M===null){for(;$<N.length;$++)M=_(D,N[$],U),M!==null&&(T=f(M,T,$),K===null?J=M:K.sibling=M,K=M);return $e&&mi(D,$),J}for(M=o(D,M);$<N.length;$++)z=F(M,D,$,N[$],U),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?$:z.key),T=f(z,T,$),K===null?J=z:K.sibling=z,K=z);return e&&M.forEach(function(ke){return t(D,ke)}),$e&&mi(D,$),J}function W(D,T,N,U){var J=zs(N);if(typeof J!="function")throw Error(Y(150));if(N=J.call(N),N==null)throw Error(Y(151));for(var K=J=null,M=T,$=T=0,z=null,me=N.next();M!==null&&!me.done;$++,me=N.next()){M.index>$?(z=M,M=null):z=M.sibling;var ke=b(D,M,me.value,U);if(ke===null){M===null&&(M=z);break}e&&M&&ke.alternate===null&&t(D,M),T=f(ke,T,$),K===null?J=ke:K.sibling=ke,K=ke,M=z}if(me.done)return r(D,M),$e&&mi(D,$),J;if(M===null){for(;!me.done;$++,me=N.next())me=_(D,me.value,U),me!==null&&(T=f(me,T,$),K===null?J=me:K.sibling=me,K=me);return $e&&mi(D,$),J}for(M=o(D,M);!me.done;$++,me=N.next())me=F(M,D,$,me.value,U),me!==null&&(e&&me.alternate!==null&&M.delete(me.key===null?$:me.key),T=f(me,T,$),K===null?J=me:K.sibling=me,K=me);return e&&M.forEach(function(ee){return t(D,ee)}),$e&&mi(D,$),J}function fe(D,T,N,U){if(typeof N=="object"&&N!==null&&N.type===Zi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case aa:e:{for(var J=N.key,K=T;K!==null;){if(K.key===J){if(J=N.type,J===Zi){if(K.tag===7){r(D,K.sibling),T=l(K,N.props.children),T.return=D,D=T;break e}}else if(K.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===kr&&v0(J)===K.type){r(D,K.sibling),T=l(K,N.props),T.ref=Ks(D,K,N),T.return=D,D=T;break e}r(D,K);break}else t(D,K);K=K.sibling}N.type===Zi?(T=vi(N.props.children,D.mode,U,N.key),T.return=D,D=T):(U=Fa(N.type,N.key,N.props,null,D.mode,U),U.ref=Ks(D,T,N),U.return=D,D=U)}return g(D);case Ki:e:{for(K=N.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){r(D,T.sibling),T=l(T,N.children||[]),T.return=D,D=T;break e}else{r(D,T);break}else t(D,T);T=T.sibling}T=Gc(N,D.mode,U),T.return=D,D=T}return g(D);case kr:return K=N._init,fe(D,T,K(N._payload),U)}if(qs(N))return G(D,T,N,U);if(zs(N))return W(D,T,N,U);wa(D,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(r(D,T.sibling),T=l(T,N),T.return=D,D=T):(r(D,T),T=zc(N,D.mode,U),T.return=D,D=T),g(D)):r(D,T)}return fe}var Cs=sg(!0),og=sg(!1),rl=ri(null),il=null,rs=null,R1=null;function O1(){R1=rs=il=null}function b1(e){var t=rl.current;Ke(rl),e._currentValue=t}function Ru(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){il=e,R1=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if(R1!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(il===null)throw Error(Y(308));rs=e,il.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var yi=null;function D1(e){yi===null?yi=[e]:yi.push(e)}function ag(e,t,r,o){var l=t.interleaved;return l===null?(r.next=r,D1(t)):(r.next=l.next,l.next=r),t.interleaved=r,xr(e,o)}function xr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pr=!1;function k1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Ne&2){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,xr(e,r)}return l=o.interleaved,l===null?(t.next=t,D1(o)):(t.next=l.next,l.next=t),o.interleaved=t,xr(e,r)}function Da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,w1(e,r)}}function I0(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var l=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?l=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?l=f=t:f=f.next=t}else l=f=t;r={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sl(e,t,r,o){var l=e.updateQueue;Pr=!1;var f=l.firstBaseUpdate,g=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var w=m,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var I=e.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==g&&(m===null?I.firstBaseUpdate=x:m.next=x,I.lastBaseUpdate=w))}if(f!==null){var _=l.baseState;g=0,I=x=w=null,m=f;do{var b=m.lane,F=m.eventTime;if((o&b)===b){I!==null&&(I=I.next={eventTime:F,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var G=e,W=m;switch(b=t,F=r,W.tag){case 1:if(G=W.payload,typeof G=="function"){_=G.call(F,_,b);break e}_=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=W.payload,b=typeof G=="function"?G.call(F,_,b):G,b==null)break e;_=nt({},_,b);break e;case 2:Pr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,b=l.effects,b===null?l.effects=[m]:b.push(m))}else F={eventTime:F,lane:b,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(x=I=F,w=_):I=I.next=F,g|=b;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;b=m,m=b.next,b.next=null,l.lastBaseUpdate=b,l.shared.pending=null}}while(!0);if(I===null&&(w=_),l.baseState=w,l.firstBaseUpdate=x,l.lastBaseUpdate=I,t=l.shared.interleaved,t!==null){l=t;do g|=l.lane,l=l.next;while(l!==t)}else f===null&&(l.shared.lanes=0);Ni|=g,e.lanes=g,e.memoizedState=_}}function _0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=r,typeof l!="function")throw Error(Y(191,l));l.call(o)}}}var Fo={},Jn=ri(Fo),_o=ri(Fo),So=ri(Fo);function Ci(e){if(e===Fo)throw Error(Y(174));return e}function P1(e,t){switch(Ge(So,t),Ge(_o,e),Ge(Jn,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cu(t,e)}Ke(Jn),Ge(Jn,t)}function As(){Ke(Jn),Ke(_o),Ke(So)}function cg(e){Ci(So.current);var t=Ci(Jn.current),r=cu(t,e.type);t!==r&&(Ge(_o,e),Ge(Jn,r))}function M1(e){_o.current===e&&(Ke(Jn),Ke(_o))}var et=ri(0);function ol(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bc=[];function L1(){for(var e=0;e<Bc.length;e++)Bc[e]._workInProgressVersionPrimary=null;Bc.length=0}var ka=yr.ReactCurrentDispatcher,Fc=yr.ReactCurrentBatchConfig,Ti=0,tt=null,pt=null,yt=null,al=!1,lo=!1,To=0,$x=0;function kt(){throw Error(Y(321))}function B1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function F1(e,t,r,o,l,f){if(Ti=f,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?tw:nw,e=r(o,l),lo){f=0;do{if(lo=!1,To=0,25<=f)throw Error(Y(301));f+=1,yt=pt=null,t.updateQueue=null,ka.current=rw,e=r(o,l)}while(lo)}if(ka.current=ll,t=pt!==null&&pt.next!==null,Ti=0,yt=pt=tt=null,al=!1,t)throw Error(Y(300));return e}function U1(){var e=To!==0;return To=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?tt.memoizedState=yt=e:yt=yt.next=e,yt}function Sn(){if(pt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=yt===null?tt.memoizedState:yt.next;if(t!==null)yt=t,pt=e;else{if(e===null)throw Error(Y(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?tt.memoizedState=yt=e:yt=yt.next=e}return yt}function No(e,t){return typeof t=="function"?t(e):t}function Uc(e){var t=Sn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var o=pt,l=o.baseQueue,f=r.pending;if(f!==null){if(l!==null){var g=l.next;l.next=f.next,f.next=g}o.baseQueue=l=f,r.pending=null}if(l!==null){f=l.next,o=o.baseState;var m=g=null,w=null,x=f;do{var I=x.lane;if((Ti&I)===I)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),o=x.hasEagerState?x.eagerState:e(o,x.action);else{var _={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(m=w=_,g=o):w=w.next=_,tt.lanes|=I,Ni|=I}x=x.next}while(x!==null&&x!==f);w===null?g=o:w.next=m,Bn(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=w,r.lastRenderedState=o}if(e=r.interleaved,e!==null){l=e;do f=l.lane,tt.lanes|=f,Ni|=f,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vc(e){var t=Sn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var o=r.dispatch,l=r.pending,f=t.memoizedState;if(l!==null){r.pending=null;var g=l=l.next;do f=e(f,g.action),g=g.next;while(g!==l);Bn(f,t.memoizedState)||($t=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,o]}function ug(){}function fg(e,t){var r=tt,o=Sn(),l=t(),f=!Bn(o.memoizedState,l);if(f&&(o.memoizedState=l,$t=!0),o=o.queue,V1(gg.bind(null,r,o,e),[e]),o.getSnapshot!==t||f||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,Ro(9,hg.bind(null,r,o,l,t),void 0,null),Ct===null)throw Error(Y(349));Ti&30||dg(r,t,l)}return l}function dg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hg(e,t,r,o){t.value=r,t.getSnapshot=o,pg(t)&&mg(e)}function gg(e,t,r){return r(function(){pg(t)&&mg(e)})}function pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function mg(e){var t=xr(e,1);t!==null&&Ln(t,e,1,-1)}function S0(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ew.bind(null,tt,e),[t.memoizedState,e]}function Ro(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function xg(){return Sn().memoizedState}function Pa(e,t,r,o){var l=Yn();tt.flags|=e,l.memoizedState=Ro(1|t,r,void 0,o===void 0?null:o)}function Pl(e,t,r,o){var l=Sn();o=o===void 0?null:o;var f=void 0;if(pt!==null){var g=pt.memoizedState;if(f=g.destroy,o!==null&&B1(o,g.deps)){l.memoizedState=Ro(t,r,f,o);return}}tt.flags|=e,l.memoizedState=Ro(1|t,r,f,o)}function T0(e,t){return Pa(8390656,8,e,t)}function V1(e,t){return Pl(2048,8,e,t)}function wg(e,t){return Pl(4,2,e,t)}function Eg(e,t){return Pl(4,4,e,t)}function yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cg(e,t,r){return r=r!=null?r.concat([e]):null,Pl(4,4,yg.bind(null,t,e),r)}function H1(){}function Ag(e,t){var r=Sn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&B1(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function vg(e,t){var r=Sn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&B1(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Ig(e,t,r){return Ti&21?(Bn(r,t)||(r=Rh(),tt.lanes|=r,Ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=r)}function qx(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var o=Fc.transition;Fc.transition={};try{e(!1),t()}finally{Me=r,Fc.transition=o}}function _g(){return Sn().memoizedState}function Jx(e,t,r){var o=Zr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},Sg(e))Tg(t,r);else if(r=ag(e,t,r,o),r!==null){var l=Ht();Ln(r,e,o,l),Ng(r,t,o)}}function ew(e,t,r){var o=Zr(e),l={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))Tg(t,l);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,m=f(g,r);if(l.hasEagerState=!0,l.eagerState=m,Bn(m,g)){var w=t.interleaved;w===null?(l.next=l,D1(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}r=ag(e,t,l,o),r!==null&&(l=Ht(),Ln(r,e,o,l),Ng(r,t,o))}}function Sg(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Tg(e,t){lo=al=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ng(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,w1(e,r)}}var ll={readContext:_n,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},tw={readContext:_n,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:T0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,yg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=Yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Yn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Jx.bind(null,tt,e),[o.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:S0,useDebugValue:H1,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=S0(!1),t=e[0];return e=qx.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=tt,l=Yn();if($e){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),Ct===null)throw Error(Y(349));Ti&30||dg(o,t,r)}l.memoizedState=r;var f={value:r,getSnapshot:t};return l.queue=f,T0(gg.bind(null,o,f,e),[e]),o.flags|=2048,Ro(9,hg.bind(null,o,f,r,t),void 0,null),r},useId:function(){var e=Yn(),t=Ct.identifierPrefix;if($e){var r=lr,o=ar;r=(o&~(1<<32-Mn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$x++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nw={readContext:_n,useCallback:Ag,useContext:_n,useEffect:V1,useImperativeHandle:Cg,useInsertionEffect:wg,useLayoutEffect:Eg,useMemo:vg,useReducer:Uc,useRef:xg,useState:function(){return Uc(No)},useDebugValue:H1,useDeferredValue:function(e){var t=Sn();return Ig(t,pt.memoizedState,e)},useTransition:function(){var e=Uc(No)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:fg,useId:_g,unstable_isNewReconciler:!1},rw={readContext:_n,useCallback:Ag,useContext:_n,useEffect:V1,useImperativeHandle:Cg,useInsertionEffect:wg,useLayoutEffect:Eg,useMemo:vg,useReducer:Vc,useRef:xg,useState:function(){return Vc(No)},useDebugValue:H1,useDeferredValue:function(e){var t=Sn();return pt===null?t.memoizedState=e:Ig(t,pt.memoizedState,e)},useTransition:function(){var e=Vc(No)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:fg,useId:_g,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ou(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Ht(),l=Zr(e),f=dr(o,l);f.payload=t,r!=null&&(f.callback=r),t=Yr(e,f,l),t!==null&&(Ln(t,e,l,o),Da(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Ht(),l=Zr(e),f=dr(o,l);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Yr(e,f,l),t!==null&&(Ln(t,e,l,o),Da(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),o=Zr(e),l=dr(r,o);l.tag=2,t!=null&&(l.callback=t),t=Yr(e,l,o),t!==null&&(Ln(t,e,o,r),Da(t,e,o))}};function N0(e,t,r,o,l,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!Co(r,o)||!Co(l,f):!0}function Rg(e,t,r){var o=!1,l=ti,f=t.contextType;return typeof f=="object"&&f!==null?f=_n(f):(l=Jt(t)?_i:Lt.current,o=t.contextTypes,f=(o=o!=null)?Es(e,l):ti),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=f),t}function R0(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function bu(e,t,r,o){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},k1(e);var f=t.contextType;typeof f=="object"&&f!==null?l.context=_n(f):(f=Jt(t)?_i:Lt.current,l.context=Es(e,f)),l.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Ou(e,t,f,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ml.enqueueReplaceState(l,l.state,null),sl(e,r,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var r="",o=t;do r+=bm(o),o=o.return;while(o);var l=r}catch(f){l=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:l,digest:null}}function Hc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Du(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iw=typeof WeakMap=="function"?WeakMap:Map;function Og(e,t,r){r=dr(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){ul||(ul=!0,Wu=o),Du(e,t)},r}function bg(e,t,r){r=dr(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;r.payload=function(){return o(l)},r.callback=function(){Du(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Du(e,t),typeof o!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function O0(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new iw;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(r)||(l.add(r),e=ww.bind(null,e,t,r),t.then(e,e))}function b0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function D0(e,t,r,o,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dr(-1,1),t.tag=2,Yr(r,t,1))),r.lanes|=1),e)}var sw=yr.ReactCurrentOwner,$t=!1;function Vt(e,t,r,o){t.child=e===null?og(t,null,r,o):Cs(t,e.child,r,o)}function k0(e,t,r,o,l){r=r.render;var f=t.ref;return ds(t,l),o=F1(e,t,r,o,f,l),r=U1(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wr(e,t,l)):($e&&r&&S1(t),t.flags|=1,Vt(e,t,o,l),t.child)}function P0(e,t,r,o,l){if(e===null){var f=r.type;return typeof f=="function"&&!Z1(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Dg(e,t,f,o,l)):(e=Fa(r.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&l)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Co,r(g,o)&&e.ref===t.ref)return wr(e,t,l)}return t.flags|=1,e=Qr(f,o),e.ref=t.ref,e.return=t,t.child=e}function Dg(e,t,r,o,l){if(e!==null){var f=e.memoizedProps;if(Co(f,o)&&e.ref===t.ref)if($t=!1,t.pendingProps=o=f,(e.lanes&l)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,wr(e,t,l)}return ku(e,t,r,o,l)}function kg(e,t,r){var o=t.pendingProps,l=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ss,on),on|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(ss,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:r,Ge(ss,on),on|=o}else f!==null?(o=f.baseLanes|r,t.memoizedState=null):o=r,Ge(ss,on),on|=o;return Vt(e,t,l,r),t.child}function Pg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,r,o,l){var f=Jt(r)?_i:Lt.current;return f=Es(t,f),ds(t,l),r=F1(e,t,r,o,f,l),o=U1(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wr(e,t,l)):($e&&o&&S1(t),t.flags|=1,Vt(e,t,r,l),t.child)}function M0(e,t,r,o,l){if(Jt(r)){var f=!0;el(t)}else f=!1;if(ds(t,l),t.stateNode===null)Ma(e,t),Rg(t,r,o),bu(t,r,o,l),o=!0;else if(e===null){var g=t.stateNode,m=t.memoizedProps;g.props=m;var w=g.context,x=r.contextType;typeof x=="object"&&x!==null?x=_n(x):(x=Jt(r)?_i:Lt.current,x=Es(t,x));var I=r.getDerivedStateFromProps,_=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";_||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==o||w!==x)&&R0(t,g,o,x),Pr=!1;var b=t.memoizedState;g.state=b,sl(t,o,g,l),w=t.memoizedState,m!==o||b!==w||qt.current||Pr?(typeof I=="function"&&(Ou(t,r,I,o),w=t.memoizedState),(m=Pr||N0(t,r,m,o,b,w,x))?(_||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=w),g.props=o,g.state=w,g.context=x,o=m):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,lg(e,t),m=t.memoizedProps,x=t.type===t.elementType?m:bn(t.type,m),g.props=x,_=t.pendingProps,b=g.context,w=r.contextType,typeof w=="object"&&w!==null?w=_n(w):(w=Jt(r)?_i:Lt.current,w=Es(t,w));var F=r.getDerivedStateFromProps;(I=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==_||b!==w)&&R0(t,g,o,w),Pr=!1,b=t.memoizedState,g.state=b,sl(t,o,g,l);var G=t.memoizedState;m!==_||b!==G||qt.current||Pr?(typeof F=="function"&&(Ou(t,r,F,o),G=t.memoizedState),(x=Pr||N0(t,r,x,o,b,G,w)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,G,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,G,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=G),g.props=o,g.state=G,g.context=w,o=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),o=!1)}return Pu(e,t,r,o,f,l)}function Pu(e,t,r,o,l,f){Pg(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return l&&y0(t,r,!1),wr(e,t,f);o=t.stateNode,sw.current=t;var m=g&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=Cs(t,e.child,null,f),t.child=Cs(t,null,m,f)):Vt(e,t,m,f),t.memoizedState=o.state,l&&y0(t,r,!0),t.child}function Mg(e){var t=e.stateNode;t.pendingContext?E0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&E0(e,t.context,!1),P1(e,t.containerInfo)}function L0(e,t,r,o,l){return ys(),N1(l),t.flags|=256,Vt(e,t,r,o),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lg(e,t,r){var o=t.pendingProps,l=et.current,f=!1,g=(t.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ge(et,l&1),e===null)return Nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},!(o&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Fl(g,o,0,null),e=vi(e,o,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Lu(r),t.memoizedState=Mu,e):W1(t,g));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return ow(e,t,g,o,m,l,r);if(f){f=o.fallback,g=t.mode,l=e.child,m=l.sibling;var w={mode:"hidden",children:o.children};return!(g&1)&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=w,t.deletions=null):(o=Qr(l,w),o.subtreeFlags=l.subtreeFlags&14680064),m!==null?f=Qr(m,f):(f=vi(f,g,r,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?Lu(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~r,t.memoizedState=Mu,o}return f=e.child,e=f.sibling,o=Qr(f,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function W1(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ea(e,t,r,o){return o!==null&&N1(o),Cs(t,e.child,null,r),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ow(e,t,r,o,l,f,g){if(r)return t.flags&256?(t.flags&=-257,o=Hc(Error(Y(422))),Ea(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,l=t.mode,o=Fl({mode:"visible",children:o.children},l,0,null),f=vi(f,l,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,t.mode&1&&Cs(t,e.child,null,g),t.child.memoizedState=Lu(g),t.memoizedState=Mu,f);if(!(t.mode&1))return Ea(e,t,g,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var m=o.dgst;return o=m,f=Error(Y(419)),o=Hc(f,o,void 0),Ea(e,t,g,o)}if(m=(g&e.childLanes)!==0,$t||m){if(o=Ct,o!==null){switch(g&-g){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|g)?0:l,l!==0&&l!==f.retryLane&&(f.retryLane=l,xr(e,l),Ln(o,e,l,-1))}return K1(),o=Hc(Error(Y(421))),Ea(e,t,g,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ew.bind(null,e),l._reactRetry=t,null):(e=f.treeContext,an=Xr(l.nextSibling),ln=t,$e=!0,kn=null,e!==null&&(Cn[An++]=ar,Cn[An++]=lr,Cn[An++]=Si,ar=e.id,lr=e.overflow,Si=t),t=W1(t,o.children),t.flags|=4096,t)}function B0(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ru(e.return,t,r)}function Wc(e,t,r,o,l){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:l}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=l)}function Bg(e,t,r){var o=t.pendingProps,l=o.revealOrder,f=o.tail;if(Vt(e,t,o.children,r),o=et.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B0(e,r,t);else if(e.tag===19)B0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ge(et,o),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&ol(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Wc(t,!1,l,r,f);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ol(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Wc(t,!0,r,null,f);break;case"together":Wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aw(e,t,r){switch(t.tag){case 3:Mg(t),ys();break;case 5:cg(t);break;case 1:Jt(t.type)&&el(t);break;case 4:P1(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;Ge(rl,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ge(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?Lg(e,t,r):(Ge(et,et.current&1),e=wr(e,t,r),e!==null?e.sibling:null);Ge(et,et.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return Bg(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ge(et,et.current),o)break;return null;case 22:case 23:return t.lanes=0,kg(e,t,r)}return wr(e,t,r)}var Fg,Bu,Ug,Vg;Fg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bu=function(){};Ug=function(e,t,r,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Ci(Jn.current);var f=null;switch(r){case"input":l=su(e,l),o=su(e,o),f=[];break;case"select":l=nt({},l,{value:void 0}),o=nt({},o,{value:void 0}),f=[];break;case"textarea":l=lu(e,l),o=lu(e,o),f=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=qa)}uu(r,o);var g;r=null;for(x in l)if(!o.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var m=l[x];for(g in m)m.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(go.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in o){var w=o[x];if(m=l!=null?l[x]:void 0,o.hasOwnProperty(x)&&w!==m&&(w!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in w)w.hasOwnProperty(g)&&m[g]!==w[g]&&(r||(r={}),r[g]=w[g])}else r||(f||(f=[]),f.push(x,r)),r=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(f=f||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(go.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&Xe("scroll",e),f||m===w||(f=[])):(f=f||[]).push(x,w))}r&&(f=f||[]).push("style",r);var x=f;(t.updateQueue=x)&&(t.flags|=4)}};Vg=function(e,t,r,o){r!==o&&(t.flags|=4)};function Zs(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function lw(e,t,r){var o=t.pendingProps;switch(T1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Jt(t.type)&&Ja(),Pt(t),null;case 3:return o=t.stateNode,As(),Ke(qt),Ke(Lt),L1(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(ju(kn),kn=null))),Bu(e,t),Pt(t),null;case 5:M1(t);var l=Ci(So.current);if(r=t.type,e!==null&&t.stateNode!=null)Ug(e,t,r,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(Y(166));return Pt(t),null}if(e=Ci(Jn.current),xa(t)){o=t.stateNode,r=t.type;var f=t.memoizedProps;switch(o[Kn]=t,o[Io]=f,e=(t.mode&1)!==0,r){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(l=0;l<eo.length;l++)Xe(eo[l],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Xf(o,f),Xe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Xe("invalid",o);break;case"textarea":Kf(o,f),Xe("invalid",o)}uu(r,f),l=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?o.textContent!==m&&(f.suppressHydrationWarning!==!0&&ma(o.textContent,m,e),l=["children",m]):typeof m=="number"&&o.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&ma(o.textContent,m,e),l=["children",""+m]):go.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&Xe("scroll",o)}switch(r){case"input":la(o),Yf(o,f,!0);break;case"textarea":la(o),Zf(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=qa)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(r,{is:o.is}):(e=g.createElement(r),r==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,r),e[Kn]=t,e[Io]=o,Fg(e,t,!1,!1),t.stateNode=e;e:{switch(g=fu(r,o),r){case"dialog":Xe("cancel",e),Xe("close",e),l=o;break;case"iframe":case"object":case"embed":Xe("load",e),l=o;break;case"video":case"audio":for(l=0;l<eo.length;l++)Xe(eo[l],e);l=o;break;case"source":Xe("error",e),l=o;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),l=o;break;case"details":Xe("toggle",e),l=o;break;case"input":Xf(e,o),l=su(e,o),Xe("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=nt({},o,{value:void 0}),Xe("invalid",e);break;case"textarea":Kf(e,o),l=lu(e,o),Xe("invalid",e);break;default:l=o}uu(r,l),m=l;for(f in m)if(m.hasOwnProperty(f)){var w=m[f];f==="style"?xh(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&ph(e,w)):f==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&po(e,w):typeof w=="number"&&po(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(go.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Xe("scroll",e):w!=null&&d1(e,f,w,g))}switch(r){case"input":la(e),Yf(e,o,!1);break;case"textarea":la(e),Zf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ei(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?ls(e,!!o.multiple,f,!1):o.defaultValue!=null&&ls(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=qa)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Vg(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(Y(166));if(r=Ci(So.current),Ci(Jn.current),xa(t)){if(o=t.stateNode,r=t.memoizedProps,o[Kn]=t,(f=o.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:ma(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ma(o.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Kn]=t,t.stateNode=o}return Pt(t),null;case 13:if(Ke(et),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&an!==null&&t.mode&1&&!(t.flags&128))ig(),ys(),t.flags|=98560,f=!1;else if(f=xa(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(Y(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(Y(317));f[Kn]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),f=!1}else kn!==null&&(ju(kn),kn=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?mt===0&&(mt=3):K1())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return As(),Bu(e,t),e===null&&Ao(t.stateNode.containerInfo),Pt(t),null;case 10:return b1(t.type._context),Pt(t),null;case 17:return Jt(t.type)&&Ja(),Pt(t),null;case 19:if(Ke(et),f=t.memoizedState,f===null)return Pt(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)Zs(f,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=ol(e),g!==null){for(t.flags|=128,Zs(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)f=r,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ge(et,et.current&1|2),t.child}e=e.sibling}f.tail!==null&&ct()>Is&&(t.flags|=128,o=!0,Zs(f,!1),t.lanes=4194304)}else{if(!o)if(e=ol(g),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!$e)return Pt(t),null}else 2*ct()-f.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,o=!0,Zs(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(r=f.last,r!==null?r.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=ct(),t.sibling=null,r=et.current,Ge(et,o?r&1|2:r&1),t):(Pt(t),null);case 22:case 23:return Y1(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?on&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function cw(e,t){switch(T1(t),t.tag){case 1:return Jt(t.type)&&Ja(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return As(),Ke(qt),Ke(Lt),L1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return M1(t),null;case 13:if(Ke(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(et),null;case 4:return As(),null;case 10:return b1(t.type._context),null;case 22:case 23:return Y1(),null;case 24:return null;default:return null}}var ya=!1,Mt=!1,uw=typeof WeakSet=="function"?WeakSet:Set,ie=null;function is(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){at(e,t,o)}else r.current=null}function Fu(e,t,r){try{r()}catch(o){at(e,t,o)}}var F0=!1;function fw(e,t){if(Cu=Za,e=jh(),_1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var l=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,m=-1,w=-1,x=0,I=0,_=e,b=null;t:for(;;){for(var F;_!==r||l!==0&&_.nodeType!==3||(m=g+l),_!==f||o!==0&&_.nodeType!==3||(w=g+o),_.nodeType===3&&(g+=_.nodeValue.length),(F=_.firstChild)!==null;)b=_,_=F;for(;;){if(_===e)break t;if(b===r&&++x===l&&(m=g),b===f&&++I===o&&(w=g),(F=_.nextSibling)!==null)break;_=b,b=_.parentNode}_=F}r=m===-1||w===-1?null:{start:m,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Au={focusedElem:e,selectionRange:r},Za=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var G=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var W=G.memoizedProps,fe=G.memoizedState,D=t.stateNode,T=D.getSnapshotBeforeUpdate(t.elementType===t.type?W:bn(t.type,W),fe);D.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(U){at(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return G=F0,F0=!1,G}function co(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var f=l.destroy;l.destroy=void 0,f!==void 0&&Fu(t,r,f)}l=l.next}while(l!==o)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hg(e){var t=e.alternate;t!==null&&(e.alternate=null,Hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[Io],delete t[_u],delete t[Yx],delete t[Kx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function U0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qa));else if(o!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}function Hu(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}var Tt=null,Dn=!1;function Or(e,t,r){for(r=r.child;r!==null;)zg(e,t,r),r=r.sibling}function zg(e,t,r){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Nl,r)}catch{}switch(r.tag){case 5:Mt||is(r,t);case 6:var o=Tt,l=Dn;Tt=null,Or(e,t,r),Tt=o,Dn=l,Tt!==null&&(Dn?(e=Tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tt.removeChild(r.stateNode));break;case 18:Tt!==null&&(Dn?(e=Tt,r=r.stateNode,e.nodeType===8?Mc(e.parentNode,r):e.nodeType===1&&Mc(e,r),Eo(e)):Mc(Tt,r.stateNode));break;case 4:o=Tt,l=Dn,Tt=r.stateNode.containerInfo,Dn=!0,Or(e,t,r),Tt=o,Dn=l;break;case 0:case 11:case 14:case 15:if(!Mt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var f=l,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&Fu(r,t,g),l=l.next}while(l!==o)}Or(e,t,r);break;case 1:if(!Mt&&(is(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(m){at(r,t,m)}Or(e,t,r);break;case 21:Or(e,t,r);break;case 22:r.mode&1?(Mt=(o=Mt)||r.memoizedState!==null,Or(e,t,r),Mt=o):Or(e,t,r);break;default:Or(e,t,r)}}function V0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uw),t.forEach(function(o){var l=yw.bind(null,e,o);r.has(o)||(r.add(o),o.then(l,l))})}}function On(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];try{var f=e,g=t,m=g;e:for(;m!==null;){switch(m.tag){case 5:Tt=m.stateNode,Dn=!1;break e;case 3:Tt=m.stateNode.containerInfo,Dn=!0;break e;case 4:Tt=m.stateNode.containerInfo,Dn=!0;break e}m=m.return}if(Tt===null)throw Error(Y(160));zg(f,g,l),Tt=null,Dn=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(x){at(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gg(t,e),t=t.sibling}function Gg(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),Xn(e),o&4){try{co(3,e,e.return),Ll(3,e)}catch(W){at(e,e.return,W)}try{co(5,e,e.return)}catch(W){at(e,e.return,W)}}break;case 1:On(t,e),Xn(e),o&512&&r!==null&&is(r,r.return);break;case 5:if(On(t,e),Xn(e),o&512&&r!==null&&is(r,r.return),e.flags&32){var l=e.stateNode;try{po(l,"")}catch(W){at(e,e.return,W)}}if(o&4&&(l=e.stateNode,l!=null)){var f=e.memoizedProps,g=r!==null?r.memoizedProps:f,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&dh(l,f),fu(m,g);var x=fu(m,f);for(g=0;g<w.length;g+=2){var I=w[g],_=w[g+1];I==="style"?xh(l,_):I==="dangerouslySetInnerHTML"?ph(l,_):I==="children"?po(l,_):d1(l,I,_,x)}switch(m){case"input":ou(l,f);break;case"textarea":hh(l,f);break;case"select":var b=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!f.multiple;var F=f.value;F!=null?ls(l,!!f.multiple,F,!1):b!==!!f.multiple&&(f.defaultValue!=null?ls(l,!!f.multiple,f.defaultValue,!0):ls(l,!!f.multiple,f.multiple?[]:"",!1))}l[Io]=f}catch(W){at(e,e.return,W)}}break;case 6:if(On(t,e),Xn(e),o&4){if(e.stateNode===null)throw Error(Y(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(W){at(e,e.return,W)}}break;case 3:if(On(t,e),Xn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(W){at(e,e.return,W)}break;case 4:On(t,e),Xn(e);break;case 13:On(t,e),Xn(e),l=e.child,l.flags&8192&&(f=l.memoizedState!==null,l.stateNode.isHidden=f,!f||l.alternate!==null&&l.alternate.memoizedState!==null||(j1=ct())),o&4&&V0(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(x=Mt)||I,On(t,e),Mt=x):On(t,e),Xn(e),o&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&e.mode&1)for(ie=e,I=e.child;I!==null;){for(_=ie=I;ie!==null;){switch(b=ie,F=b.child,b.tag){case 0:case 11:case 14:case 15:co(4,b,b.return);break;case 1:is(b,b.return);var G=b.stateNode;if(typeof G.componentWillUnmount=="function"){o=b,r=b.return;try{t=o,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(W){at(o,r,W)}}break;case 5:is(b,b.return);break;case 22:if(b.memoizedState!==null){W0(_);continue}}F!==null?(F.return=b,ie=F):W0(_)}I=I.sibling}e:for(I=null,_=e;;){if(_.tag===5){if(I===null){I=_;try{l=_.stateNode,x?(f=l.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=_.stateNode,w=_.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=mh("display",g))}catch(W){at(e,e.return,W)}}}else if(_.tag===6){if(I===null)try{_.stateNode.nodeValue=x?"":_.memoizedProps}catch(W){at(e,e.return,W)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;I===_&&(I=null),_=_.return}I===_&&(I=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:On(t,e),Xn(e),o&4&&V0(e);break;case 21:break;default:On(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wg(r)){var o=r;break e}r=r.return}throw Error(Y(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(po(l,""),o.flags&=-33);var f=U0(e);Hu(e,f,l);break;case 3:case 4:var g=o.stateNode.containerInfo,m=U0(e);Vu(e,m,g);break;default:throw Error(Y(161))}}catch(w){at(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dw(e,t,r){ie=e,jg(e)}function jg(e,t,r){for(var o=(e.mode&1)!==0;ie!==null;){var l=ie,f=l.child;if(l.tag===22&&o){var g=l.memoizedState!==null||ya;if(!g){var m=l.alternate,w=m!==null&&m.memoizedState!==null||Mt;m=ya;var x=Mt;if(ya=g,(Mt=w)&&!x)for(ie=l;ie!==null;)g=ie,w=g.child,g.tag===22&&g.memoizedState!==null?z0(l):w!==null?(w.return=g,ie=w):z0(l);for(;f!==null;)ie=f,jg(f),f=f.sibling;ie=l,ya=m,Mt=x}H0(e)}else l.subtreeFlags&8772&&f!==null?(f.return=l,ie=f):H0(e)}}function H0(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Ll(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Mt)if(r===null)o.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:bn(t.type,r.memoizedProps);o.componentDidUpdate(l,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&_0(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_0(t,g,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var _=I.dehydrated;_!==null&&Eo(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Mt||t.flags&512&&Uu(t)}catch(b){at(t,t.return,b)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function W0(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function z0(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ll(4,t)}catch(w){at(t,r,w)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(w){at(t,l,w)}}var f=t.return;try{Uu(t)}catch(w){at(t,f,w)}break;case 5:var g=t.return;try{Uu(t)}catch(w){at(t,g,w)}}}catch(w){at(t,t.return,w)}if(t===e){ie=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ie=m;break}ie=t.return}}var hw=Math.ceil,cl=yr.ReactCurrentDispatcher,z1=yr.ReactCurrentOwner,In=yr.ReactCurrentBatchConfig,Ne=0,Ct=null,ft=null,Rt=0,on=0,ss=ri(0),mt=0,Oo=null,Ni=0,Bl=0,G1=0,uo=null,Qt=null,j1=0,Is=1/0,sr=null,ul=!1,Wu=null,Kr=null,Ca=!1,Wr=null,fl=0,fo=0,zu=null,La=-1,Ba=0;function Ht(){return Ne&6?ct():La!==-1?La:La=ct()}function Zr(e){return e.mode&1?Ne&2&&Rt!==0?Rt&-Rt:Qx.transition!==null?(Ba===0&&(Ba=Rh()),Ba):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Lh(e.type)),e):1}function Ln(e,t,r,o){if(50<fo)throw fo=0,zu=null,Error(Y(185));Mo(e,r,o),(!(Ne&2)||e!==Ct)&&(e===Ct&&(!(Ne&2)&&(Bl|=r),mt===4&&Lr(e,Rt)),en(e,o),r===1&&Ne===0&&!(t.mode&1)&&(Is=ct()+500,kl&&ii()))}function en(e,t){var r=e.callbackNode;Qm(e,t);var o=Ka(e,e===Ct?Rt:0);if(o===0)r!==null&&qf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&qf(r),t===1)e.tag===0?Zx(G0.bind(null,e)):tg(G0.bind(null,e)),jx(function(){!(Ne&6)&&ii()}),r=null;else{switch(Oh(o)){case 1:r=x1;break;case 4:r=Th;break;case 16:r=Ya;break;case 536870912:r=Nh;break;default:r=Ya}r=Jg(r,Xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xg(e,t){if(La=-1,Ba=0,Ne&6)throw Error(Y(327));var r=e.callbackNode;if(hs()&&e.callbackNode!==r)return null;var o=Ka(e,e===Ct?Rt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=dl(e,o);else{t=o;var l=Ne;Ne|=2;var f=Kg();(Ct!==e||Rt!==t)&&(sr=null,Is=ct()+500,Ai(e,t));do try{mw();break}catch(m){Yg(e,m)}while(!0);O1(),cl.current=f,Ne=l,ft!==null?t=0:(Ct=null,Rt=0,t=mt)}if(t!==0){if(t===2&&(l=mu(e),l!==0&&(o=l,t=Gu(e,l))),t===1)throw r=Oo,Ai(e,0),Lr(e,o),en(e,ct()),r;if(t===6)Lr(e,o);else{if(l=e.current.alternate,!(o&30)&&!gw(l)&&(t=dl(e,o),t===2&&(f=mu(e),f!==0&&(o=f,t=Gu(e,f))),t===1))throw r=Oo,Ai(e,0),Lr(e,o),en(e,ct()),r;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(Y(345));case 2:xi(e,Qt,sr);break;case 3:if(Lr(e,o),(o&130023424)===o&&(t=j1+500-ct(),10<t)){if(Ka(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){Ht(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Iu(xi.bind(null,e,Qt,sr),t);break}xi(e,Qt,sr);break;case 4:if(Lr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var g=31-Mn(o);f=1<<g,g=t[g],g>l&&(l=g),o&=~f}if(o=l,o=ct()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*hw(o/1960))-o,10<o){e.timeoutHandle=Iu(xi.bind(null,e,Qt,sr),o);break}xi(e,Qt,sr);break;case 5:xi(e,Qt,sr);break;default:throw Error(Y(329))}}}return en(e,ct()),e.callbackNode===r?Xg.bind(null,e):null}function Gu(e,t){var r=uo;return e.current.memoizedState.isDehydrated&&(Ai(e,t).flags|=256),e=dl(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&ju(t)),e}function ju(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function gw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var l=r[o],f=l.getSnapshot;l=l.value;try{if(!Bn(f(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lr(e,t){for(t&=~G1,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mn(t),o=1<<r;e[r]=-1,t&=~o}}function G0(e){if(Ne&6)throw Error(Y(327));hs();var t=Ka(e,0);if(!(t&1))return en(e,ct()),null;var r=dl(e,t);if(e.tag!==0&&r===2){var o=mu(e);o!==0&&(t=o,r=Gu(e,o))}if(r===1)throw r=Oo,Ai(e,0),Lr(e,t),en(e,ct()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e,Qt,sr),en(e,ct()),null}function X1(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Is=ct()+500,kl&&ii())}}function Ri(e){Wr!==null&&Wr.tag===0&&!(Ne&6)&&hs();var t=Ne;Ne|=1;var r=In.transition,o=Me;try{if(In.transition=null,Me=1,e)return e()}finally{Me=o,In.transition=r,Ne=t,!(Ne&6)&&ii()}}function Y1(){on=ss.current,Ke(ss)}function Ai(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Gx(r)),ft!==null)for(r=ft.return;r!==null;){var o=r;switch(T1(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ja();break;case 3:As(),Ke(qt),Ke(Lt),L1();break;case 5:M1(o);break;case 4:As();break;case 13:Ke(et);break;case 19:Ke(et);break;case 10:b1(o.type._context);break;case 22:case 23:Y1()}r=r.return}if(Ct=e,ft=e=Qr(e.current,null),Rt=on=t,mt=0,Oo=null,G1=Bl=Ni=0,Qt=uo=null,yi!==null){for(t=0;t<yi.length;t++)if(r=yi[t],o=r.interleaved,o!==null){r.interleaved=null;var l=o.next,f=r.pending;if(f!==null){var g=f.next;f.next=l,o.next=g}r.pending=o}yi=null}return e}function Yg(e,t){do{var r=ft;try{if(O1(),ka.current=ll,al){for(var o=tt.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}al=!1}if(Ti=0,yt=pt=tt=null,lo=!1,To=0,z1.current=null,r===null||r.return===null){mt=1,Oo=t,ft=null;break}e:{var f=e,g=r.return,m=r,w=t;if(t=Rt,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,I=m,_=I.tag;if(!(I.mode&1)&&(_===0||_===11||_===15)){var b=I.alternate;b?(I.updateQueue=b.updateQueue,I.memoizedState=b.memoizedState,I.lanes=b.lanes):(I.updateQueue=null,I.memoizedState=null)}var F=b0(g);if(F!==null){F.flags&=-257,D0(F,g,m,f,t),F.mode&1&&O0(f,x,t),t=F,w=x;var G=t.updateQueue;if(G===null){var W=new Set;W.add(w),t.updateQueue=W}else G.add(w);break e}else{if(!(t&1)){O0(f,x,t),K1();break e}w=Error(Y(426))}}else if($e&&m.mode&1){var fe=b0(g);if(fe!==null){!(fe.flags&65536)&&(fe.flags|=256),D0(fe,g,m,f,t),N1(vs(w,m));break e}}f=w=vs(w,m),mt!==4&&(mt=2),uo===null?uo=[f]:uo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var D=Og(f,w,t);I0(f,D);break e;case 1:m=w;var T=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Kr===null||!Kr.has(N)))){f.flags|=65536,t&=-t,f.lanes|=t;var U=bg(f,m,t);I0(f,U);break e}}f=f.return}while(f!==null)}Qg(r)}catch(J){t=J,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function Kg(){var e=cl.current;return cl.current=ll,e===null?ll:e}function K1(){(mt===0||mt===3||mt===2)&&(mt=4),Ct===null||!(Ni&268435455)&&!(Bl&268435455)||Lr(Ct,Rt)}function dl(e,t){var r=Ne;Ne|=2;var o=Kg();(Ct!==e||Rt!==t)&&(sr=null,Ai(e,t));do try{pw();break}catch(l){Yg(e,l)}while(!0);if(O1(),Ne=r,cl.current=o,ft!==null)throw Error(Y(261));return Ct=null,Rt=0,mt}function pw(){for(;ft!==null;)Zg(ft)}function mw(){for(;ft!==null&&!Hm();)Zg(ft)}function Zg(e){var t=qg(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?Qg(e):ft=t,z1.current=null}function Qg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cw(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ft=null;return}}else if(r=lw(r,t,on),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);mt===0&&(mt=5)}function xi(e,t,r){var o=Me,l=In.transition;try{In.transition=null,Me=1,xw(e,t,r,o)}finally{In.transition=l,Me=o}return null}function xw(e,t,r,o){do hs();while(Wr!==null);if(Ne&6)throw Error(Y(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if($m(e,f),e===Ct&&(ft=Ct=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ca||(Ca=!0,Jg(Ya,function(){return hs(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=In.transition,In.transition=null;var g=Me;Me=1;var m=Ne;Ne|=4,z1.current=null,fw(e,r),Gg(r,e),Bx(Au),Za=!!Cu,Au=Cu=null,e.current=r,dw(r),Wm(),Ne=m,Me=g,In.transition=f}else e.current=r;if(Ca&&(Ca=!1,Wr=e,fl=l),f=e.pendingLanes,f===0&&(Kr=null),jm(r.stateNode),en(e,ct()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],o(l.value,{componentStack:l.stack,digest:l.digest});if(ul)throw ul=!1,e=Wu,Wu=null,e;return fl&1&&e.tag!==0&&hs(),f=e.pendingLanes,f&1?e===zu?fo++:(fo=0,zu=e):fo=0,ii(),null}function hs(){if(Wr!==null){var e=Oh(fl),t=In.transition,r=Me;try{if(In.transition=null,Me=16>e?16:e,Wr===null)var o=!1;else{if(e=Wr,Wr=null,fl=0,Ne&6)throw Error(Y(331));var l=Ne;for(Ne|=4,ie=e.current;ie!==null;){var f=ie,g=f.child;if(ie.flags&16){var m=f.deletions;if(m!==null){for(var w=0;w<m.length;w++){var x=m[w];for(ie=x;ie!==null;){var I=ie;switch(I.tag){case 0:case 11:case 15:co(8,I,f)}var _=I.child;if(_!==null)_.return=I,ie=_;else for(;ie!==null;){I=ie;var b=I.sibling,F=I.return;if(Hg(I),I===x){ie=null;break}if(b!==null){b.return=F,ie=b;break}ie=F}}}var G=f.alternate;if(G!==null){var W=G.child;if(W!==null){G.child=null;do{var fe=W.sibling;W.sibling=null,W=fe}while(W!==null)}}ie=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,ie=g;else e:for(;ie!==null;){if(f=ie,f.flags&2048)switch(f.tag){case 0:case 11:case 15:co(9,f,f.return)}var D=f.sibling;if(D!==null){D.return=f.return,ie=D;break e}ie=f.return}}var T=e.current;for(ie=T;ie!==null;){g=ie;var N=g.child;if(g.subtreeFlags&2064&&N!==null)N.return=g,ie=N;else e:for(g=T;ie!==null;){if(m=ie,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Ll(9,m)}}catch(J){at(m,m.return,J)}if(m===g){ie=null;break e}var U=m.sibling;if(U!==null){U.return=m.return,ie=U;break e}ie=m.return}}if(Ne=l,ii(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Nl,e)}catch{}o=!0}return o}finally{Me=r,In.transition=t}}return!1}function j0(e,t,r){t=vs(r,t),t=Og(e,t,1),e=Yr(e,t,1),t=Ht(),e!==null&&(Mo(e,1,t),en(e,t))}function at(e,t,r){if(e.tag===3)j0(e,e,r);else for(;t!==null;){if(t.tag===3){j0(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Kr===null||!Kr.has(o))){e=vs(r,e),e=bg(t,e,1),t=Yr(t,e,1),e=Ht(),t!==null&&(Mo(t,1,e),en(t,e));break}}t=t.return}}function ww(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(Rt&r)===r&&(mt===4||mt===3&&(Rt&130023424)===Rt&&500>ct()-j1?Ai(e,0):G1|=r),en(e,t)}function $g(e,t){t===0&&(e.mode&1?(t=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):t=1);var r=Ht();e=xr(e,t),e!==null&&(Mo(e,t,r),en(e,r))}function Ew(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$g(e,r)}function yw(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(Y(314))}o!==null&&o.delete(t),$g(e,r)}var qg;qg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)$t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $t=!1,aw(e,t,r);$t=!!(e.flags&131072)}else $t=!1,$e&&t.flags&1048576&&ng(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ma(e,t),e=t.pendingProps;var l=Es(t,Lt.current);ds(t,r),l=F1(null,t,o,e,l,r);var f=U1();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(o)?(f=!0,el(t)):f=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,k1(t),l.updater=Ml,t.stateNode=l,l._reactInternals=t,bu(t,o,e,r),t=Pu(null,t,o,!0,f,r)):(t.tag=0,$e&&f&&S1(t),Vt(null,t,l,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Ma(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Aw(o),e=bn(o,e),l){case 0:t=ku(null,t,o,e,r);break e;case 1:t=M0(null,t,o,e,r);break e;case 11:t=k0(null,t,o,e,r);break e;case 14:t=P0(null,t,o,bn(o.type,e),r);break e}throw Error(Y(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bn(o,l),ku(e,t,o,l,r);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bn(o,l),M0(e,t,o,l,r);case 3:e:{if(Mg(t),e===null)throw Error(Y(387));o=t.pendingProps,f=t.memoizedState,l=f.element,lg(e,t),sl(t,o,null,r);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){l=vs(Error(Y(423)),t),t=L0(e,t,o,r,l);break e}else if(o!==l){l=vs(Error(Y(424)),t),t=L0(e,t,o,r,l);break e}else for(an=Xr(t.stateNode.containerInfo.firstChild),ln=t,$e=!0,kn=null,r=og(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),o===l){t=wr(e,t,r);break e}Vt(e,t,o,r)}t=t.child}return t;case 5:return cg(t),e===null&&Nu(t),o=t.type,l=t.pendingProps,f=e!==null?e.memoizedProps:null,g=l.children,vu(o,l)?g=null:f!==null&&vu(o,f)&&(t.flags|=32),Pg(e,t),Vt(e,t,g,r),t.child;case 6:return e===null&&Nu(t),null;case 13:return Lg(e,t,r);case 4:return P1(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Cs(t,null,o,r):Vt(e,t,o,r),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bn(o,l),k0(e,t,o,l,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,f=t.memoizedProps,g=l.value,Ge(rl,o._currentValue),o._currentValue=g,f!==null)if(Bn(f.value,g)){if(f.children===l.children&&!qt.current){t=wr(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var w=m.firstContext;w!==null;){if(w.context===o){if(f.tag===1){w=dr(-1,r&-r),w.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?w.next=w:(w.next=I.next,I.next=w),x.pending=w}}f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),Ru(f.return,r,t),m.lanes|=r;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(Y(341));g.lanes|=r,m=g.alternate,m!==null&&(m.lanes|=r),Ru(g,r,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Vt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,ds(t,r),l=_n(l),o=o(l),t.flags|=1,Vt(e,t,o,r),t.child;case 14:return o=t.type,l=bn(o,t.pendingProps),l=bn(o.type,l),P0(e,t,o,l,r);case 15:return Dg(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bn(o,l),Ma(e,t),t.tag=1,Jt(o)?(e=!0,el(t)):e=!1,ds(t,r),Rg(t,o,l),bu(t,o,l,r),Pu(null,t,o,!0,e,r);case 19:return Bg(e,t,r);case 22:return kg(e,t,r)}throw Error(Y(156,t.tag))};function Jg(e,t){return Sh(e,t)}function Cw(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,r,o){return new Cw(e,t,r,o)}function Z1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aw(e){if(typeof e=="function")return Z1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===g1)return 11;if(e===p1)return 14}return 2}function Qr(e,t){var r=e.alternate;return r===null?(r=vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fa(e,t,r,o,l,f){var g=2;if(o=e,typeof e=="function")Z1(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Zi:return vi(r.children,l,f,t);case h1:g=8,l|=8;break;case tu:return e=vn(12,r,t,l|2),e.elementType=tu,e.lanes=f,e;case nu:return e=vn(13,r,t,l),e.elementType=nu,e.lanes=f,e;case ru:return e=vn(19,r,t,l),e.elementType=ru,e.lanes=f,e;case ch:return Fl(r,l,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ah:g=10;break e;case lh:g=9;break e;case g1:g=11;break e;case p1:g=14;break e;case kr:g=16,o=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=vn(g,r,t,l),t.elementType=e,t.type=o,t.lanes=f,t}function vi(e,t,r,o){return e=vn(7,e,o,t),e.lanes=r,e}function Fl(e,t,r,o){return e=vn(22,e,o,t),e.elementType=ch,e.lanes=r,e.stateNode={isHidden:!1},e}function zc(e,t,r){return e=vn(6,e,null,t),e.lanes=r,e}function Gc(e,t,r){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vw(e,t,r,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Q1(e,t,r,o,l,f,g,m,w){return e=new vw(e,t,r,m,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=vn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},k1(f),e}function Iw(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function ep(e){if(!e)return ti;e=e._reactInternals;e:{if(Mi(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Jt(r))return eg(e,r,t)}return t}function tp(e,t,r,o,l,f,g,m,w){return e=Q1(r,o,!0,e,l,f,g,m,w),e.context=ep(null),r=e.current,o=Ht(),l=Zr(r),f=dr(o,l),f.callback=t??null,Yr(r,f,l),e.current.lanes=l,Mo(e,l,o),en(e,o),e}function Ul(e,t,r,o){var l=t.current,f=Ht(),g=Zr(l);return r=ep(r),t.context===null?t.context=r:t.pendingContext=r,t=dr(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Yr(l,t,g),e!==null&&(Ln(e,l,g,f),Da(e,l,g)),g}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $1(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function _w(){return null}var np=typeof reportError=="function"?reportError:function(e){console.error(e)};function q1(e){this._internalRoot=e}Vl.prototype.render=q1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Ul(e,t,null,null)};Vl.prototype.unmount=q1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ri(function(){Ul(null,e,null,null)}),t[mr]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mr.length&&t!==0&&t<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&Mh(e)}};function J1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function Sw(e,t,r,o,l){if(l){if(typeof o=="function"){var f=o;o=function(){var x=hl(g);f.call(x)}}var g=tp(t,o,e,0,null,!1,!1,"",Y0);return e._reactRootContainer=g,e[mr]=g.current,Ao(e.nodeType===8?e.parentNode:e),Ri(),g}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var m=o;o=function(){var x=hl(w);m.call(x)}}var w=Q1(e,0,!1,null,null,!1,!1,"",Y0);return e._reactRootContainer=w,e[mr]=w.current,Ao(e.nodeType===8?e.parentNode:e),Ri(function(){Ul(t,w,r,o)}),w}function Wl(e,t,r,o,l){var f=r._reactRootContainer;if(f){var g=f;if(typeof l=="function"){var m=l;l=function(){var w=hl(g);m.call(w)}}Ul(t,g,e,l)}else g=Sw(r,t,e,l,o);return hl(g)}bh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Js(t.pendingLanes);r!==0&&(w1(t,r|1),en(t,ct()),!(Ne&6)&&(Is=ct()+500,ii()))}break;case 13:Ri(function(){var o=xr(e,1);if(o!==null){var l=Ht();Ln(o,e,1,l)}}),$1(e,1)}};E1=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var r=Ht();Ln(t,e,134217728,r)}$1(e,134217728)}};Dh=function(e){if(e.tag===13){var t=Zr(e),r=xr(e,t);if(r!==null){var o=Ht();Ln(r,e,t,o)}$1(e,t)}};kh=function(){return Me};Ph=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};hu=function(e,t,r){switch(t){case"input":if(ou(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var l=Dl(o);if(!l)throw Error(Y(90));fh(o),ou(o,l)}}}break;case"textarea":hh(e,r);break;case"select":t=r.value,t!=null&&ls(e,!!r.multiple,t,!1)}};yh=X1;Ch=Ri;var Tw={usingClientEntryPoint:!1,Events:[Bo,Ji,Dl,wh,Eh,X1]},Qs={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nw={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ih(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Nl=Aa.inject(Nw),qn=Aa}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw;un.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(t))throw Error(Y(200));return Iw(e,t,null,r)};un.createRoot=function(e,t){if(!J1(e))throw Error(Y(299));var r=!1,o="",l=np;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Q1(e,1,!1,null,null,r,!1,o,l),e[mr]=t.current,Ao(e.nodeType===8?e.parentNode:e),new q1(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Ih(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return Ri(e)};un.hydrate=function(e,t,r){if(!Hl(t))throw Error(Y(200));return Wl(null,e,t,!0,r)};un.hydrateRoot=function(e,t,r){if(!J1(e))throw Error(Y(405));var o=r!=null&&r.hydratedSources||null,l=!1,f="",g=np;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=tp(t,null,e,1,r??null,l,!1,f,g),e[mr]=t.current,Ao(e),o)for(e=0;e<o.length;e++)r=o[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Vl(t)};un.render=function(e,t,r){if(!Hl(t))throw Error(Y(200));return Wl(null,e,t,!1,r)};un.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(Y(40));return e._reactRootContainer?(Ri(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};un.unstable_batchedUpdates=X1;un.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!Hl(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Wl(e,t,r,!1,o)};un.version="18.3.1-next-f1338f8080-20240426";function rp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rp)}catch(e){console.error(e)}}rp(),rh.exports=un;var Rw=rh.exports,K0=Rw;Jc.createRoot=K0.createRoot,Jc.hydrateRoot=K0.hydrateRoot;var zl={},ip={exports:{}},Ow="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bw=Ow,Dw=bw;function sp(){}function op(){}op.resetWarningCache=sp;var kw=function(){function e(o,l,f,g,m,w){if(w!==Dw){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:op,resetWarningCache:sp};return r.PropTypes=r,r};ip.exports=kw();var ap=ip.exports,lp={L:1,M:0,Q:3,H:2},cp={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Pw=cp;function up(e){this.mode=Pw.MODE_8BIT_BYTE,this.data=e}up.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var Mw=up,va=lp;function Zn(e,t){this.totalCount=e,this.dataCount=t}Zn.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Zn.getRSBlocks=function(e,t){var r=Zn.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=r.length/3,l=new Array,f=0;f<o;f++)for(var g=r[f*3+0],m=r[f*3+1],w=r[f*3+2],x=0;x<g;x++)l.push(new Zn(m,w));return l};Zn.getRsBlockTable=function(e,t){switch(t){case va.L:return Zn.RS_BLOCK_TABLE[(e-1)*4+0];case va.M:return Zn.RS_BLOCK_TABLE[(e-1)*4+1];case va.Q:return Zn.RS_BLOCK_TABLE[(e-1)*4+2];case va.H:return Zn.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var Lw=Zn;function fp(){this.buffer=new Array,this.length=0}fp.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Bw=fp,Pn={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Pn.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Pn.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Nt=0;Nt<8;Nt++)Pn.EXP_TABLE[Nt]=1<<Nt;for(var Nt=8;Nt<256;Nt++)Pn.EXP_TABLE[Nt]=Pn.EXP_TABLE[Nt-4]^Pn.EXP_TABLE[Nt-5]^Pn.EXP_TABLE[Nt-6]^Pn.EXP_TABLE[Nt-8];for(var Nt=0;Nt<255;Nt++)Pn.LOG_TABLE[Pn.EXP_TABLE[Nt]]=Nt;var dp=Pn,pi=dp;function Ua(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var o=0;o<e.length-r;o++)this.num[o]=e[o+r]}Ua.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)t[r+o]^=pi.gexp(pi.glog(this.get(r))+pi.glog(e.get(o)));return new Ua(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=pi.glog(this.get(0))-pi.glog(e.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(var o=0;o<e.getLength();o++)r[o]^=pi.gexp(pi.glog(e.get(o))+t);return new Ua(r,0).mod(e)}};var hp=Ua,En=cp,Z0=hp,Fw=dp,br={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},St={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;St.getBCHDigit(t)-St.getBCHDigit(St.G15)>=0;)t^=St.G15<<St.getBCHDigit(t)-St.getBCHDigit(St.G15);return(e<<10|t)^St.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;St.getBCHDigit(t)-St.getBCHDigit(St.G18)>=0;)t^=St.G18<<St.getBCHDigit(t)-St.getBCHDigit(St.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return St.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case br.PATTERN000:return(t+r)%2==0;case br.PATTERN001:return t%2==0;case br.PATTERN010:return r%3==0;case br.PATTERN011:return(t+r)%3==0;case br.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case br.PATTERN101:return t*r%2+t*r%3==0;case br.PATTERN110:return(t*r%2+t*r%3)%2==0;case br.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Z0([1],0),r=0;r<e;r++)t=t.multiply(new Z0([1,Fw.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case En.MODE_NUMBER:return 10;case En.MODE_ALPHA_NUM:return 9;case En.MODE_8BIT_BYTE:return 8;case En.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case En.MODE_NUMBER:return 12;case En.MODE_ALPHA_NUM:return 11;case En.MODE_8BIT_BYTE:return 16;case En.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case En.MODE_NUMBER:return 14;case En.MODE_ALPHA_NUM:return 13;case En.MODE_8BIT_BYTE:return 16;case En.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,o=0;o<t;o++)for(var l=0;l<t;l++){for(var f=0,g=e.isDark(o,l),m=-1;m<=1;m++)if(!(o+m<0||t<=o+m))for(var w=-1;w<=1;w++)l+w<0||t<=l+w||m==0&&w==0||g==e.isDark(o+m,l+w)&&f++;f>5&&(r+=3+f-5)}for(var o=0;o<t-1;o++)for(var l=0;l<t-1;l++){var x=0;e.isDark(o,l)&&x++,e.isDark(o+1,l)&&x++,e.isDark(o,l+1)&&x++,e.isDark(o+1,l+1)&&x++,(x==0||x==4)&&(r+=3)}for(var o=0;o<t;o++)for(var l=0;l<t-6;l++)e.isDark(o,l)&&!e.isDark(o,l+1)&&e.isDark(o,l+2)&&e.isDark(o,l+3)&&e.isDark(o,l+4)&&!e.isDark(o,l+5)&&e.isDark(o,l+6)&&(r+=40);for(var l=0;l<t;l++)for(var o=0;o<t-6;o++)e.isDark(o,l)&&!e.isDark(o+1,l)&&e.isDark(o+2,l)&&e.isDark(o+3,l)&&e.isDark(o+4,l)&&!e.isDark(o+5,l)&&e.isDark(o+6,l)&&(r+=40);for(var I=0,l=0;l<t;l++)for(var o=0;o<t;o++)e.isDark(o,l)&&I++;var _=Math.abs(100*I/t/t-50)/5;return r+=_*10,r}},Uw=St,Vw=Mw,gp=Lw,pp=Bw,si=Uw,Hw=hp;function Qn(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var dn=Qn.prototype;dn.addData=function(e){var t=new Vw(e);this.dataList.push(t),this.dataCache=null};dn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};dn.getModuleCount=function(){return this.moduleCount};dn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=gp.getRSBlocks(e,this.errorCorrectLevel),r=new pp,o=0,l=0;l<t.length;l++)o+=t[l].dataCount;for(var l=0;l<this.dataList.length;l++){var f=this.dataList[l];r.put(f.mode,4),r.put(f.getLength(),si.getLengthInBits(f.mode,e)),f.write(r)}if(r.getLengthInBits()<=o*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};dn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Qn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};dn.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(0<=r&&r<=6&&(o==0||o==6)||0<=o&&o<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[e+r][t+o]=!0:this.modules[e+r][t+o]=!1)};dn.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=si.getLostPoint(this);(r==0||e>o)&&(e=o,t=r)}return t};dn.createMovieClip=function(e,t,r){var o=e.createEmptyMovieClip(t,r),l=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*l,m=0;m<this.modules[f].length;m++){var w=m*l,x=this.modules[f][m];x&&(o.beginFill(0,100),o.moveTo(w,g),o.lineTo(w+l,g),o.lineTo(w+l,g+l),o.lineTo(w,g+l),o.endFill())}return o};dn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};dn.setupPositionAdjustPattern=function(){for(var e=si.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var o=e[t],l=e[r];if(this.modules[o][l]==null)for(var f=-2;f<=2;f++)for(var g=-2;g<=2;g++)f==-2||f==2||g==-2||g==2||f==0&&g==0?this.modules[o+f][l+g]=!0:this.modules[o+f][l+g]=!1}};dn.setupTypeNumber=function(e){for(var t=si.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;r<18;r++){var o=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}};dn.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,o=si.getBCHTypeInfo(r),l=0;l<15;l++){var f=!e&&(o>>l&1)==1;l<6?this.modules[l][8]=f:l<8?this.modules[l+1][8]=f:this.modules[this.moduleCount-15+l][8]=f}for(var l=0;l<15;l++){var f=!e&&(o>>l&1)==1;l<8?this.modules[8][this.moduleCount-l-1]=f:l<9?this.modules[8][15-l-1+1]=f:this.modules[8][15-l-1]=f}this.modules[this.moduleCount-8][8]=!e};dn.mapData=function(e,t){for(var r=-1,o=this.moduleCount-1,l=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var m=0;m<2;m++)if(this.modules[o][g-m]==null){var w=!1;f<e.length&&(w=(e[f]>>>l&1)==1);var x=si.getMask(t,o,g-m);x&&(w=!w),this.modules[o][g-m]=w,l--,l==-1&&(f++,l=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}};Qn.PAD0=236;Qn.PAD1=17;Qn.createData=function(e,t,r){for(var o=gp.getRSBlocks(e,t),l=new pp,f=0;f<r.length;f++){var g=r[f];l.put(g.mode,4),l.put(g.getLength(),si.getLengthInBits(g.mode,e)),g.write(l)}for(var m=0,f=0;f<o.length;f++)m+=o[f].dataCount;if(l.getLengthInBits()>m*8)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+m*8+")");for(l.getLengthInBits()+4<=m*8&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=m*8||(l.put(Qn.PAD0,8),l.getLengthInBits()>=m*8));)l.put(Qn.PAD1,8);return Qn.createBytes(l,o)};Qn.createBytes=function(e,t){for(var r=0,o=0,l=0,f=new Array(t.length),g=new Array(t.length),m=0;m<t.length;m++){var w=t[m].dataCount,x=t[m].totalCount-w;o=Math.max(o,w),l=Math.max(l,x),f[m]=new Array(w);for(var I=0;I<f[m].length;I++)f[m][I]=255&e.buffer[I+r];r+=w;var _=si.getErrorCorrectPolynomial(x),b=new Hw(f[m],_.getLength()-1),F=b.mod(_);g[m]=new Array(_.getLength()-1);for(var I=0;I<g[m].length;I++){var G=I+F.getLength()-g[m].length;g[m][I]=G>=0?F.get(G):0}}for(var W=0,I=0;I<t.length;I++)W+=t[I].totalCount;for(var fe=new Array(W),D=0,I=0;I<o;I++)for(var m=0;m<t.length;m++)I<f[m].length&&(fe[D++]=f[m][I]);for(var I=0;I<l;I++)for(var m=0;m<t.length;m++)I<g[m].length&&(fe[D++]=g[m][I]);return fe};var Ww=Qn,ef={};Object.defineProperty(ef,"__esModule",{value:!0});var zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Gw=ap,yn=xp(Gw),mp=ve,Ia=xp(mp);function xp(e){return e&&e.__esModule?e:{default:e}}function jw(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}var Xw={bgColor:yn.default.oneOfType([yn.default.object,yn.default.string]).isRequired,bgD:yn.default.string.isRequired,fgColor:yn.default.oneOfType([yn.default.object,yn.default.string]).isRequired,fgD:yn.default.string.isRequired,size:yn.default.number.isRequired,title:yn.default.string,viewBoxSize:yn.default.number.isRequired,xmlns:yn.default.string},tf=(0,mp.forwardRef)(function(e,t){var r=e.bgColor,o=e.bgD,l=e.fgD,f=e.fgColor,g=e.size,m=e.title,w=e.viewBoxSize,x=e.xmlns,I=x===void 0?"http://www.w3.org/2000/svg":x,_=jw(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ia.default.createElement("svg",zw({},_,{height:g,ref:t,viewBox:"0 0 "+w+" "+w,width:g,xmlns:I}),m?Ia.default.createElement("title",null,m):null,Ia.default.createElement("path",{d:o,fill:r}),Ia.default.createElement("path",{d:l,fill:f}))});tf.displayName="QRCodeSvg";tf.propTypes=Xw;ef.default=tf;Object.defineProperty(zl,"__esModule",{value:!0});zl.QRCode=void 0;var Yw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Kw=ap,rr=Uo(Kw),Zw=lp,Qw=Uo(Zw),$w=Ww,qw=Uo($w),wp=ve,Jw=Uo(wp),eE=ef,tE=Uo(eE);function Uo(e){return e&&e.__esModule?e:{default:e}}function nE(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}var rE={bgColor:rr.default.oneOfType([rr.default.object,rr.default.string]),fgColor:rr.default.oneOfType([rr.default.object,rr.default.string]),level:rr.default.string,size:rr.default.number,value:rr.default.string.isRequired},Gl=(0,wp.forwardRef)(function(e,t){var r=e.bgColor,o=r===void 0?"#FFFFFF":r,l=e.fgColor,f=l===void 0?"#000000":l,g=e.level,m=g===void 0?"L":g,w=e.size,x=w===void 0?256:w,I=e.value,_=nE(e,["bgColor","fgColor","level","size","value"]),b=new qw.default(-1,Qw.default[m]);b.addData(I),b.make();var F=b.modules;return Jw.default.createElement(tE.default,Yw({},_,{bgColor:o,bgD:F.map(function(G,W){return G.map(function(fe,D){return fe?"":"M "+D+" "+W+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:f,fgD:F.map(function(G,W){return G.map(function(fe,D){return fe?"M "+D+" "+W+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:x,viewBoxSize:F.length}))});zl.QRCode=Gl;Gl.displayName="QRCode";Gl.propTypes=rE;var iE=zl.default=Gl;function sE(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),o=r.createElement("base"),l=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(l),t&&(o.href=t),l.href=e,l.href}const oE=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function hr(e){const t=[];for(let r=0,o=e.length;r<o;r++)t.push(e[r]);return t}function gl(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function aE(e){const t=gl(e,"border-left-width"),r=gl(e,"border-right-width");return e.clientWidth+t+r}function lE(e){const t=gl(e,"border-top-width"),r=gl(e,"border-bottom-width");return e.clientHeight+t+r}function Ep(e,t={}){const r=t.width||aE(e),o=t.height||lE(e);return{width:r,height:o}}function cE(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const rn=16384;function uE(e){(e.width>rn||e.height>rn)&&(e.width>rn&&e.height>rn?e.width>e.height?(e.height*=rn/e.width,e.width=rn):(e.width*=rn/e.height,e.height=rn):e.width>rn?(e.height*=rn/e.width,e.width=rn):(e.width*=rn/e.height,e.height=rn))}function pl(e){return new Promise((t,r)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=r,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function fE(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function dE(e,t,r){const o="http://www.w3.org/2000/svg",l=document.createElementNS(o,"svg"),f=document.createElementNS(o,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${r}`),l.setAttribute("viewBox",`0 0 ${t} ${r}`),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("externalResourcesRequired","true"),l.appendChild(f),f.appendChild(e),fE(l)}const tn=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||tn(r,t)};function hE(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function gE(e){return hr(e).map(t=>{const r=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${r}${o?" !important":""};`}).join(" ")}function pE(e,t,r){const o=`.${e}:${t}`,l=r.cssText?hE(r):gE(r);return document.createTextNode(`${o}{${l}}`)}function Q0(e,t,r){const o=window.getComputedStyle(e,r),l=o.getPropertyValue("content");if(l===""||l==="none")return;const f=oE();try{t.className=`${t.className} ${f}`}catch{return}const g=document.createElement("style");g.appendChild(pE(f,r,o)),t.appendChild(g)}function mE(e,t){Q0(e,t,":before"),Q0(e,t,":after")}const $0="application/font-woff",q0="image/jpeg",xE={woff:$0,woff2:$0,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:q0,jpeg:q0,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function wE(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function nf(e){const t=wE(e).toLowerCase();return xE[t]||""}function EE(e){return e.split(/,/)[1]}function Xu(e){return e.search(/^(data:)/)!==-1}function yE(e,t){return`data:${t};base64,${e}`}async function yp(e,t,r){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const l=await o.blob();return new Promise((f,g)=>{const m=new FileReader;m.onerror=g,m.onloadend=()=>{try{f(r({res:o,result:m.result}))}catch(w){g(w)}},m.readAsDataURL(l)})}const jc={};function CE(e,t,r){let o=e.replace(/\?.*/,"");return r&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function rf(e,t,r){const o=CE(e,t,r.includeQueryParams);if(jc[o]!=null)return jc[o];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const f=await yp(e,r.fetchRequestInit,({res:g,result:m})=>(t||(t=g.headers.get("Content-Type")||""),EE(m)));l=yE(f,t)}catch(f){l=r.imagePlaceholder||"";let g=`Failed to fetch resource: ${e}`;f&&(g=typeof f=="string"?f:f.message),g&&console.warn(g)}return jc[o]=l,l}async function AE(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):pl(t)}async function vE(e,t){if(e.currentSrc){const f=document.createElement("canvas"),g=f.getContext("2d");f.width=e.clientWidth,f.height=e.clientHeight,g==null||g.drawImage(e,0,0,f.width,f.height);const m=f.toDataURL();return pl(m)}const r=e.poster,o=nf(r),l=await rf(r,o,t);return pl(l)}async function IE(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await jl(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function _E(e,t){return tn(e,HTMLCanvasElement)?AE(e):tn(e,HTMLVideoElement)?vE(e,t):tn(e,HTMLIFrameElement)?IE(e):e.cloneNode(!1)}const SE=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function TE(e,t,r){var o,l;let f=[];return SE(e)&&e.assignedNodes?f=hr(e.assignedNodes()):tn(e,HTMLIFrameElement)&&(!((o=e.contentDocument)===null||o===void 0)&&o.body)?f=hr(e.contentDocument.body.childNodes):f=hr(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),f.length===0||tn(e,HTMLVideoElement)||await f.reduce((g,m)=>g.then(()=>jl(m,r)).then(w=>{w&&t.appendChild(w)}),Promise.resolve()),t}function NE(e,t){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):hr(o).forEach(l=>{let f=o.getPropertyValue(l);l==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),tn(e,HTMLIFrameElement)&&l==="display"&&f==="inline"&&(f="block"),l==="d"&&t.getAttribute("d")&&(f=`path(${t.getAttribute("d")})`),r.setProperty(l,f,o.getPropertyPriority(l))})}function RE(e,t){tn(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),tn(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function OE(e,t){if(tn(e,HTMLSelectElement)){const r=t,o=Array.from(r.children).find(l=>e.value===l.getAttribute("value"));o&&o.setAttribute("selected","")}}function bE(e,t){return tn(t,Element)&&(NE(e,t),mE(e,t),RE(e,t),OE(e,t)),t}async function DE(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const o={};for(let f=0;f<r.length;f++){const m=r[f].getAttribute("xlink:href");if(m){const w=e.querySelector(m),x=document.querySelector(m);!w&&x&&!o[m]&&(o[m]=await jl(x,t,!0))}}const l=Object.values(o);if(l.length){const f="http://www.w3.org/1999/xhtml",g=document.createElementNS(f,"svg");g.setAttribute("xmlns",f),g.style.position="absolute",g.style.width="0",g.style.height="0",g.style.overflow="hidden",g.style.display="none";const m=document.createElementNS(f,"defs");g.appendChild(m);for(let w=0;w<l.length;w++)m.appendChild(l[w]);e.appendChild(g)}return e}async function jl(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>_E(o,t)).then(o=>TE(e,o,t)).then(o=>bE(e,o)).then(o=>DE(o,t))}const Cp=/url\((['"]?)([^'"]+?)\1\)/g,kE=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,PE=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ME(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function LE(e){const t=[];return e.replace(Cp,(r,o,l)=>(t.push(l),r)),t.filter(r=>!Xu(r))}async function BE(e,t,r,o,l){try{const f=r?sE(t,r):t,g=nf(t);let m;return l||(m=await rf(f,g,o)),e.replace(ME(t),`$1${m}$3`)}catch{}return e}function FE(e,{preferredFontFormat:t}){return t?e.replace(PE,r=>{for(;;){const[o,,l]=kE.exec(r)||[];if(!l)return"";if(l===t)return`src: ${o};`}}):e}function Ap(e){return e.search(Cp)!==-1}async function vp(e,t,r){if(!Ap(e))return e;const o=FE(e,r);return LE(o).reduce((f,g)=>f.then(m=>BE(m,g,t,r)),Promise.resolve(o))}async function _a(e,t,r){var o;const l=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(l){const f=await vp(l,null,r);return t.style.setProperty(e,f,t.style.getPropertyPriority(e)),!0}return!1}async function UE(e,t){await _a("background",e,t)||await _a("background-image",e,t),await _a("mask",e,t)||await _a("mask-image",e,t)}async function VE(e,t){const r=tn(e,HTMLImageElement);if(!(r&&!Xu(e.src))&&!(tn(e,SVGImageElement)&&!Xu(e.href.baseVal)))return;const o=r?e.src:e.href.baseVal,l=await rf(o,nf(o),t);await new Promise((f,g)=>{e.onload=f,e.onerror=g;const m=e;m.decode&&(m.decode=f),m.loading==="lazy"&&(m.loading="eager"),r?(e.srcset="",e.src=l):e.href.baseVal=l})}async function HE(e,t){const o=hr(e.childNodes).map(l=>Ip(l,t));await Promise.all(o).then(()=>e)}async function Ip(e,t){tn(e,Element)&&(await UE(e,t),await VE(e,t),await HE(e,t))}function WE(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(l=>{r[l]=o[l]}),e}const J0={};async function ed(e){let t=J0[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},J0[e]=t,t}async function td(e,t){let r=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,f=(r.match(/url\([^)]+\)/g)||[]).map(async g=>{let m=g.replace(o,"$1");return m.startsWith("https://")||(m=new URL(m,e.url).href),yp(m,t.fetchRequestInit,({result:w})=>(r=r.replace(g,`url(${w})`),[g,w]))});return Promise.all(f).then(()=>r)}function nd(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(r,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const w=l.exec(o);if(w===null)break;t.push(w[0])}o=o.replace(l,"");const f=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,g="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",m=new RegExp(g,"gi");for(;;){let w=f.exec(o);if(w===null){if(w=m.exec(o),w===null)break;f.lastIndex=m.lastIndex}else m.lastIndex=f.lastIndex;t.push(w[0])}return t}async function zE(e,t){const r=[],o=[];return e.forEach(l=>{if("cssRules"in l)try{hr(l.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let m=g+1;const w=f.href,x=ed(w).then(I=>td(I,t)).then(I=>nd(I).forEach(_=>{try{l.insertRule(_,_.startsWith("@import")?m+=1:l.cssRules.length)}catch(b){console.error("Error inserting rule from remote css",{rule:_,error:b})}})).catch(I=>{console.error("Error loading remote css",I.toString())});o.push(x)}})}catch(f){const g=e.find(m=>m.href==null)||document.styleSheets[0];l.href!=null&&o.push(ed(l.href).then(m=>td(m,t)).then(m=>nd(m).forEach(w=>{g.insertRule(w,l.cssRules.length)})).catch(m=>{console.error("Error loading remote stylesheet",m)})),console.error("Error inlining remote css file",f)}}),Promise.all(o).then(()=>(e.forEach(l=>{if("cssRules"in l)try{hr(l.cssRules||[]).forEach(f=>{r.push(f)})}catch(f){console.error(`Error while reading CSS rules from ${l.href}`,f)}}),r))}function GE(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Ap(t.style.getPropertyValue("src")))}async function jE(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=hr(e.ownerDocument.styleSheets),o=await zE(r,t);return GE(o)}async function XE(e,t){const r=await jE(e,t);return(await Promise.all(r.map(l=>{const f=l.parentStyleSheet?l.parentStyleSheet.href:null;return vp(l.cssText,f,t)}))).join(`
`)}async function YE(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await XE(e,t);if(r){const o=document.createElement("style"),l=document.createTextNode(r);o.appendChild(l),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function KE(e,t={}){const{width:r,height:o}=Ep(e,t),l=await jl(e,t,!0);return await YE(l,t),await Ip(l,t),WE(l,t),await dE(l,r,o)}async function ZE(e,t={}){const{width:r,height:o}=Ep(e,t),l=await KE(e,t),f=await pl(l),g=document.createElement("canvas"),m=g.getContext("2d"),w=t.pixelRatio||cE(),x=t.canvasWidth||r,I=t.canvasHeight||o;return g.width=x*w,g.height=I*w,t.skipAutoScale||uE(g),g.style.width=`${x}`,g.style.height=`${I}`,t.backgroundColor&&(m.fillStyle=t.backgroundColor,m.fillRect(0,0,g.width,g.height)),m.drawImage(f,0,0,g.width,g.height),g}async function QE(e,t={}){return(await ZE(e,t)).toDataURL()}const Xl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAHwAAAABwh9X2AAAB8UlEQVRIDbWXTUoDMRzFGy/gRqlK/UJ6AcFTuBEEcdH2Fp5BcOMRhI6g4C0EEezKA1Qrii7sHcb3pskwnUky/4yZwGuSycfv5Wsm7aRpegI9QTfQWqfFgP67UAI9QscKPy/grWrmFPFIKTWP7QGcLvpMoF3d93wFiQ+dYXQAjVEx6gxYwGTNOPIeEnS0xSc6RJsBB/gTnKEirC0DXrBSPxm8DQN1YDJzeEwDEnAFHsOAFGyF/8dACNgJb2IgFOyFhxhoAq6FSww0BYvgNQYuUH4NmVcmqy9eIDjHzPjC0lHzVcQIbW/CchMxmA3FcFauMRAEDoZrA0eIb5kuhTN8DV9Lz7xZftXEASPfROVLR4MrlK87yqyPxdOuwQl62bb2tHg4QzTADPx66uRFopEDvIEWY6gI5hoPoG/IhD0keFMRzUAtXIM54h1DQGw21wTpIVQ0sI+8yIB32mvA+TlGPdsxfKcx3xI44VIwAFloYsAKDwULDHATVi6llTUHmLdMbi7bGudTbYDFGIAv5F17oHIpXRq5BnNzNXpXGyOOJXijseIM5PBY4BADGTw2WGqA9/byPwm2NefYu8YG4osdSzBFmxHhd0gcFjqIBjZ9Ogw8c7f3TSXE0cHs23EK+vxGn0MT6B7iV6u1gP570ANE3ukfy+1f7S7E62EAAAAASUVORK5CYII=";function $E({reference:e}){const[t,r]=ve.useState(""),[o,l]=ve.useState(""),[f,g]=ve.useState(""),m=ve.useRef(null),w=()=>{QE(m.current).then(function(x){const I=document.createElement("a");I.href=x,I.download="qr-code.png",I.click()}).catch(function(x){console.error("Error generating QR code:",x)})};return H.jsxs("dialog",{ref:e,className:"QRPrompt",children:[H.jsx("img",{src:Xl,alt:"",className:"XMark",onClick:()=>{var x;return[r(""),(x=e.current)==null?void 0:x.close()]}}),H.jsx("h2",{children:"Enter Student Info"}),H.jsx("label",{htmlFor:"",children:"Name: "}),H.jsx("input",{type:"text",onChange:x=>{l(x.target.value),r(`${x.target.value}|${f}`)},placeholder:"Name"}),H.jsx("br",{}),H.jsx("br",{}),H.jsx("label",{htmlFor:"",children:"Id: "}),H.jsx("input",{type:"text",onChange:x=>{g(x.target.value),r(`${o}|${x.target.value}`)},placeholder:"Id"}),H.jsx("br",{}),H.jsx("br",{}),H.jsx("div",{className:"qrcode__download",ref:m,children:H.jsx("div",{className:"qrcode__image",children:H.jsx(iE,{value:t,size:100})})}),H.jsx("br",{}),H.jsx("button",{className:"actionBtn",onClick:()=>{w()},children:"Download QR Code"})]})}var rd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=function(e){const t=[];let r=0;for(let o=0;o<e.length;o++){let l=e.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},qE=function(e){const t=[];let r=0,o=0;for(;r<e.length;){const l=e[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const f=e[r++];t[o++]=String.fromCharCode((l&31)<<6|f&63)}else if(l>239&&l<365){const f=e[r++],g=e[r++],m=e[r++],w=((l&7)<<18|(f&63)<<12|(g&63)<<6|m&63)-65536;t[o++]=String.fromCharCode(55296+(w>>10)),t[o++]=String.fromCharCode(56320+(w&1023))}else{const f=e[r++],g=e[r++];t[o++]=String.fromCharCode((l&15)<<12|(f&63)<<6|g&63)}}return t.join("")},Sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<e.length;l+=3){const f=e[l],g=l+1<e.length,m=g?e[l+1]:0,w=l+2<e.length,x=w?e[l+2]:0,I=f>>2,_=(f&3)<<4|m>>4;let b=(m&15)<<2|x>>6,F=x&63;w||(F=64,g||(b=64)),o.push(r[I],r[_],r[b],r[F])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_p(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<e.length;){const f=r[e.charAt(l++)],m=l<e.length?r[e.charAt(l)]:0;++l;const x=l<e.length?r[e.charAt(l)]:64;++l;const _=l<e.length?r[e.charAt(l)]:64;if(++l,f==null||m==null||x==null||_==null)throw new JE;const b=f<<2|m>>4;if(o.push(b),x!==64){const F=m<<4&240|x>>2;if(o.push(F),_!==64){const G=x<<6&192|_;o.push(G)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e3=function(e){const t=_p(e);return Sp.encodeByteArray(t,!0)},Tp=function(e){return e3(e).replace(/\./g,"")},Np=function(e){try{return Sp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=()=>t3().__FIREBASE_DEFAULTS__,r3=()=>{if(typeof process>"u"||typeof rd>"u")return;const e=rd.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},i3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Np(e[1]);return t&&JSON.parse(t)},sf=()=>{try{return n3()||r3()||i3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Rp=e=>{var t,r;return(r=(t=sf())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},s3=e=>{const t=Rp(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Op=()=>{var e;return(e=sf())===null||e===void 0?void 0:e.config},bp=e=>{var t;return(t=sf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function l3(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function c3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u3(){const e=Bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function f3(){try{return typeof indexedDB=="object"}catch{return!1}}function d3(){return new Promise((e,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),e(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var f;t(((f=l.error)===null||f===void 0?void 0:f.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="FirebaseError";class Cr extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=h3,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,f=this.errors[t],g=f?g3(f,o):"Error",m=`${this.serviceName}: ${g} (${l}).`;return new Cr(l,m,o)}}function g3(e,t){return e.replace(p3,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const p3=/\{\$([^}]+)}/g;function m3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ml(e,t){if(e===t)return!0;const r=Object.keys(e),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const f=e[l],g=t[l];if(id(f)&&id(g)){if(!ml(f,g))return!1}else if(f!==g)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function id(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){const t=[];for(const[r,o]of Object.entries(e))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function to(e){const t={};return e.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[l,f]=o.split("=");t[decodeURIComponent(l)]=decodeURIComponent(f)}}),t}function no(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function x3(e,t){const r=new w3(e,t);return r.subscribe.bind(r)}class w3{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,o){let l;if(t===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");E3(t,["next","error","complete"])?l=t:l={next:t,error:r,complete:o},l.next===void 0&&(l.next=Xc),l.error===void 0&&(l.error=Xc),l.complete===void 0&&(l.complete=Xc);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E3(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Xc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e&&e._delegate?e._delegate:e}class Oi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new o3;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(f){if(l)return null;throw f}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A3(t))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const f=this.getOrInitializeService({instanceIdentifier:l});o.resolve(f)}catch{}}}}clearInstance(t=wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wi){return this.instances.has(t)}getOptions(t=wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[f,g]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);o===m&&g.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),f=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;f.add(t),this.onInitCallbacks.set(l,f);const g=this.instances.get(l);return g&&t(g,l),()=>{f.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:C3(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=wi){return this.component?this.component.multipleInstances?t:wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C3(e){return e===wi?void 0:e}function A3(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new y3(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ve||(Ve={}));const I3={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},_3=Ve.INFO,S3={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},T3=(e,t,...r)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),l=S3[t];if(l)console[l](`[${o}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dp{constructor(t){this.name=t,this._logLevel=_3,this._logHandler=T3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?I3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...t),this._logHandler(this,Ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...t),this._logHandler(this,Ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...t),this._logHandler(this,Ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...t),this._logHandler(this,Ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...t),this._logHandler(this,Ve.ERROR,...t)}}const N3=(e,t)=>t.some(r=>e instanceof r);let sd,od;function R3(){return sd||(sd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O3(){return od||(od=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kp=new WeakMap,Yu=new WeakMap,Pp=new WeakMap,Yc=new WeakMap,of=new WeakMap;function b3(e){const t=new Promise((r,o)=>{const l=()=>{e.removeEventListener("success",f),e.removeEventListener("error",g)},f=()=>{r($r(e.result)),l()},g=()=>{o(e.error),l()};e.addEventListener("success",f),e.addEventListener("error",g)});return t.then(r=>{r instanceof IDBCursor&&kp.set(r,e)}).catch(()=>{}),of.set(t,e),t}function D3(e){if(Yu.has(e))return;const t=new Promise((r,o)=>{const l=()=>{e.removeEventListener("complete",f),e.removeEventListener("error",g),e.removeEventListener("abort",g)},f=()=>{r(),l()},g=()=>{o(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",f),e.addEventListener("error",g),e.addEventListener("abort",g)});Yu.set(e,t)}let Ku={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Yu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Pp.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $r(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function k3(e){Ku=e(Ku)}function P3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=e.call(Kc(this),t,...r);return Pp.set(o,t.sort?t.sort():[t]),$r(o)}:O3().includes(e)?function(...t){return e.apply(Kc(this),t),$r(kp.get(this))}:function(...t){return $r(e.apply(Kc(this),t))}}function M3(e){return typeof e=="function"?P3(e):(e instanceof IDBTransaction&&D3(e),N3(e,R3())?new Proxy(e,Ku):e)}function $r(e){if(e instanceof IDBRequest)return b3(e);if(Yc.has(e))return Yc.get(e);const t=M3(e);return t!==e&&(Yc.set(e,t),of.set(t,e)),t}const Kc=e=>of.get(e);function L3(e,t,{blocked:r,upgrade:o,blocking:l,terminated:f}={}){const g=indexedDB.open(e,t),m=$r(g);return o&&g.addEventListener("upgradeneeded",w=>{o($r(g.result),w.oldVersion,w.newVersion,$r(g.transaction),w)}),r&&g.addEventListener("blocked",w=>r(w.oldVersion,w.newVersion,w)),m.then(w=>{f&&w.addEventListener("close",()=>f()),l&&w.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),m}const B3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],Zc=new Map;function ad(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zc.get(t))return Zc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=F3.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||B3.includes(r)))return;const f=async function(g,...m){const w=this.transaction(g,l?"readwrite":"readonly");let x=w.store;return o&&(x=x.index(m.shift())),(await Promise.all([x[r](...m),l&&w.done]))[0]};return Zc.set(t,f),f}k3(e=>({...e,get:(t,r,o)=>ad(t,r)||e.get(t,r,o),has:(t,r)=>!!ad(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(V3(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function V3(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zu="@firebase/app",ld="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Dp("@firebase/app"),H3="@firebase/app-compat",W3="@firebase/analytics-compat",z3="@firebase/analytics",G3="@firebase/app-check-compat",j3="@firebase/app-check",X3="@firebase/auth",Y3="@firebase/auth-compat",K3="@firebase/database",Z3="@firebase/database-compat",Q3="@firebase/functions",$3="@firebase/functions-compat",q3="@firebase/installations",J3="@firebase/installations-compat",ey="@firebase/messaging",ty="@firebase/messaging-compat",ny="@firebase/performance",ry="@firebase/performance-compat",iy="@firebase/remote-config",sy="@firebase/remote-config-compat",oy="@firebase/storage",ay="@firebase/storage-compat",ly="@firebase/firestore",cy="@firebase/vertexai-preview",uy="@firebase/firestore-compat",fy="firebase",dy="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="[DEFAULT]",hy={[Zu]:"fire-core",[H3]:"fire-core-compat",[z3]:"fire-analytics",[W3]:"fire-analytics-compat",[j3]:"fire-app-check",[G3]:"fire-app-check-compat",[X3]:"fire-auth",[Y3]:"fire-auth-compat",[K3]:"fire-rtdb",[Z3]:"fire-rtdb-compat",[Q3]:"fire-fn",[$3]:"fire-fn-compat",[q3]:"fire-iid",[J3]:"fire-iid-compat",[ey]:"fire-fcm",[ty]:"fire-fcm-compat",[ny]:"fire-perf",[ry]:"fire-perf-compat",[iy]:"fire-rc",[sy]:"fire-rc-compat",[oy]:"fire-gcs",[ay]:"fire-gcs-compat",[ly]:"fire-fst",[uy]:"fire-fst-compat",[cy]:"fire-vertex","fire-js":"fire-js",[fy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Map,gy=new Map,$u=new Map;function cd(e,t){try{e.container.addComponent(t)}catch(r){bi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function _s(e){const t=e.name;if($u.has(t))return bi.debug(`There were multiple attempts to register component ${t}.`),!1;$u.set(t,e);for(const r of xl.values())cd(r,e);for(const r of gy.values())cd(r,e);return!0}function af(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function $n(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Vo("app","Firebase",py);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=dy;function Mp(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Qu,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(r||(r=Op()),!r)throw qr.create("no-options");const f=xl.get(l);if(f){if(ml(r,f.options)&&ml(o,f.config))return f;throw qr.create("duplicate-app",{appName:l})}const g=new v3(l);for(const w of $u.values())g.addComponent(w);const m=new my(r,o,g);return xl.set(l,m),m}function Lp(e=Qu){const t=xl.get(e);if(!t&&e===Qu&&Op())return Mp();if(!t)throw qr.create("no-app",{appName:e});return t}function Jr(e,t,r){var o;let l=(o=hy[e])!==null&&o!==void 0?o:e;r&&(l+=`-${r}`);const f=l.match(/\s|\//),g=t.match(/\s|\//);if(f||g){const m=[`Unable to register library "${l}" with version "${t}":`];f&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),f&&g&&m.push("and"),g&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bi.warn(m.join(" "));return}_s(new Oi(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="firebase-heartbeat-database",wy=1,bo="firebase-heartbeat-store";let Qc=null;function Bp(){return Qc||(Qc=L3(xy,wy,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bo)}catch(r){console.warn(r)}}}}).catch(e=>{throw qr.create("idb-open",{originalErrorMessage:e.message})})),Qc}async function Ey(e){try{const r=(await Bp()).transaction(bo),o=await r.objectStore(bo).get(Fp(e));return await r.done,o}catch(t){if(t instanceof Cr)bi.warn(t.message);else{const r=qr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bi.warn(r.message)}}}async function ud(e,t){try{const o=(await Bp()).transaction(bo,"readwrite");await o.objectStore(bo).put(t,Fp(e)),await o.done}catch(r){if(r instanceof Cr)bi.warn(r.message);else{const o=qr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bi.warn(o.message)}}}function Fp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=1024,Cy=30*24*60*60*1e3;class Ay{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Iy(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=fd();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(g=>g.date===f)))return this._heartbeatsCache.heartbeats.push({date:f,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(g=>{const m=new Date(g.date).valueOf();return Date.now()-m<=Cy}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fd(),{heartbeatsToSend:o,unsentEntries:l}=vy(this._heartbeatsCache.heartbeats),f=Tp(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}}function fd(){return new Date().toISOString().substring(0,10)}function vy(e,t=yy){const r=[];let o=e.slice();for(const l of e){const f=r.find(g=>g.agent===l.agent);if(f){if(f.dates.push(l.date),dd(r)>t){f.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),dd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Iy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f3()?d3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ey(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return ud(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return ud(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function dd(e){return Tp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e){_s(new Oi("platform-logger",t=>new U3(t),"PRIVATE")),_s(new Oi("heartbeat",t=>new Ay(t),"PRIVATE")),Jr(Zu,ld,e),Jr(Zu,ld,"esm2017"),Jr("fire-js","")}_y("");var Sy="firebase",Ty="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(Sy,Ty,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="type.googleapis.com/google.protobuf.Int64Value",Ry="type.googleapis.com/google.protobuf.UInt64Value";function Up(e,t){const r={};for(const o in e)e.hasOwnProperty(o)&&(r[o]=t(e[o]));return r}function qu(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>qu(t));if(typeof e=="function"||typeof e=="object")return Up(e,t=>qu(t));throw new Error("Data cannot be encoded in JSON: "+e)}function wl(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Ny:case Ry:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>wl(t)):typeof e=="function"||typeof e=="object"?Up(e,t=>wl(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gs extends Cr{constructor(t,r,o){super(`${lf}/${t}`,r||""),this.details=o}}function Oy(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function by(e,t){let r=Oy(e),o=r,l;try{const f=t&&t.error;if(f){const g=f.status;if(typeof g=="string"){if(!hd[g])return new gs("internal","internal");r=hd[g],o=g}const m=f.message;typeof m=="string"&&(o=m),l=f.details,l!==void 0&&(l=wl(l))}}catch{}return r==="ok"?null:new gs(r,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,r,o){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const r=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(t){const r=await this.getAuthToken(),o=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:r,messagingToken:o,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="us-central1";function ky(e){let t=null;return{promise:new Promise((r,o)=>{t=setTimeout(()=>{o(new gs("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Py{constructor(t,r,o,l,f=Ju,g){this.app=t,this.fetchImpl=g,this.emulatorOrigin=null,this.contextProvider=new Dy(r,o,l),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(f);this.customDomain=m.origin,this.region=Ju}catch{this.customDomain=null,this.region=f}}_delete(){return this.deleteService()}_url(t){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${r}.cloudfunctions.net/${t}`}}function My(e,t,r){e.emulatorOrigin=`http://${t}:${r}`}function Ly(e,t,r){return o=>Fy(e,t,o,{})}async function By(e,t,r,o){r["Content-Type"]="application/json";let l;try{l=await o(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch{return{status:0,json:null}}let f=null;try{f=await l.json()}catch{}return{status:l.status,json:f}}function Fy(e,t,r,o){const l=e._url(t);return Uy(e,l,r,o)}async function Uy(e,t,r,o){r=qu(r);const l={data:r},f={},g=await e.contextProvider.getContext(o.limitedUseAppCheckTokens);g.authToken&&(f.Authorization="Bearer "+g.authToken),g.messagingToken&&(f["Firebase-Instance-ID-Token"]=g.messagingToken),g.appCheckToken!==null&&(f["X-Firebase-AppCheck"]=g.appCheckToken);const m=o.timeout||7e4,w=ky(m),x=await Promise.race([By(t,l,f,e.fetchImpl),w.promise,e.cancelAllRequests]);if(w.cancel(),!x)throw new gs("cancelled","Firebase Functions instance was deleted.");const I=by(x.status,x.json);if(I)throw I;if(!x.json)throw new gs("internal","Response is not valid JSON object.");let _=x.json.data;if(typeof _>"u"&&(_=x.json.result),typeof _>"u")throw new gs("internal","Response is missing data field.");return{data:wl(_)}}const gd="@firebase/functions",pd="0.11.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="auth-internal",Hy="app-check-internal",Wy="messaging-internal";function zy(e,t){const r=(o,{instanceIdentifier:l})=>{const f=o.getProvider("app").getImmediate(),g=o.getProvider(Vy),m=o.getProvider(Wy),w=o.getProvider(Hy);return new Py(f,g,m,w,l,e)};_s(new Oi(lf,r,"PUBLIC").setMultipleInstances(!0)),Jr(gd,pd,t),Jr(gd,pd,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e=Lp(),t=Ju){const o=af(hn(e),lf).getImmediate({identifier:t}),l=s3("functions");return l&&jy(o,...l),o}function jy(e,t,r){My(hn(e),t,r)}function Yl(e,t,r){return Ly(hn(e),t)}zy(fetch.bind(self));function cf(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(r[o[l]]=e[o[l]]);return r}function Vp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xy=Vp,Hp=new Vo("auth","Firebase",Vp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Dp("@firebase/auth");function Yy(e,...t){El.logLevel<=Ve.WARN&&El.warn(`Auth (${Wo}): ${e}`,...t)}function Va(e,...t){El.logLevel<=Ve.ERROR&&El.error(`Auth (${Wo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,...t){throw uf(e,...t)}function er(e,...t){return uf(e,...t)}function Wp(e,t,r){const o=Object.assign(Object.assign({},Xy()),{[t]:r});return new Vo("auth","Firebase",o).create(t,{appName:e.name})}function gr(e){return Wp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uf(e,...t){if(typeof e!="string"){const r=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=e.name),e._errorFactory.create(r,...o)}return Hp.create(e,...t)}function he(e,t,...r){if(!e)throw uf(t,...r)}function cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Va(t),new Error(t)}function Er(e,t){e||cr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Ky(){return md()==="http:"||md()==="https:"}function md(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ky()||l3()||"connection"in navigator)?navigator.onLine:!0}function Qy(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,r){this.shortDelay=t,this.longDelay=r,Er(r>t,"Short delay should be less than long delay!"),this.isMobile=a3()||c3()}get(){return Zy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t){Er(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{static initialize(t,r,o){this.fetchImpl=t,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new zo(3e4,6e4);function oi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ai(e,t,r,o,l={}){return Gp(e,l,async()=>{let f={},g={};o&&(t==="GET"?g=o:f={body:JSON.stringify(o)});const m=Ho(Object.assign({key:e.config.apiKey},g)).slice(1),w=await e._getAdditionalHeaders();return w["Content-Type"]="application/json",e.languageCode&&(w["X-Firebase-Locale"]=e.languageCode),zp.fetch()(jp(e,e.config.apiHost,r,m),Object.assign({method:t,headers:w,referrerPolicy:"no-referrer"},f))})}async function Gp(e,t,r){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},$y),t);try{const l=new eC(e),f=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const g=await f.json();if("needConfirmation"in g)throw Sa(e,"account-exists-with-different-credential",g);if(f.ok&&!("errorMessage"in g))return g;{const m=f.ok?g.errorMessage:g.error.message,[w,x]=m.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sa(e,"credential-already-in-use",g);if(w==="EMAIL_EXISTS")throw Sa(e,"email-already-in-use",g);if(w==="USER_DISABLED")throw Sa(e,"user-disabled",g);const I=o[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Wp(e,I,x);Fn(e,I)}}catch(l){if(l instanceof Cr)throw l;Fn(e,"network-request-failed",{message:String(l)})}}async function Go(e,t,r,o,l={}){const f=await ai(e,t,r,o,l);return"mfaPendingCredential"in f&&Fn(e,"multi-factor-auth-required",{_serverResponse:f}),f}function jp(e,t,r,o){const l=`${t}${r}?${o}`;return e.config.emulator?ff(e.config,l):`${e.config.apiScheme}://${l}`}function Jy(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(er(this.auth,"network-request-failed")),qy.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sa(e,t,r){const o={appName:e.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const l=er(e,t,o);return l.customData._tokenResponse=r,l}function xd(e){return e!==void 0&&e.enterprise!==void 0}class tC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Jy(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function nC(e,t){return ai(e,"GET","/v2/recaptchaConfig",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(e,t){return ai(e,"POST","/v1/accounts:delete",t)}async function Xp(e,t){return ai(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iC(e,t=!1){const r=hn(e),o=await r.getIdToken(t),l=df(o);he(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const f=typeof l.firebase=="object"?l.firebase:void 0,g=f==null?void 0:f.sign_in_provider;return{claims:l,token:o,authTime:ho($c(l.auth_time)),issuedAtTime:ho($c(l.iat)),expirationTime:ho($c(l.exp)),signInProvider:g||null,signInSecondFactor:(f==null?void 0:f.sign_in_second_factor)||null}}function $c(e){return Number(e)*1e3}function df(e){const[t,r,o]=e.split(".");if(t===void 0||r===void 0||o===void 0)return Va("JWT malformed, contained fewer than 3 sections"),null;try{const l=Np(r);return l?JSON.parse(l):(Va("Failed to decode base64 JWT payload"),null)}catch(l){return Va("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function wd(e){const t=df(e);return he(t,"internal-error"),he(typeof t.exp<"u","internal-error"),he(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t,r=!1){if(r)return t;try{return await t}catch(o){throw o instanceof Cr&&sC(o)&&e.auth.currentUser===e&&await e.auth.signOut(),o}}function sC({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const l=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ho(this.lastLoginAt),this.creationTime=ho(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(e){var t;const r=e.auth,o=await e.getIdToken(),l=await Do(e,Xp(r,{idToken:o}));he(l==null?void 0:l.users.length,r,"internal-error");const f=l.users[0];e._notifyReloadListener(f);const g=!((t=f.providerUserInfo)===null||t===void 0)&&t.length?Yp(f.providerUserInfo):[],m=lC(e.providerData,g),w=e.isAnonymous,x=!(e.email&&f.passwordHash)&&!(m!=null&&m.length),I=w?x:!1,_={uid:f.localId,displayName:f.displayName||null,photoURL:f.photoUrl||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,tenantId:f.tenantId||null,providerData:m,metadata:new t1(f.createdAt,f.lastLoginAt),isAnonymous:I};Object.assign(e,_)}async function aC(e){const t=hn(e);await yl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lC(e,t){return[...e.filter(o=>!t.some(l=>l.providerId===o.providerId)),...t]}function Yp(e){return e.map(t=>{var{providerId:r}=t,o=cf(t,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(e,t){const r=await Gp(e,{},async()=>{const o=Ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:f}=e.config,g=jp(e,l,"/v1/token",`key=${f}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",zp.fetch()(g,{method:"POST",headers:m,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function uC(e,t){return ai(e,"POST","/v2/accounts:revokeToken",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){he(t.idToken,"internal-error"),he(typeof t.idToken<"u","internal-error"),he(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wd(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){he(t.length!==0,"internal-error");const r=wd(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:o,refreshToken:l,expiresIn:f}=await cC(t,r);this.updateTokensAndExpiration(o,l,Number(f))}updateTokensAndExpiration(t,r,o){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,r){const{refreshToken:o,accessToken:l,expirationTime:f}=r,g=new ps;return o&&(he(typeof o=="string","internal-error",{appName:t}),g.refreshToken=o),l&&(he(typeof l=="string","internal-error",{appName:t}),g.accessToken=l),f&&(he(typeof f=="number","internal-error",{appName:t}),g.expirationTime=f),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ps,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e,t){he(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ur{constructor(t){var{uid:r,auth:o,stsTokenManager:l}=t,f=cf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=f.displayName||null,this.email=f.email||null,this.emailVerified=f.emailVerified||!1,this.phoneNumber=f.phoneNumber||null,this.photoURL=f.photoURL||null,this.isAnonymous=f.isAnonymous||!1,this.tenantId=f.tenantId||null,this.providerData=f.providerData?[...f.providerData]:[],this.metadata=new t1(f.createdAt||void 0,f.lastLoginAt||void 0)}async getIdToken(t){const r=await Do(this,this.stsTokenManager.getToken(this.auth,t));return he(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return iC(this,t)}reload(){return aC(this)}_assign(t){this!==t&&(he(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new ur(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),r&&await yl(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(gr(this.auth));const t=await this.getIdToken();return await Do(this,rC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var o,l,f,g,m,w,x,I;const _=(o=r.displayName)!==null&&o!==void 0?o:void 0,b=(l=r.email)!==null&&l!==void 0?l:void 0,F=(f=r.phoneNumber)!==null&&f!==void 0?f:void 0,G=(g=r.photoURL)!==null&&g!==void 0?g:void 0,W=(m=r.tenantId)!==null&&m!==void 0?m:void 0,fe=(w=r._redirectEventId)!==null&&w!==void 0?w:void 0,D=(x=r.createdAt)!==null&&x!==void 0?x:void 0,T=(I=r.lastLoginAt)!==null&&I!==void 0?I:void 0,{uid:N,emailVerified:U,isAnonymous:J,providerData:K,stsTokenManager:M}=r;he(N&&M,t,"internal-error");const $=ps.fromJSON(this.name,M);he(typeof N=="string",t,"internal-error"),Dr(_,t.name),Dr(b,t.name),he(typeof U=="boolean",t,"internal-error"),he(typeof J=="boolean",t,"internal-error"),Dr(F,t.name),Dr(G,t.name),Dr(W,t.name),Dr(fe,t.name),Dr(D,t.name),Dr(T,t.name);const z=new ur({uid:N,auth:t,email:b,emailVerified:U,displayName:_,isAnonymous:J,photoURL:G,phoneNumber:F,tenantId:W,stsTokenManager:$,createdAt:D,lastLoginAt:T});return K&&Array.isArray(K)&&(z.providerData=K.map(me=>Object.assign({},me))),fe&&(z._redirectEventId=fe),z}static async _fromIdTokenResponse(t,r,o=!1){const l=new ps;l.updateFromServerResponse(r);const f=new ur({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:o});return await yl(f),f}static async _fromGetAccountInfoResponse(t,r,o){const l=r.users[0];he(l.localId!==void 0,"internal-error");const f=l.providerUserInfo!==void 0?Yp(l.providerUserInfo):[],g=!(l.email&&l.passwordHash)&&!(f!=null&&f.length),m=new ps;m.updateFromIdToken(o);const w=new ur({uid:l.localId,auth:t,stsTokenManager:m,isAnonymous:g}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new t1(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(f!=null&&f.length)};return Object.assign(w,x),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map;function fr(e){Er(e instanceof Function,"Expected a class definition");let t=Ed.get(e);return t?(Er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ed.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Kp.type="NONE";const yd=Kp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e,t,r){return`firebase:${e}:${t}:${r}`}class ms{constructor(t,r,o){this.persistence=t,this.auth=r,this.userKey=o;const{config:l,name:f}=this.auth;this.fullUserKey=Ha(this.userKey,l.apiKey,f),this.fullPersistenceKey=Ha("persistence",l.apiKey,f),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ur._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,o="authUser"){if(!r.length)return new ms(fr(yd),t,o);const l=(await Promise.all(r.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let f=l[0]||fr(yd);const g=Ha(o,t.config.apiKey,t.name);let m=null;for(const x of r)try{const I=await x._get(g);if(I){const _=ur._fromJSON(t,I);x!==f&&(m=_),f=x;break}}catch{}const w=l.filter(x=>x._shouldAllowMigration);return!f._shouldAllowMigration||!w.length?new ms(f,t,o):(f=w[0],m&&await f._set(g,m.toJSON()),await Promise.all(r.map(async x=>{if(x!==f)try{await x._remove(g)}catch{}})),new ms(f,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($p(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jp(t))return"Blackberry";if(e2(t))return"Webos";if(hf(t))return"Safari";if((t.includes("chrome/")||Qp(t))&&!t.includes("edge/"))return"Chrome";if(qp(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=e.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function Zp(e=Bt()){return/firefox\//i.test(e)}function hf(e=Bt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qp(e=Bt()){return/crios\//i.test(e)}function $p(e=Bt()){return/iemobile/i.test(e)}function qp(e=Bt()){return/android/i.test(e)}function Jp(e=Bt()){return/blackberry/i.test(e)}function e2(e=Bt()){return/webos/i.test(e)}function Kl(e=Bt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fC(e=Bt()){var t;return Kl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function dC(){return u3()&&document.documentMode===10}function t2(e=Bt()){return Kl(e)||qp(e)||e2(e)||Jp(e)||/windows phone/i.test(e)||$p(e)}function hC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(e,t=[]){let r;switch(e){case"Browser":r=Cd(Bt());break;case"Worker":r=`${Cd(Bt())}-${e}`;break;default:r=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Wo}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const o=f=>new Promise((g,m)=>{try{const w=t(f);g(w)}catch(w){m(w)}});o.onAbort=r,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const o of this.queue)await o(t),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(e,t={}){return ai(e,"GET","/v2/passwordPolicy",oi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class xC{constructor(t){var r,o,l,f;const g=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=g.minPasswordLength)!==null&&r!==void 0?r:mC,g.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=g.maxPasswordLength),g.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=g.containsLowercaseCharacter),g.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=g.containsUppercaseCharacter),g.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=g.containsNumericCharacter),g.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=g.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(o=t.allowedNonAlphanumericCharacters)===null||o===void 0?void 0:o.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(f=t.forceUpgradeOnSignin)!==null&&f!==void 0?f:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,o,l,f,g,m;const w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,w),this.validatePasswordCharacterOptions(t,w),w.isValid&&(w.isValid=(r=w.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),w.isValid&&(w.isValid=(o=w.meetsMaxPasswordLength)!==null&&o!==void 0?o:!0),w.isValid&&(w.isValid=(l=w.containsLowercaseLetter)!==null&&l!==void 0?l:!0),w.isValid&&(w.isValid=(f=w.containsUppercaseLetter)!==null&&f!==void 0?f:!0),w.isValid&&(w.isValid=(g=w.containsNumericCharacter)!==null&&g!==void 0?g:!0),w.isValid&&(w.isValid=(m=w.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),w}validatePasswordLengthOptions(t,r){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(r.meetsMinPasswordLength=t.length>=o),l&&(r.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let o;for(let l=0;l<t.length;l++)o=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,r,o,l,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,r,o,l){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ad(this),this.idTokenSubscription=new Ad(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=fr(r)),this._initializationPromise=this.queue(async()=>{var o,l;if(!this._deleted&&(this.persistenceManager=await ms.create(this,t),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Xp(this,{idToken:t}),o=await ur._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(o)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if($n(this.app)){const g=this.app.settings.authIdToken;return g?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(g).then(m,m))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let l=o,f=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const g=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,m=l==null?void 0:l._redirectEventId,w=await this.tryRedirectSignIn(t);(!g||g===m)&&(w!=null&&w.user)&&(l=w.user,f=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(f)try{await this.beforeStateQueue.runMiddleware(l)}catch(g){l=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(g))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await yl(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Qy()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(gr(this));const r=t?hn(t):null;return r&&he(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&he(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),r=new xC(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Vo("auth","Firebase",t())}onAuthStateChanged(t,r,o){return this.registerStateListener(this.authStateSubscription,t,r,o)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,o){return this.registerStateListener(this.idTokenSubscription,t,r,o)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(o.tenantId=this.tenantId),await uC(this,o)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const o=await this.getOrInitRedirectPersistenceManager(r);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&fr(t)||this._popupRedirectResolver;he(r,this,"argument-error"),this.redirectPersistenceManager=await ms.create(this,[fr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,o,l){if(this._deleted)return()=>{};const f=typeof r=="function"?r:r.next.bind(r);let g=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(m,this,"internal-error"),m.then(()=>{g||f(this.currentUser)}),typeof r=="function"){const w=t.addObserver(r,o,l);return()=>{g=!0,w()}}else{const w=t.addObserver(r);return()=>{g=!0,w()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());o&&(r["X-Firebase-Client"]=o);const l=await this._getAppCheckToken();return l&&(r["X-Firebase-AppCheck"]=l),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&Yy(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Li(e){return hn(e)}class Ad{constructor(t){this.auth=t,this.observer=null,this.addObserver=x3(r=>this.observer=r)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(e){Zl=e}function r2(e){return Zl.loadJS(e)}function yC(){return Zl.recaptchaEnterpriseScript}function CC(){return Zl.gapiScript}function AC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const vC="recaptcha-enterprise",IC="NO_RECAPTCHA";class _C{constructor(t){this.type=vC,this.auth=Li(t)}async verify(t="verify",r=!1){async function o(f){if(!r){if(f.tenantId==null&&f._agentRecaptchaConfig!=null)return f._agentRecaptchaConfig.siteKey;if(f.tenantId!=null&&f._tenantRecaptchaConfigs[f.tenantId]!==void 0)return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(async(g,m)=>{nC(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(w=>{if(w.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const x=new tC(w);return f.tenantId==null?f._agentRecaptchaConfig=x:f._tenantRecaptchaConfigs[f.tenantId]=x,g(x.siteKey)}}).catch(w=>{m(w)})})}function l(f,g,m){const w=window.grecaptcha;xd(w)?w.enterprise.ready(()=>{w.enterprise.execute(f,{action:t}).then(x=>{g(x)}).catch(()=>{g(IC)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,g)=>{o(this.auth).then(m=>{if(!r&&xd(window.grecaptcha))l(m,f,g);else{if(typeof window>"u"){g(new Error("RecaptchaVerifier is only supported in browser"));return}let w=yC();w.length!==0&&(w+=m),r2(w).then(()=>{l(m,f,g)}).catch(x=>{g(x)})}}).catch(m=>{g(m)})})}}async function vd(e,t,r,o=!1){const l=new _C(e);let f;try{f=await l.verify(r)}catch{f=await l.verify(r,!0)}const g=Object.assign({},t);return o?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function n1(e,t,r,o){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await vd(e,t,r,r==="getOobCode");return o(e,f)}else return o(e,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await vd(e,t,r,r==="getOobCode");return o(e,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(e,t){const r=af(e,"auth");if(r.isInitialized()){const l=r.getImmediate(),f=r.getOptions();if(ml(f,t??{}))return l;Fn(l,"already-initialized")}return r.initialize({options:t})}function TC(e,t){const r=(t==null?void 0:t.persistence)||[],o=(Array.isArray(r)?r:[r]).map(fr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(o,t==null?void 0:t.popupRedirectResolver)}function NC(e,t,r){const o=Li(e);he(o._canInitEmulator,o,"emulator-config-failed"),he(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const l=!1,f=i2(t),{host:g,port:m}=RC(t),w=m===null?"":`:${m}`;o.config.emulator={url:`${f}//${g}${w}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:g,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:l})}),OC()}function i2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RC(e){const t=i2(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const f=l[1];return{host:f,port:Id(o.substr(f.length+1))}}else{const[f,g]=o.split(":");return{host:f,port:Id(g)}}}function Id(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function OC(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return cr("not implemented")}_getIdTokenResponse(t){return cr("not implemented")}_linkToIdToken(t,r){return cr("not implemented")}_getReauthenticationResolver(t){return cr("not implemented")}}async function bC(e,t){return ai(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(e,t){return Go(e,"POST","/v1/accounts:signInWithPassword",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(e,t){return Go(e,"POST","/v1/accounts:signInWithEmailLink",oi(e,t))}async function PC(e,t){return Go(e,"POST","/v1/accounts:signInWithEmailLink",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends gf{constructor(t,r,o,l=null){super("password",o),this._email=t,this._password=r,this._tenantId=l}static _fromEmailAndPassword(t,r){return new ko(t,r,"password")}static _fromEmailAndCode(t,r,o=null){return new ko(t,r,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(t,r,"signInWithPassword",DC);case"emailLink":return kC(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const o={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(t,o,"signUpPassword",bC);case"emailLink":return PC(t,{idToken:r,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(e,t){return Go(e,"POST","/v1/accounts:signInWithIdp",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Di extends gf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Di(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Fn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:l}=r,f=cf(r,["providerId","signInMethod"]);if(!o||!l)return null;const g=new Di(o,l);return g.idToken=f.idToken||void 0,g.accessToken=f.accessToken||void 0,g.secret=f.secret,g.nonce=f.nonce,g.pendingToken=f.pendingToken||null,g}_getIdTokenResponse(t){const r=this.buildRequest();return xs(t,r)}_linkToIdToken(t,r){const o=this.buildRequest();return o.idToken=r,xs(t,o)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,xs(t,r)}buildRequest(){const t={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Ho(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BC(e){const t=to(no(e)).link,r=t?to(no(t)).deep_link_id:null,o=to(no(e)).deep_link_id;return(o?to(no(o)).link:null)||o||r||t||e}class pf{constructor(t){var r,o,l,f,g,m;const w=to(no(t)),x=(r=w.apiKey)!==null&&r!==void 0?r:null,I=(o=w.oobCode)!==null&&o!==void 0?o:null,_=LC((l=w.mode)!==null&&l!==void 0?l:null);he(x&&I&&_,"argument-error"),this.apiKey=x,this.operation=_,this.code=I,this.continueUrl=(f=w.continueUrl)!==null&&f!==void 0?f:null,this.languageCode=(g=w.languageCode)!==null&&g!==void 0?g:null,this.tenantId=(m=w.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const r=BC(t);try{return new pf(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.providerId=Rs.PROVIDER_ID}static credential(t,r){return ko._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const o=pf.parseLink(r);return he(o,"argument-error"),ko._fromEmailAndCode(t,o.code,o.tenantId)}}Rs.PROVIDER_ID="password";Rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends s2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends jo{constructor(){super("facebook.com")}static credential(t){return Di._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Di._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:o}=t;if(!r&&!o)return null;try{return Fr.credential(r,o)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends jo{constructor(){super("github.com")}static credential(t){return Di._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends jo{constructor(){super("twitter.com")}static credential(t,r){return Di._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=t;if(!r||!o)return null;try{return Vr.credential(r,o)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(e,t){return Go(e,"POST","/v1/accounts:signUp",oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,o,l=!1){const f=await ur._fromIdTokenResponse(t,o,l),g=_d(o);return new ki({user:f,providerId:g,_tokenResponse:o,operationType:r})}static async _forOperation(t,r,o){await t._updateTokensIfNecessary(o,!0);const l=_d(o);return new ki({user:t,providerId:l,_tokenResponse:o,operationType:r})}}function _d(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Cr{constructor(t,r,o,l){var f;super(r.code,r.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,Cl.prototype),this.customData={appName:t.name,tenantId:(f=t.tenantId)!==null&&f!==void 0?f:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,r,o,l){return new Cl(t,r,o,l)}}function o2(e,t,r,o){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Cl._fromErrorAndOperation(e,f,t,o):f})}async function UC(e,t,r=!1){const o=await Do(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ki._forOperation(e,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(e,t,r=!1){const{auth:o}=e;if($n(o.app))return Promise.reject(gr(o));const l="reauthenticate";try{const f=await Do(e,o2(o,l,t,e),r);he(f.idToken,o,"internal-error");const g=df(f.idToken);he(g,o,"internal-error");const{sub:m}=g;return he(e.uid===m,o,"user-mismatch"),ki._forOperation(e,l,f)}catch(f){throw(f==null?void 0:f.code)==="auth/user-not-found"&&Fn(o,"user-mismatch"),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(e,t,r=!1){if($n(e.app))return Promise.reject(gr(e));const o="signIn",l=await o2(e,o,t),f=await ki._fromIdTokenResponse(e,o,l);return r||await e._updateCurrentUser(f.user),f}async function HC(e,t){return a2(Li(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(e){const t=Li(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WC(e,t,r){if($n(e.app))return Promise.reject(gr(e));const o=Li(e),g=await n1(o,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FC).catch(w=>{throw w.code==="auth/password-does-not-meet-requirements"&&l2(e),w}),m=await ki._fromIdTokenResponse(o,"signIn",g);return await o._updateCurrentUser(m.user),m}function zC(e,t,r){return $n(e.app)?Promise.reject(gr(e)):HC(hn(e),Rs.credential(t,r)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&l2(e),o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(e,t){return hn(e).setPersistence(t)}function GC(e,t,r,o){return hn(e).onIdTokenChanged(t,r,o)}function jC(e,t,r){return hn(e).beforeAuthStateChanged(t,r)}function XC(e,t,r,o){return hn(e).onAuthStateChanged(t,r,o)}function YC(e){return hn(e).signOut()}const Al="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Al,"1"),this.storage.removeItem(Al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){const e=Bt();return hf(e)||Kl(e)}const ZC=1e3,QC=10;class f2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KC()&&hC(),this.fallbackToPolling=t2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),l=this.localCache[r];o!==l&&t(r,l,o)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((g,m,w)=>{this.notifyListeners(g,w)});return}const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const g=this.storage.getItem(o);if(t.newValue!==g)t.newValue!==null?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const l=()=>{const g=this.storage.getItem(o);!r&&this.localCache[o]===g||this.notifyListeners(o,g)},f=this.storage.getItem(o);dC()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,QC):l()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}f2.type="LOCAL";const mf=f2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}d2.type="SESSION";const h2=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(l=>l.isListeningto(t));if(r)return r;const o=new Ql(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:o,eventType:l,data:f}=r.data,g=this.handlersMap[l];if(!(g!=null&&g.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const m=Array.from(g).map(async x=>x(r.origin,f)),w=await $C(m);r.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:w})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ql.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e="",t=10){let r="";for(let o=0;o<t;o++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let f,g;return new Promise((m,w)=>{const x=xf("",20);l.port1.start();const I=setTimeout(()=>{w(new Error("unsupported_event"))},o);g={messageChannel:l,onMessage(_){const b=_;if(b.data.eventId===x)switch(b.data.status){case"ack":clearTimeout(I),f=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(b.data.response);break;default:clearTimeout(I),clearTimeout(f),w(new Error("invalid_response"));break}}},this.handlers.add(g),l.port1.addEventListener("message",g.onMessage),this.target.postMessage({eventType:t,eventId:x,data:r},[l.port2])}).finally(()=>{g&&this.removeMessageHandler(g)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function JC(e){tr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function eA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tA(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function nA(){return g2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebaseLocalStorageDb",rA=1,vl="firebaseLocalStorage",m2="fbase_key";class Xo{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $l(e,t){return e.transaction([vl],t?"readwrite":"readonly").objectStore(vl)}function iA(){const e=indexedDB.deleteDatabase(p2);return new Xo(e).toPromise()}function r1(){const e=indexedDB.open(p2,rA);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const o=e.result;try{o.createObjectStore(vl,{keyPath:m2})}catch(l){r(l)}}),e.addEventListener("success",async()=>{const o=e.result;o.objectStoreNames.contains(vl)?t(o):(o.close(),await iA(),t(await r1()))})})}async function Sd(e,t,r){const o=$l(e,!0).put({[m2]:t,value:r});return new Xo(o).toPromise()}async function sA(e,t){const r=$l(e,!1).get(t),o=await new Xo(r).toPromise();return o===void 0?null:o.value}function Td(e,t){const r=$l(e,!0).delete(t);return new Xo(r).toPromise()}const oA=800,aA=3;class x2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r1(),this.db)}async _withRetries(t){let r=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(r++>aA)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ql._getInstance(nA()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await eA(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((t=o[0])===null||t===void 0)&&t.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await r1();return await Sd(t,Al,"1"),await Td(t,Al),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>Sd(o,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(o=>sA(o,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Td(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const f=$l(l,!1).getAll();return new Xo(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;if(t.length!==0)for(const{fbase_key:l,value:f}of t)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(f)&&(this.notifyListeners(l,f),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x2.type="LOCAL";const lA=x2;new zo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(e,t){return t?fr(t):(he(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends gf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xs(t,this._buildIdpRequest())}_linkToIdToken(t,r){return xs(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return xs(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function uA(e){return a2(e.auth,new wf(e),e.bypassAuthState)}function fA(e){const{auth:t,user:r}=e;return he(r,t,"internal-error"),VC(r,new wf(e),e.bypassAuthState)}async function dA(e){const{auth:t,user:r}=e;return he(r,t,"internal-error"),UC(r,new wf(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,r,o,l,f=!1){this.auth=t,this.resolver=o,this.user=l,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:o,postBody:l,tenantId:f,error:g,type:m}=t;if(g){this.reject(g);return}const w={auth:this.auth,requestUri:r,sessionId:o,tenantId:f||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(w))}catch(x){this.reject(x)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uA;case"linkViaPopup":case"linkViaRedirect":return dA;case"reauthViaPopup":case"reauthViaRedirect":return fA;default:Fn(this.auth,"internal-error")}}resolve(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new zo(2e3,1e4);class os extends w2{constructor(t,r,o,l,f){super(t,r,l,f),this.provider=o,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return he(t,this.auth,"internal-error"),t}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const t=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hA.get())};t()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="pendingRedirect",Wa=new Map;class pA extends w2{constructor(t,r,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let t=Wa.get(this.auth._key());if(!t){try{const o=await mA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(r){t=()=>Promise.reject(r)}Wa.set(this.auth._key(),t)}return this.bypassAuthState||Wa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mA(e,t){const r=EA(t),o=wA(e);if(!await o._isAvailable())return!1;const l=await o._get(r)==="true";return await o._remove(r),l}function xA(e,t){Wa.set(e._key(),t)}function wA(e){return fr(e._redirectPersistence)}function EA(e){return Ha(gA,e.config.apiKey,e.name)}async function yA(e,t,r=!1){if($n(e.app))return Promise.reject(gr(e));const o=Li(e),l=cA(o,t),g=await new pA(o,l,r).execute();return g&&!r&&(delete g.user._redirectEventId,await o._persistUserIfCurrent(g.user),await o._setRedirectUser(null,t)),g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=10*60*1e3;class AA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(r=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vA(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var o;if(t.error&&!E2(t)){const l=((o=t.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(er(this.auth,l))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const o=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nd(t))}saveEventToCache(t){this.cachedEventUids.add(Nd(t)),this.lastProcessedEventTime=Date.now()}}function Nd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function E2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vA(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(e,t={}){return ai(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SA=/^https?/;async function TA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await IA(e);for(const r of t)try{if(NA(r))return}catch{}Fn(e,"unauthorized-domain")}function NA(e){const t=e1(),{protocol:r,hostname:o}=new URL(t);if(e.startsWith("chrome-extension://")){const g=new URL(e);return g.hostname===""&&o===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&g.hostname===o}if(!SA.test(r))return!1;if(_A.test(e))return o===e;const l=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new zo(3e4,6e4);function Rd(){const e=tr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function OA(e){return new Promise((t,r)=>{var o,l,f;function g(){Rd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rd(),r(er(e,"network-request-failed"))},timeout:RA.get()})}if(!((l=(o=tr().gapi)===null||o===void 0?void 0:o.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((f=tr().gapi)===null||f===void 0)&&f.load)g();else{const m=AC("iframefcb");return tr()[m]=()=>{gapi.load?g():r(er(e,"network-request-failed"))},r2(`${CC()}?onload=${m}`).catch(w=>r(w))}}).catch(t=>{throw za=null,t})}let za=null;function bA(e){return za=za||OA(e),za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new zo(5e3,15e3),kA="__/auth/iframe",PA="emulator/auth/iframe",MA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BA(e){const t=e.config;he(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?ff(t,PA):`https://${e.config.authDomain}/${kA}`,o={apiKey:t.apiKey,appName:e.name,v:Wo},l=LA.get(e.config.apiHost);l&&(o.eid=l);const f=e._getFrameworks();return f.length&&(o.fw=f.join(",")),`${r}?${Ho(o).slice(1)}`}async function FA(e){const t=await bA(e),r=tr().gapi;return he(r,e,"internal-error"),t.open({where:document.body,url:BA(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MA,dontclear:!0},o=>new Promise(async(l,f)=>{await o.restyle({setHideOnLeave:!1});const g=er(e,"network-request-failed"),m=tr().setTimeout(()=>{f(g)},DA.get());function w(){tr().clearTimeout(m),l(o)}o.ping(w).then(w,()=>{f(g)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VA=500,HA=600,WA="_blank",zA="http://localhost";class Od{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GA(e,t,r,o=VA,l=HA){const f=Math.max((window.screen.availHeight-l)/2,0).toString(),g=Math.max((window.screen.availWidth-o)/2,0).toString();let m="";const w=Object.assign(Object.assign({},UA),{width:o.toString(),height:l.toString(),top:f,left:g}),x=Bt().toLowerCase();r&&(m=Qp(x)?WA:r),Zp(x)&&(t=t||zA,w.scrollbars="yes");const I=Object.entries(w).reduce((b,[F,G])=>`${b}${F}=${G},`,"");if(fC(x)&&m!=="_self")return jA(t||"",m),new Od(null);const _=window.open(t||"",m,I);he(_,e,"popup-blocked");try{_.focus()}catch{}return new Od(_)}function jA(e,t){const r=document.createElement("a");r.href=e,r.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__/auth/handler",YA="emulator/auth/handler",KA=encodeURIComponent("fac");async function bd(e,t,r,o,l,f){he(e.config.authDomain,e,"auth-domain-config-required"),he(e.config.apiKey,e,"invalid-api-key");const g={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:o,v:Wo,eventId:l};if(t instanceof s2){t.setDefaultLanguage(e.languageCode),g.providerId=t.providerId||"",m3(t.getCustomParameters())||(g.customParameters=JSON.stringify(t.getCustomParameters()));for(const[I,_]of Object.entries({}))g[I]=_}if(t instanceof jo){const I=t.getScopes().filter(_=>_!=="");I.length>0&&(g.scopes=I.join(","))}e.tenantId&&(g.tid=e.tenantId);const m=g;for(const I of Object.keys(m))m[I]===void 0&&delete m[I];const w=await e._getAppCheckToken(),x=w?`#${KA}=${encodeURIComponent(w)}`:"";return`${ZA(e)}?${Ho(m).slice(1)}${x}`}function ZA({config:e}){return e.emulator?ff(e,YA):`https://${e.authDomain}/${XA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="webStorageSupport";class QA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h2,this._completeRedirectFn=yA,this._overrideRedirectResult=xA}async _openPopup(t,r,o,l){var f;Er((f=this.eventManagers[t._key()])===null||f===void 0?void 0:f.manager,"_initialize() not called before _openPopup()");const g=await bd(t,r,o,e1(),l);return GA(t,g,xf())}async _openRedirect(t,r,o,l){await this._originValidation(t);const f=await bd(t,r,o,e1(),l);return JC(f),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:l,promise:f}=this.eventManagers[r];return l?Promise.resolve(l):(Er(f,"If manager is not set, promise should be"),f)}const o=this.initAndGetManager(t);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(t){const r=await FA(t),o=new AA(t);return r.register("authEvent",l=>(he(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=r,o}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(qc,{type:qc},l=>{var f;const g=(f=l==null?void 0:l[0])===null||f===void 0?void 0:f[qc];g!==void 0&&r(!!g),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=TA(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return t2()||hf()||Kl()}}const $A=QA;var Dd="@firebase/auth",kd="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(o=>{t((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ev(e){_s(new Oi("auth",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:g,authDomain:m}=o.options;he(g&&!g.includes(":"),"invalid-api-key",{appName:o.name});const w={apiKey:g,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(e)},x=new wC(o,l,f,w);return TC(x,r),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,o)=>{t.getProvider("auth-internal").initialize()})),_s(new Oi("auth-internal",t=>{const r=Li(t.getProvider("auth").getImmediate());return(o=>new qA(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Dd,kd,JA(e)),Jr(Dd,kd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=5*60,nv=bp("authIdTokenMaxAge")||tv;let Pd=null;const rv=e=>async t=>{const r=t&&await t.getIdTokenResult(),o=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>nv)return;const l=r==null?void 0:r.token;Pd!==l&&(Pd=l,await fetch(e,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function iv(e=Lp()){const t=af(e,"auth");if(t.isInitialized())return t.getImmediate();const r=SC(e,{popupRedirectResolver:$A,persistence:[lA,mf,h2]}),o=bp("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(o,location.origin);if(location.origin===f.origin){const g=rv(f.toString());jC(r,g,()=>g(r.currentUser)),GC(r,m=>g(m))}}const l=Rp("auth");return l&&NC(r,`http://${l}`),r}function sv(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}EC({loadJS(e){return new Promise((t,r)=>{const o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=l=>{const f=er("internal-error");f.customData=l,r(f)},o.type="text/javascript",o.charset="UTF-8",sv().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ev("Browser");const ov={apiKey:"AIzaSyAGakOpa3iYRNad0Mc1QSbtv4RTPV0Qqow",authDomain:"tigerstore-365021.firebaseapp.com",projectId:"tigerstore-365021",storageBucket:"tigerstore-365021.appspot.com",messagingSenderId:"121005583930",appId:"1:121005583930:web:a80e1271bafe05d67f8f03"},y2=Mp(ov),ql=Gy(y2),Ii=iv(y2);async function C2(e,t,r){return console.log(e),console.log(t),console.log(r),await Yl(ql,"addTigerBucks")({id:e,tigerBucks:t,teacher:r})}async function av(e){return(await Yl(ql,"getTigerBucks")({id:e})).data}async function lv(e){return(await Yl(ql,"getStudents")({grade:e})).data}async function cv(e,t){return c2(Ii,mf).then(async()=>{try{return await zC(Ii,e,t),console.log(Ii.currentUser),!0}catch{return!1}})}async function uv(){return YC(Ii)}async function fv(e,t,r){return c2(Ii,mf).then(async()=>{try{return await WC(Ii,e,t),await Yl(ql,"addTeacherSheet")({teacher:r}),!0}catch{return!1}})}async function dv(e){XC(Ii,t=>{e(!!t)})}function hv({reference:e,id:t,isScanning:r,teacherName:o,studentName:l,studentTigerBucks:f}){const[g,m]=ve.useState(0),[w,x]=ve.useState(!1);async function I(){var _;x(!0),await C2(t,g,o),x(!1),m(0),(_=e.current)==null||_.close(),alert("Tiger Bucks Given!")}return H.jsxs("dialog",{ref:e,className:"GiveBucksPrompt",children:[H.jsx("img",{src:Xl,alt:"",className:"XMark",onClick:()=>{var _;return[m(0),(_=e.current)==null?void 0:_.close()]}}),H.jsx("h2",{children:"Read QR Code"}),r?H.jsx("div",{className:"center",children:H.jsx("div",{id:"reader"})}):H.jsxs(H.Fragment,{children:[H.jsxs("h3",{children:["Student: ",l]}),H.jsxs("h3",{children:["Tiger Bucks: ",f]}),H.jsx("label",{htmlFor:"",children:"Amount to give (use negative for removing): "}),H.jsx("input",{type:"number",onChange:_=>m(_.target.value),value:g}),H.jsx("br",{}),H.jsx("br",{}),w?H.jsx("div",{className:"center",children:H.jsx("div",{className:"loader"})}):H.jsx("button",{className:"actionBtn",onClick:()=>{I()},children:"Give Tiger Bucks"})]})]})}var re;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var Md=new Map([[re.QR_CODE,"QR_CODE"],[re.AZTEC,"AZTEC"],[re.CODABAR,"CODABAR"],[re.CODE_39,"CODE_39"],[re.CODE_93,"CODE_93"],[re.CODE_128,"CODE_128"],[re.DATA_MATRIX,"DATA_MATRIX"],[re.MAXICODE,"MAXICODE"],[re.ITF,"ITF"],[re.EAN_13,"EAN_13"],[re.EAN_8,"EAN_8"],[re.PDF_417,"PDF_417"],[re.RSS_14,"RSS_14"],[re.RSS_EXPANDED,"RSS_EXPANDED"],[re.UPC_A,"UPC_A"],[re.UPC_E,"UPC_E"],[re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ld;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Ld||(Ld={}));function gv(e){return Object.values(re).includes(e)}var Il;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Il||(Il={}));var pv=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Il.SCAN_TYPE_CAMERA,Il.SCAN_TYPE_FILE],e}(),A2=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Md.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Md.get(t))},e}(),Bd=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),i1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(i1||(i1={}));var mv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:i1.UNKWOWN_ERROR}},e}(),xv=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ir(e){return typeof e>"u"||e===null}var as=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),v2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var o=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(l),g=Object.keys(t),m=0,w=g;m<w.length;m++){var x=w[m];if(f.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),s1={exports:{}};(function(e,t){(function(r,o){o(t)})(Ws,function(r){function o(y){return y==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,n){y.__proto__=n}||function(y,n){for(var i in n)n.hasOwnProperty(i)&&(y[i]=n[i])};function f(y,n){l(y,n);function i(){this.constructor=y}y.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function g(y,n){var i=Object.setPrototypeOf;i?i(y,n):y.__proto__=n}function m(y,n){n===void 0&&(n=y.constructor);var i=Error.captureStackTrace;i&&i(y,n)}var w=function(y){f(n,y);function n(i){var s=this.constructor,a=y.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),g(a,s.prototype),m(a),a}return n}(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class I extends x{}I.kind="ArgumentException";class _ extends x{}_.kind="IllegalArgumentException";class b{constructor(n){if(this.binarizer=n,n===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,a){const c=this.binarizer.getLuminanceSource().crop(n,i,s,a);return new b(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends x{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class G{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class W{static arraycopy(n,i,s,a,c){for(;c--;)s[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class fe extends x{}fe.kind="IndexOutOfBoundsException";class D extends fe{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}D.kind="ArrayIndexOutOfBoundsException";class T{static fill(n,i){for(let s=0,a=n.length;s<a;s++)n[s]=i}static fillWithin(n,i,s,a){T.rangeCheck(n.length,i,s);for(let c=i;c<s;c++)n[c]=a}static rangeCheck(n,i,s){if(i>s)throw new _("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new D(i);if(s>n)throw new D(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(c=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(c=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const a=s-i,c=new Int32Array(a);return W.arraycopy(n,i,c,0,a),c}static binarySearch(n,i,s){s===void 0&&(s=T.numberComparator);let a=0,c=n.length-1;for(;a<=c;){const u=c+a>>1,d=s(i,n[u]);if(d>0)a=u+1;else if(d<0)c=u-1;else return u}return-a-1}static numberComparator(n,i){return n-i}}class N{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=U.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=U.makeArray(n);W.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),c=s[a];c&=~((1<<(n&31))-1);const u=s.length;for(;c===0;){if(++a===u)return i;c=s[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),c=~s[a];c&=~((1<<(n&31))-1);const u=s.length;for(;c===0;){if(++a===u)return i;c=~s[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new _;if(i===n)return;i--;const s=Math.floor(n/32),a=Math.floor(i/32),c=this.bits;for(let u=s;u<=a;u++){const d=u>s?0:n&31,p=(2<<(u<a?31:i&31))-(1<<d);c[u]|=p}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new _;if(i===n)return!0;i--;const a=Math.floor(n/32),c=Math.floor(i/32),u=this.bits;for(let d=a;d<=c;d++){const h=d>a?0:n&31,E=(2<<(d<c?31:i&31))-(1<<h)&4294967295;if((u[d]&E)!==(s?E:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new _("Sizes don't match");const i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=n.bits[s]}toBytes(n,i,s,a){for(let c=0;c<a;c++){let u=0;for(let d=0;d<8;d++)this.get(n)&&(u|=1<<7-d),n++;i[s+c]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let c=0;c<s;c++){let u=a[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[i-c]=u}if(this.size!==s*32){const c=s*32-this.size;let u=n[0]>>>c;for(let d=1;d<s;d++){const h=n[d];u|=h<<32-c,n[d-1]=u,u=h>>>c}n[s-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof U))return!1;const i=n;return this.size===i.size&&T.equals(this.bits,i.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new U(this.size,this.bits.slice())}}var J;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var K=J;class M extends x{static getFormatInstance(){return new M}}M.kind="FormatException";var $;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})($||($={}));class z{constructor(n,i,s,...a){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,z.VALUE_IDENTIFIER_TO_ECI.set(n,this),z.NAME_TO_ECI.set(s,this);const c=this.values;for(let u=0,d=c.length;u!==d;u++){const h=c[u];z.VALUES_TO_ECI.set(h,this)}for(const u of a)z.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new M("incorect value");const i=z.VALUES_TO_ECI.get(n);if(i===void 0)throw new M("incorect value");return i}static getCharacterSetECIByName(n){const i=z.NAME_TO_ECI.get(n);if(i===void 0)throw new M("incorect value");return i}equals(n){if(!(n instanceof z))return!1;const i=n;return this.getName()===i.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z($.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z($.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z($.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z($.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z($.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z($.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z($.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z($.Big5,28,"Big5"),z.GB18030=new z($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z($.EUC_KR,30,"EUC_KR","EUC-KR");class me extends x{}me.kind="UnsupportedOperationException";class ke{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!ke.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof z?n:z.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(ke.isDecodeFallbackSupported(s)){let a="";for(let c=0,u=n.length;c<u;c++){let d=n[c].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(s.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new me(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(z.UTF8)||n.equals(z.ISO8859_1)||n.equals(z.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let c=0;c<s.length;c++)a.push(s[c].charCodeAt(0));return new Uint8Array(a)}}class ee{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return ke.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(K.CHARACTER_SET)!==void 0)return i.get(K.CHARACTER_SET).toString();const s=n.length;let a=!0,c=!0,u=!0,d=0,h=0,p=0,E=0,C=0,A=0,S=0,R=0,O=0,k=0,B=0;const Z=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let Q=0;Q<s&&(a||c||u);Q++){const X=n[Q]&255;u&&(d>0?X&128?d--:u=!1:X&128&&(X&64?(d++,X&32?(d++,X&16?(d++,X&8?u=!1:E++):p++):h++):u=!1)),a&&(X>127&&X<160?a=!1:X>159&&(X<192||X===215||X===247)&&B++),c&&(C>0?X<64||X===127||X>252?c=!1:C--:X===128||X===160||X>239?c=!1:X>160&&X<224?(A++,R=0,S++,S>O&&(O=S)):X>127?(C++,S=0,R++,R>k&&(k=R)):(S=0,R=0))}return u&&d>0&&(u=!1),c&&C>0&&(c=!1),u&&(Z||h+p+E>0)?ee.UTF8:c&&(ee.ASSUME_SHIFT_JIS||O>=3||k>=3)?ee.SHIFT_JIS:a&&c?O===2&&A===2||B*10>=s?ee.SHIFT_JIS:ee.ISO88591:a?ee.ISO88591:c?ee.SHIFT_JIS:u?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function a(u,d,h,p,E,C){if(u==="%%")return"%";if(i[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=E?parseInt(E.substr(1)):void 0,S;switch(C){case"s":S=i[s];break;case"c":S=i[s][0];break;case"f":S=parseFloat(i[s]).toFixed(u);break;case"p":S=parseFloat(i[s]).toPrecision(u);break;case"e":S=parseFloat(i[s]).toExponential(u);break;case"x":S=parseInt(i[s]).toString(A||16);break;case"d":S=parseFloat(parseInt(i[s],A||10).toPrecision(u)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(A);let R=parseInt(h),O=h&&h[0]+""=="0"?"0":" ";for(;S.length<R;)S=d!==void 0?S+O:O+S;return S}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}static getBytes(n,i){return ke.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ee.SHIFT_JIS=z.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=z.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=z.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class we{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let a=i;i<i+s;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class He{constructor(n,i,s,a){if(this.width=n,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new _("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,a=new He(s,i);for(let c=0;c<i;c++){const u=n[c];for(let d=0;d<s;d++)u[d]&&a.set(d,c)}return a}static parseFromString(n,i,s){if(n===null)throw new _("stringRepresentation cannot be null");const a=new Array(n.length);let c=0,u=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(c>u){if(d===-1)d=c-u;else if(c-u!==d)throw new _("row lengths do not match");u=c,h++}p++}else if(n.substring(p,p+i.length)===i)p+=i.length,a[c]=!0,c++;else if(n.substring(p,p+s.length)===s)p+=s.length,a[c]=!1,c++;else throw new _("illegal character encountered: "+n.substring(p));if(c>u){if(d===-1)d=c-u;else if(c-u!==d)throw new _("row lengths do not match");h++}const E=new He(d,h);for(let C=0;C<c;C++)a[C]&&E.set(Math.floor(C%d),Math.floor(C/d));return E}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new _("input matrix dimensions do not match");const i=new U(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let c=0,u=this.height;c<u;c++){const d=c*s,h=n.getRow(c,i).getBitArray();for(let p=0;p<s;p++)a[d+p]^=h[p]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,a){if(i<0||n<0)throw new _("Left and top must be nonnegative");if(a<1||s<1)throw new _("Height and width must be at least 1");const c=n+s,u=i+a;if(u>this.height||c>this.width)throw new _("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=i;p<u;p++){const E=p*d;for(let C=n;C<c;C++)h[E+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new U(this.width):i.clear();const s=this.rowSize,a=this.bits,c=n*s;for(let u=0;u<s;u++)i.setBulk(u*32,a[c+u]);return i}setRow(n,i){W.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new U(n),a=new U(n);for(let c=0,u=Math.floor((i+1)/2);c<u;c++)s=this.getRow(c,s),a=this.getRow(i-1-c,a),s.reverse(),a.reverse(),this.setRow(c,a),this.setRow(i-1-c,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,a=this.bits;let c=n,u=i,d=-1,h=-1;for(let p=0;p<i;p++)for(let E=0;E<s;E++){const C=a[p*s+E];if(C!==0){if(p<u&&(u=p),p>h&&(h=p),E*32<c){let A=0;for(;!(C<<31-A&4294967295);)A++;E*32+A<c&&(c=E*32+A)}if(E*32+31>d){let A=31;for(;!(C>>>A);)A--;E*32+A>d&&(d=E*32+A)}}}return d<c||h<u?null:Int32Array.from([c,u,d-c+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const a=s/n;let c=s%n*32;const u=i[s];let d=0;for(;!(u<<31-d&4294967295);)d++;return c+=d,Int32Array.from([c,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const a=Math.floor(s/n);let c=Math.floor(s%n)*32;const u=i[s];let d=31;for(;!(u>>>d);)d--;return c+=d,Int32Array.from([c,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof He))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&T.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+T.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let a=new we;for(let c=0,u=this.height;c<u;c++){for(let d=0,h=this.width;d<h;d++)a.append(this.get(d,c)?n:i);a.append(s)}return a.toString()}clone(){return new He(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends x{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class Pe extends G{constructor(n){super(n),this.luminances=Pe.EMPTY,this.buckets=new Int32Array(Pe.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new U(a):i.clear(),this.initArrays(a);const c=s.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<a;h++)u[(c[h]&255)>>Pe.LUMINANCE_SHIFT]++;const d=Pe.estimateBlackPoint(u);if(a<3)for(let h=0;h<a;h++)(c[h]&255)<d&&i.set(h);else{let h=c[0]&255,p=c[1]&255;for(let E=1;E<a-1;E++){const C=c[E+1]&255;(p*4-h-C)/2<d&&i.set(E),h=p,p=C}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),a=new He(i,s);this.initArrays(i);const c=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),E=n.getRow(p,this.luminances),C=Math.floor(i*4/5);for(let A=Math.floor(i/5);A<C;A++){const S=E[A]&255;c[S>>Pe.LUMINANCE_SHIFT]++}}const u=Pe.estimateBlackPoint(c),d=n.getMatrix();for(let h=0;h<s;h++){const p=h*i;for(let E=0;E<i;E++)(d[p+E]&255)<u&&a.set(E,h)}return a}createBinarizer(n){return new Pe(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<Pe.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,a=0,c=0;for(let E=0;E<i;E++)n[E]>c&&(a=E,c=n[E]),n[E]>s&&(s=n[E]);let u=0,d=0;for(let E=0;E<i;E++){const C=E-a,A=n[E]*C*C;A>d&&(u=E,d=A)}if(a>u){const E=a;a=u,u=E}if(u-a<=i/16)throw new V;let h=u-1,p=-1;for(let E=u-1;E>a;E--){const C=E-a,A=C*C*(u-E)*(s-n[E]);A>p&&(h=E,p=A)}return h<<Pe.LUMINANCE_SHIFT}}Pe.LUMINANCE_BITS=5,Pe.LUMINANCE_SHIFT=8-Pe.LUMINANCE_BITS,Pe.LUMINANCE_BUCKETS=1<<Pe.LUMINANCE_BITS,Pe.EMPTY=Uint8ClampedArray.from([0]);class ge extends Pe{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=ge.MINIMUM_DIMENSION&&s>=ge.MINIMUM_DIMENSION){const a=n.getMatrix();let c=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&c++;let u=s>>ge.BLOCK_SIZE_POWER;s&ge.BLOCK_SIZE_MASK&&u++;const d=ge.calculateBlackPoints(a,c,u,i,s),h=new He(i,s);ge.calculateThresholdForBlock(a,c,u,i,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ge(n)}static calculateThresholdForBlock(n,i,s,a,c,u,d){const h=c-ge.BLOCK_SIZE,p=a-ge.BLOCK_SIZE;for(let E=0;E<s;E++){let C=E<<ge.BLOCK_SIZE_POWER;C>h&&(C=h);const A=ge.cap(E,2,s-3);for(let S=0;S<i;S++){let R=S<<ge.BLOCK_SIZE_POWER;R>p&&(R=p);const O=ge.cap(S,2,i-3);let k=0;for(let Z=-2;Z<=2;Z++){const Q=u[A+Z];k+=Q[O-2]+Q[O-1]+Q[O]+Q[O+1]+Q[O+2]}const B=k/25;ge.thresholdBlock(n,R,C,B,a,d)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,a,c,u){for(let d=0,h=s*c+i;d<ge.BLOCK_SIZE;d++,h+=c)for(let p=0;p<ge.BLOCK_SIZE;p++)(n[h+p]&255)<=a&&u.set(i+p,s+d)}static calculateBlackPoints(n,i,s,a,c){const u=c-ge.BLOCK_SIZE,d=a-ge.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(i);let E=p<<ge.BLOCK_SIZE_POWER;E>u&&(E=u);for(let C=0;C<i;C++){let A=C<<ge.BLOCK_SIZE_POWER;A>d&&(A=d);let S=0,R=255,O=0;for(let B=0,Z=E*a+A;B<ge.BLOCK_SIZE;B++,Z+=a){for(let Q=0;Q<ge.BLOCK_SIZE;Q++){const X=n[Z+Q]&255;S+=X,X<R&&(R=X),X>O&&(O=X)}if(O-R>ge.MIN_DYNAMIC_RANGE)for(B++,Z+=a;B<ge.BLOCK_SIZE;B++,Z+=a)for(let Q=0;Q<ge.BLOCK_SIZE;Q++)S+=n[Z+Q]&255}let k=S>>ge.BLOCK_SIZE_POWER*2;if(O-R<=ge.MIN_DYNAMIC_RANGE&&(k=R/2,p>0&&C>0)){const B=(h[p-1][C]+2*h[p][C-1]+h[p-1][C-1])/4;R<B&&(k=B)}h[p][C]=k}}return h}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class te{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,a){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new we;for(let s=0;s<this.height;s++){const a=this.getRow(s,n);for(let c=0;c<this.width;c++){const u=a[c]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class ue extends te{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),a=this.getWidth();for(let c=0;c<a;c++)s[c]=255-(s[c]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(n[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,a){return new ue(this.delegate.crop(n,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class pe extends te{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return pe.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const a=new Uint8ClampedArray(i*s);for(let c=0,u=0,d=n.length;c<d;c+=4,u++){let h;if(n[c+3]===0)h=255;else{const E=n[c],C=n[c+1],A=n[c+2];h=306*E+601*C+117*A+512>>10}a[u]=h}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth(),a=n*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,a){return super.crop(n,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),a=n*pe.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*c+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*c+Math.abs(Math.cos(a))*u);return i.width=d,i.height=h,s.translate(d/2,h/2),s.rotate(a),s.drawImage(this.canvas,c/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(i),this}invert(){return new ue(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Ze{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _e=(globalThis||Ws||self||window||void 0)&&(globalThis||Ws||self||window||void 0).__awaiter||function(y,n,i,s){function a(c){return c instanceof i?c:new i(function(u){u(c)})}return new(i||(i=Promise))(function(c,u){function d(E){try{p(s.next(E))}catch(C){u(C)}}function h(E){try{p(s.throw(E))}catch(C){u(C)}}function p(E){E.done?c(E.value):a(E.value).then(d,h)}p((s=s.apply(y,n||[])).next())})};class gn{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return _e(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;const c=s.deviceId||s.id,u=s.label||`Video device ${i.length+1}`,d=s.groupId,h={deviceId:c,label:u,kind:a,groupId:d};i.push(h)}return i})}getVideoInputDevices(){return _e(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ze(i.deviceId,i.label))})}findDeviceById(n){return _e(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return _e(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return _e(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return _e(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return _e(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return _e(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return _e(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeFromConstraints(c,i,s)})}decodeFromConstraints(n,i,s){return _e(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(n,i,s){return _e(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return _e(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return _e(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new I(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=n,a}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return _e(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return _e(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const a=(c,u)=>{if(this._stopAsyncDecode){u(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);c(d)}catch(d){const h=i&&d instanceof V,E=(d instanceof F||d instanceof M)&&s;if(h||E)return setTimeout(a,this._timeBetweenDecodingAttempts,c,u);u(d)}};return new Promise((c,u)=>a(c,u))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);const c=a instanceof F||a instanceof M,u=a instanceof V;(c||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new pe(i),a=new ge(s);return new b(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class qe{constructor(n,i,s=i==null?0:8*i.length,a,c,u=W.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=c,this.timestamp=u,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=c,this.resultMetadata=null,u==null?this.timestamp=W.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);W.arraycopy(i,0,s,0,i.length),W.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var li;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(li||(li={}));var oe=li,Ar;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ar||(Ar={}));var xt=Ar;class Os{constructor(n,i,s,a,c=-1,u=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class bs{exp(n){return this.expTable[n]}log(n){if(n===0)throw new _;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Gt{constructor(n,i){if(i.length===0)throw new _;this.field=n;const s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),W.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let u=0,d=i.length;u!==d;u++){const h=i[u];s=bs.addOrSubtract(s,h)}return s}s=i[0];const a=i.length,c=this.field;for(let u=1;u<a;u++)s=bs.addOrSubtract(c.multiply(n,s),i[u]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const u=i;i=s,s=u}let a=new Int32Array(s.length);const c=s.length-i.length;W.arraycopy(s,0,a,0,c);for(let u=c;u<s.length;u++)a[u]=bs.addOrSubtract(i[u-c],s[u]);return new Gt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,a=n.coefficients,c=a.length,u=new Int32Array(s+c-1),d=this.field;for(let h=0;h<s;h++){const p=i[h];for(let E=0;E<c;E++)u[h+E]=bs.addOrSubtract(u[h+E],d.multiply(p,a[E]))}return new Gt(d,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,a=new Int32Array(i),c=this.coefficients;for(let u=0;u<i;u++)a[u]=s.multiply(c[u],n);return new Gt(s,a)}multiplyByMonomial(n,i){if(n<0)throw new _;if(i===0)return this.field.getZero();const s=this.coefficients,a=s.length,c=new Int32Array(a+n),u=this.field;for(let d=0;d<a;d++)c[d]=u.multiply(s[d],i);return new Gt(u,c)}divide(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new _("Divide by 0");const i=this.field;let s=i.getZero(),a=this;const c=n.getCoefficient(n.getDegree()),u=i.inverse(c);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const d=a.getDegree()-n.getDegree(),h=i.multiply(a.getCoefficient(a.getDegree()),u),p=n.multiplyByMonomial(d,h),E=i.buildMonomial(d,h);s=s.addOrSubtract(E),a=a.addOrSubtract(p)}return[s,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const a=this.field.log(s);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Yo extends x{}Yo.kind="ArithmeticException";class Re extends bs{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const a=new Int32Array(i);let c=1;for(let d=0;d<i;d++)a[d]=c,c*=2,c>=i&&(c^=n,c&=i-1);this.expTable=a;const u=new Int32Array(i);for(let d=0;d<i-1;d++)u[a[d]]=d;this.logTable=u,this.zero=new Gt(this,Int32Array.from([0])),this.one=new Gt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new _;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Gt(this,s)}inverse(n){if(n===0)throw new Yo;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;class Bi extends x{}Bi.kind="ReedSolomonException";class Un extends x{}Un.kind="IllegalStateException";class Ds{constructor(n){this.field=n}decode(n,i){const s=this.field,a=new Gt(s,n),c=new Int32Array(i);let u=!0;for(let S=0;S<i;S++){const R=a.evaluateAt(s.exp(S+s.getGeneratorBase()));c[c.length-1-S]=R,R!==0&&(u=!1)}if(u)return;const d=new Gt(s,c),h=this.runEuclideanAlgorithm(s.buildMonomial(i,1),d,i),p=h[0],E=h[1],C=this.findErrorLocations(p),A=this.findErrorMagnitudes(E,C);for(let S=0;S<C.length;S++){const R=n.length-1-s.log(C[S]);if(R<0)throw new Bi("Bad error location");n[R]=Re.addOrSubtract(n[R],A[S])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const S=n;n=i,i=S}const a=this.field;let c=n,u=i,d=a.getZero(),h=a.getOne();for(;u.getDegree()>=(s/2|0);){let S=c,R=d;if(c=u,d=h,c.isZero())throw new Bi("r_{i-1} was zero");u=S;let O=a.getZero();const k=c.getCoefficient(c.getDegree()),B=a.inverse(k);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const Z=u.getDegree()-c.getDegree(),Q=a.multiply(u.getCoefficient(u.getDegree()),B);O=O.addOrSubtract(a.buildMonomial(Z,Q)),u=u.addOrSubtract(c.multiplyByMonomial(Z,Q))}if(h=O.multiply(d).addOrSubtract(R),u.getDegree()>=c.getDegree())throw new Un("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new Bi("sigmaTilde(0) was zero");const E=a.inverse(p),C=h.multiplyScalar(E),A=u.multiplyScalar(E);return[C,A]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let a=0;const c=this.field;for(let u=1;u<c.getSize()&&a<i;u++)n.evaluateAt(u)===0&&(s[a]=c.inverse(u),a++);if(a!==i)throw new Bi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,a=new Int32Array(s),c=this.field;for(let u=0;u<s;u++){const d=c.inverse(i[u]);let h=1;for(let p=0;p<s;p++)if(u!==p){const E=c.multiply(i[p],d),C=E&1?E&-2:E|1;h=c.multiply(h,C)}a[u]=c.multiply(n.evaluateAt(d),c.inverse(h)),c.getGeneratorBase()!==0&&(a[u]=c.multiply(a[u],d))}return a}}var At;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(At||(At={}));class We{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),a=this.correctBits(s),c=We.convertBoolArrayToByteArray(a),u=We.getEncodedData(a),d=new Os(c,u,null,null);return d.setNumBits(a.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=At.UPPER,a=At.UPPER,c="",u=0;for(;u<i;)if(a===At.BINARY){if(i-u<5)break;let d=We.readCode(n,u,5);if(u+=5,d===0){if(i-u<11)break;d=We.readCode(n,u,11)+31,u+=11}for(let h=0;h<d;h++){if(i-u<8){u=i;break}const p=We.readCode(n,u,8);c+=ee.castAsNonUtf8Char(p),u+=8}a=s}else{let d=a===At.DIGIT?4:5;if(i-u<d)break;let h=We.readCode(n,u,d);u+=d;let p=We.getCharacter(a,h);p.startsWith("CTRL_")?(s=a,a=We.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=a)):(c+=p,a=s)}return c}static getTable(n){switch(n){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(n,i){switch(n){case At.UPPER:return We.UPPER_TABLE[i];case At.LOWER:return We.LOWER_TABLE[i];case At.MIXED:return We.MIXED_TABLE[i];case At.PUNCT:return We.PUNCT_TABLE[i];case At.DIGIT:return We.DIGIT_TABLE[i];default:throw new Un("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=Re.AZTEC_DATA_10):(s=12,i=Re.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),c=n.length/s;if(c<a)throw new M;let u=n.length%s,d=new Int32Array(c);for(let A=0;A<c;A++,u+=s)d[A]=We.readCode(n,u,s);try{new Ds(i).decode(d,c-a)}catch(A){throw new M(A)}let h=(1<<s)-1,p=0;for(let A=0;A<a;A++){let S=d[A];if(S===0||S===h)throw new M;(S===1||S===h-1)&&p++}let E=new Array(a*s-p),C=0;for(let A=0;A<a;A++){let S=d[A];if(S===1||S===h-1)E.fill(S>1,C,C+s-1),C+=s-1;else for(let R=s-1;R>=0;--R)E[C++]=(S&1<<R)!==0}return E}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(i?11:14)+s*4,c=new Int32Array(a),u=new Array(this.totalBitsInLayer(s,i));if(i)for(let d=0;d<c.length;d++)c[d]=d;else{let d=a+1+2*N.truncDivision(N.truncDivision(a,2)-1,15),h=a/2,p=N.truncDivision(d,2);for(let E=0;E<h;E++){let C=E+N.truncDivision(E,15);c[h-E-1]=p-C-1,c[h+E]=p+C+1}}for(let d=0,h=0;d<s;d++){let p=(s-d)*4+(i?9:12),E=d*2,C=a-1-E;for(let A=0;A<p;A++){let S=A*2;for(let R=0;R<2;R++)u[h+S+R]=n.get(c[E+R],c[E+A]),u[h+2*p+S+R]=n.get(c[E+A],c[C-R]),u[h+4*p+S+R]=n.get(c[C-R],c[C-A]),u[h+6*p+S+R]=n.get(c[C-A],c[E+R])}h+=p*8}return u}static readCode(n,i,s){let a=0;for(let c=i;c<i+s;c++)a<<=1,n[c]&&(a|=1);return a}static readByte(n,i){let s=n.length-i;return s>=8?We.readCode(n,i,8):We.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=We.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Se{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,a){const c=n-s,u=i-a;return Math.sqrt(c*c+u*u)}static sum(n){let i=0;for(let s=0,a=n.length;s!==a;s++){const c=n[s];i+=c}return i}}class Ko{static floatToIntBits(n){return n}}Ko.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof se){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ko.floatToIntBits(this.x)+Ko.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let c,u,d;if(s>=i&&s>=a?(u=n[0],c=n[1],d=n[2]):a>=s&&a>=i?(u=n[1],c=n[0],d=n[2]):(u=n[2],c=n[0],d=n[1]),this.crossProductZ(c,u,d)<0){const h=c;c=d,d=h}n[0]=c,n[1]=u,n[2]=d}static distance(n,i){return Se.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const a=i.x,c=i.y;return(s.x-a)*(n.y-c)-(s.y-c)*(n.x-a)}}class Zo{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class yf extends Zo{constructor(n,i,s,a,c){super(n,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class nr{constructor(n,i,s,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=nr.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const c=i/2|0;if(this.leftInit=s-c,this.rightInit=s+c,this.upInit=a-c,this.downInit=a+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,a=this.downInit,c=!1,u=!0,d=!1,h=!1,p=!1,E=!1,C=!1;const A=this.width,S=this.height;for(;u;){u=!1;let R=!0;for(;(R||!h)&&i<A;)R=this.containsBlackPoint(s,a,i,!1),R?(i++,u=!0,h=!0):h||i++;if(i>=A){c=!0;break}let O=!0;for(;(O||!p)&&a<S;)O=this.containsBlackPoint(n,i,a,!0),O?(a++,u=!0,p=!0):p||a++;if(a>=S){c=!0;break}let k=!0;for(;(k||!E)&&n>=0;)k=this.containsBlackPoint(s,a,n,!1),k?(n--,u=!0,E=!0):E||n--;if(n<0){c=!0;break}let B=!0;for(;(B||!C)&&s>=0;)B=this.containsBlackPoint(n,i,s,!0),B?(s--,u=!0,C=!0):C||s--;if(s<0){c=!0;break}u&&(d=!0)}if(!c&&d){const R=i-n;let O=null;for(let Q=1;O===null&&Q<R;Q++)O=this.getBlackPointOnSegment(n,a-Q,n+Q,a);if(O==null)throw new V;let k=null;for(let Q=1;k===null&&Q<R;Q++)k=this.getBlackPointOnSegment(n,s+Q,n+Q,s);if(k==null)throw new V;let B=null;for(let Q=1;B===null&&Q<R;Q++)B=this.getBlackPointOnSegment(i,s+Q,i-Q,s);if(B==null)throw new V;let Z=null;for(let Q=1;Z===null&&Q<R;Q++)Z=this.getBlackPointOnSegment(i,a-Q,i-Q,a);if(Z==null)throw new V;return this.centerEdges(Z,O,B,k)}else throw new V}getBlackPointOnSegment(n,i,s,a){const c=Se.round(Se.distance(n,i,s,a)),u=(s-n)/c,d=(a-i)/c,h=this.image;for(let p=0;p<c;p++){const E=Se.round(n+p*u),C=Se.round(i+p*d);if(h.get(E,C))return new se(E,C)}return null}centerEdges(n,i,s,a){const c=n.getX(),u=n.getY(),d=i.getX(),h=i.getY(),p=s.getX(),E=s.getY(),C=a.getX(),A=a.getY(),S=nr.CORR;return c<this.width/2?[new se(C-S,A+S),new se(d+S,h+S),new se(p-S,E-S),new se(c+S,u-S)]:[new se(C+S,A+S),new se(d+S,h-S),new se(p-S,E+S),new se(c-S,u-S)]}containsBlackPoint(n,i,s,a){const c=this.image;if(a){for(let u=n;u<=i;u++)if(c.get(u,s))return!0}else for(let u=n;u<=i;u++)if(c.get(s,u))return!0;return!1}}nr.INIT_SIZE=10,nr.CORR=1;class Jl{static checkAndNudgePoints(n,i){const s=n.getWidth(),a=n.getHeight();let c=!0;for(let u=0;u<i.length&&c;u+=2){const d=Math.floor(i[u]),h=Math.floor(i[u+1]);if(d<-1||d>s||h<-1||h>a)throw new V;c=!1,d===-1?(i[u]=0,c=!0):d===s&&(i[u]=s-1,c=!0),h===-1?(i[u+1]=0,c=!0):h===a&&(i[u+1]=a-1,c=!0)}c=!0;for(let u=i.length-2;u>=0&&c;u-=2){const d=Math.floor(i[u]),h=Math.floor(i[u+1]);if(d<-1||d>s||h<-1||h>a)throw new V;c=!1,d===-1?(i[u]=0,c=!0):d===s&&(i[u]=s-1,c=!0),h===-1?(i[u+1]=0,c=!0):h===a&&(i[u+1]=a-1,c=!0)}}}class Tn{constructor(n,i,s,a,c,u,d,h,p){this.a11=n,this.a21=i,this.a31=s,this.a12=a,this.a22=c,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,i,s,a,c,u,d,h,p,E,C,A,S,R,O,k){const B=Tn.quadrilateralToSquare(n,i,s,a,c,u,d,h);return Tn.squareToQuadrilateral(p,E,C,A,S,R,O,k).times(B)}transformPoints(n){const i=n.length,s=this.a11,a=this.a12,c=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,E=this.a32,C=this.a33;for(let A=0;A<i;A+=2){const S=n[A],R=n[A+1],O=c*S+h*R+C;n[A]=(s*S+u*R+p)/O,n[A+1]=(a*S+d*R+E)/O}}transformPointsWithValues(n,i){const s=this.a11,a=this.a12,c=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,E=this.a32,C=this.a33,A=n.length;for(let S=0;S<A;S++){const R=n[S],O=i[S],k=c*R+h*O+C;n[S]=(s*R+u*O+p)/k,i[S]=(a*R+d*O+E)/k}}static squareToQuadrilateral(n,i,s,a,c,u,d,h){const p=n-s+c-d,E=i-a+u-h;if(p===0&&E===0)return new Tn(s-n,c-s,n,a-i,u-a,i,0,0,1);{const C=s-c,A=d-c,S=a-u,R=h-u,O=C*R-A*S,k=(p*R-A*E)/O,B=(C*E-p*S)/O;return new Tn(s-n+k*s,d-n+B*d,n,a-i+k*a,h-i+B*h,i,k,B,1)}}static quadrilateralToSquare(n,i,s,a,c,u,d,h){return Tn.squareToQuadrilateral(n,i,s,a,c,u,d,h).buildAdjoint()}buildAdjoint(){return new Tn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Tn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Cf extends Jl{sampleGrid(n,i,s,a,c,u,d,h,p,E,C,A,S,R,O,k,B,Z,Q){const X=Tn.quadrilateralToQuadrilateral(a,c,u,d,h,p,E,C,A,S,R,O,k,B,Z,Q);return this.sampleGridWithTransform(n,i,s,X)}sampleGridWithTransform(n,i,s,a){if(i<=0||s<=0)throw new V;const c=new He(i,s),u=new Float32Array(2*i);for(let d=0;d<s;d++){const h=u.length,p=d+.5;for(let E=0;E<h;E+=2)u[E]=E/2+.5,u[E+1]=p;a.transformPoints(u),Jl.checkAndNudgePoints(n,u);try{for(let E=0;E<h;E+=2)n.get(Math.floor(u[E]),Math.floor(u[E+1]))&&c.set(E/2,d)}catch{throw new V}}return c}}class vr{static setGridSampler(n){vr.gridSampler=n}static getInstance(){return vr.gridSampler}}vr.gridSampler=new Cf;class Ft{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Af{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),c=this.getMatrixCornerPoints(s);return new yf(a,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new V;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let u=0;u<4;u++){let d=s[(this.shift+u)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(n,i){let s=0;n.forEach((a,c,u)=>{let d=(a>>i-2<<1)+(a&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(N.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new V}getCorrectedParameterData(n,i){let s,a;i?(s=7,a=2):(s=10,a=4);let c=s-a,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=n&15,n>>=4;try{new Ds(Re.AZTEC_PARAM).decode(u,c)}catch{throw new V}let d=0;for(let h=0;h<a;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(n){let i=n,s=n,a=n,c=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(i,u,1,-1),A=this.getFirstDifferent(s,u,1,1),S=this.getFirstDifferent(a,u,-1,1),R=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(R,C)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(C,A,S,R))break}i=C,s=A,a=S,c=R,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let d=new se(i.getX()+.5,i.getY()-.5),h=new se(s.getX()+.5,s.getY()+.5),p=new se(a.getX()-.5,a.getY()+.5),E=new se(c.getX()-.5,c.getY()-.5);return this.expandSquare([d,h,p,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,a;try{let d=new nr(this.image).detect();n=d[0],i=d[1],s=d[2],a=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Ft(h+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ft(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ft(h-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ft(h-7,p-7),!1,-1,-1).toResultPoint()}let c=Se.round((n.getX()+a.getX()+i.getX()+s.getX())/4),u=Se.round((n.getY()+a.getY()+i.getY()+s.getY())/4);try{let d=new nr(this.image,15,c,u).detect();n=d[0],i=d[1],s=d[2],a=d[3]}catch{n=this.getFirstDifferent(new Ft(c+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ft(c+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ft(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ft(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Se.round((n.getX()+a.getX()+i.getX()+s.getX())/4),u=Se.round((n.getY()+a.getY()+i.getY()+s.getY())/4),new Ft(c,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,a,c){let u=vr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),c.getX(),c.getY())}sampleLine(n,i,s){let a=0,c=this.distanceResultPoint(n,i),u=c/s,d=n.getX(),h=n.getY(),p=u*(i.getX()-n.getX())/c,E=u*(i.getY()-n.getY())/c;for(let C=0;C<s;C++)this.image.get(Se.round(d+C*p),Se.round(h+C*E))&&(a|=1<<s-C-1);return a}isWhiteOrBlackRectangle(n,i,s,a){let c=3;n=new Ft(n.getX()-c,n.getY()+c),i=new Ft(i.getX()-c,i.getY()-c),s=new Ft(s.getX()+c,s.getY()-c),a=new Ft(a.getX()+c,a.getY()+c);let u=this.getColor(a,n);if(u===0)return!1;let d=this.getColor(n,i);return d!==u||(d=this.getColor(i,s),d!==u)?!1:(d=this.getColor(s,a),d===u)}getColor(n,i){let s=this.distancePoint(n,i),a=(i.getX()-n.getX())/s,c=(i.getY()-n.getY())/s,u=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),E=Math.ceil(s);for(let A=0;A<E;A++)d+=a,h+=c,this.image.get(Se.round(d),Se.round(h))!==p&&u++;let C=u/s;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(n,i,s,a){let c=n.getX()+s,u=n.getY()+a;for(;this.isValid(c,u)&&this.image.get(c,u)===i;)c+=s,u+=a;for(c-=s,u-=a;this.isValid(c,u)&&this.image.get(c,u)===i;)c+=s;for(c-=s;this.isValid(c,u)&&this.image.get(c,u)===i;)u+=a;return u-=a,new Ft(c,u)}expandSquare(n,i,s){let a=s/(2*i),c=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new se(d+a*c,h+a*u),E=new se(d-a*c,h-a*u);c=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let C=new se(d+a*c,h+a*u),A=new se(d-a*c,h-a*u);return[p,C,E,A]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Se.round(n.getX()),s=Se.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return Se.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Se.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Qo{decode(n,i=null){let s=null,a=new Af(n.getBlackMatrix()),c=null,u=null;try{let E=a.detectMirror(!1);c=E.getPoints(),this.reportFoundResultPoints(i,c),u=new We().decode(E)}catch(E){s=E}if(u==null)try{let E=a.detectMirror(!0);c=E.getPoints(),this.reportFoundResultPoints(i,c),u=new We().decode(E)}catch(E){throw s??E}let d=new qe(u.getText(),u.getRawBytes(),u.getNumBits(),c,oe.AZTEC,W.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(xt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(xt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(K.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,c,u)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class _2 extends gn{constructor(n=500){super(new Qo,n)}}class ut{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(K.TRY_HARDER)===!0&&n.isRotateSupported()){const c=n.rotateCounterClockwise(),u=this.doDecode(c,i),d=u.getResultMetadata();let h=270;d!==null&&d.get(xt.ORIENTATION)===!0&&(h=h+d.get(xt.ORIENTATION)%360),u.putMetadata(xt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const E=c.getHeight();for(let C=0;C<p.length;C++)p[C]=new se(E-p[C].getY()-1,p[C].getX())}return u}else throw new V}}reset(){}doDecode(n,i){const s=n.getWidth(),a=n.getHeight();let c=new U(s);const u=i&&i.get(K.TRY_HARDER)===!0,d=Math.max(1,a>>(u?8:5));let h;u?h=a:h=15;const p=Math.trunc(a/2);for(let E=0;E<h;E++){const C=Math.trunc((E+1)/2),A=(E&1)===0,S=p+d*(A?C:-C);if(S<0||S>=a)break;try{c=n.getBlackRow(S,c)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(c.reverse(),i&&i.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const O=new Map;i.forEach((k,B)=>O.set(B,k)),O.delete(K.NEED_RESULT_POINT_CALLBACK),i=O}try{const O=this.decodeRow(S,c,i);if(R===1){O.putMetadata(xt.ORIENTATION,180);const k=O.getResultPoints();k!==null&&(k[0]=new se(s-k[0].getX()-1,k[0].getY()),k[1]=new se(s-k[1].getX()-1,k[1].getY()))}return O}catch{}}}throw new V}static recordPattern(n,i,s){const a=s.length;for(let p=0;p<a;p++)s[p]=0;const c=n.getSize();if(i>=c)throw new V;let u=!n.get(i),d=0,h=i;for(;h<c;){if(n.get(h)!==u)s[d]++;else{if(++d===a)break;s[d]=1,u=!u}h++}if(!(d===a||d===a-1&&h===c))throw new V}static recordPatternInReverse(n,i,s){let a=s.length,c=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==c&&(a--,c=!c);if(a>=0)throw new V;ut.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const a=n.length;let c=0,u=0;for(let p=0;p<a;p++)c+=n[p],u+=i[p];if(c<u)return Number.POSITIVE_INFINITY;const d=c/u;s*=d;let h=0;for(let p=0;p<a;p++){const E=n[p],C=i[p]*d,A=E>C?E-C:C-E;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/c}}class q extends ut{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let a=0,c=Int32Array.from([0,0,0,0,0,0]),u=s,d=!1;const h=6;for(let p=s;p<i;p++)if(n.get(p)!==d)c[a]++;else{if(a===h-1){let E=q.MAX_AVG_VARIANCE,C=-1;for(let A=q.CODE_START_A;A<=q.CODE_START_C;A++){const S=ut.patternMatchVariance(c,q.CODE_PATTERNS[A],q.MAX_INDIVIDUAL_VARIANCE);S<E&&(E=S,C=A)}if(C>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,C]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[a-1]=0,c[a]=0,a--}else a++;c[a]=1,d=!d}throw new V}static decodeCode(n,i,s){ut.recordPattern(n,s,i);let a=q.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<q.CODE_PATTERNS.length;u++){const d=q.CODE_PATTERNS[u],h=this.patternMatchVariance(i,d,q.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,c=u)}if(c>=0)return c;throw new V}decodeRow(n,i,s){const a=s&&s.get(K.ASSUME_GS1)===!0,c=q.findStartPattern(i),u=c[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case q.CODE_START_A:p=q.CODE_CODE_A;break;case q.CODE_START_B:p=q.CODE_CODE_B;break;case q.CODE_START_C:p=q.CODE_CODE_C;break;default:throw new M}let E=!1,C=!1,A="",S=c[0],R=c[1];const O=Int32Array.from([0,0,0,0,0,0]);let k=0,B=0,Z=u,Q=0,X=!0,Ae=!1,xe=!1;for(;!E;){const Xi=C;switch(C=!1,k=B,B=q.decodeCode(i,O,R),h[d++]=B,B!==q.CODE_STOP&&(X=!0),B!==q.CODE_STOP&&(Q++,Z+=Q*B),S=R,R+=O.reduce((em,tm)=>em+tm,0),B){case q.CODE_START_A:case q.CODE_START_B:case q.CODE_START_C:throw new M}switch(p){case q.CODE_CODE_A:if(B<64)xe===Ae?A+=String.fromCharCode(32+B):A+=String.fromCharCode(32+B+128),xe=!1;else if(B<96)xe===Ae?A+=String.fromCharCode(B-64):A+=String.fromCharCode(B+64),xe=!1;else switch(B!==q.CODE_STOP&&(X=!1),B){case q.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_A:!Ae&&xe?(Ae=!0,xe=!1):Ae&&xe?(Ae=!1,xe=!1):xe=!0;break;case q.CODE_SHIFT:C=!0,p=q.CODE_CODE_B;break;case q.CODE_CODE_B:p=q.CODE_CODE_B;break;case q.CODE_CODE_C:p=q.CODE_CODE_C;break;case q.CODE_STOP:E=!0;break}break;case q.CODE_CODE_B:if(B<96)xe===Ae?A+=String.fromCharCode(32+B):A+=String.fromCharCode(32+B+128),xe=!1;else switch(B!==q.CODE_STOP&&(X=!1),B){case q.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_B:!Ae&&xe?(Ae=!0,xe=!1):Ae&&xe?(Ae=!1,xe=!1):xe=!0;break;case q.CODE_SHIFT:C=!0,p=q.CODE_CODE_A;break;case q.CODE_CODE_A:p=q.CODE_CODE_A;break;case q.CODE_CODE_C:p=q.CODE_CODE_C;break;case q.CODE_STOP:E=!0;break}break;case q.CODE_CODE_C:if(B<100)B<10&&(A+="0"),A+=B;else switch(B!==q.CODE_STOP&&(X=!1),B){case q.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case q.CODE_CODE_A:p=q.CODE_CODE_A;break;case q.CODE_CODE_B:p=q.CODE_CODE_B;break;case q.CODE_STOP:E=!0;break}break}Xi&&(p=p===q.CODE_CODE_A?q.CODE_CODE_B:q.CODE_CODE_A)}const Kt=R-S;if(R=i.getNextUnset(R),!i.isRange(R,Math.min(i.getSize(),R+(R-S)/2),!1))throw new V;if(Z-=Q*k,Z%103!==k)throw new F;const Rn=A.length;if(Rn===0)throw new V;Rn>0&&X&&(p===q.CODE_CODE_C?A=A.substring(0,Rn-2):A=A.substring(0,Rn-1));const Zt=(c[1]+c[0])/2,Ue=S+Kt/2,_t=h.length,nn=new Uint8Array(_t);for(let Xi=0;Xi<_t;Xi++)nn[Xi]=h[Xi];const ji=[new se(Zt,n),new se(Ue,n)];return new qe(A,nn,0,ji,oe.CODE_128,new Date().getTime())}}q.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],q.MAX_AVG_VARIANCE=.25,q.MAX_INDIVIDUAL_VARIANCE=.7,q.CODE_SHIFT=98,q.CODE_CODE_C=99,q.CODE_CODE_B=100,q.CODE_CODE_A=101,q.CODE_FNC_1=102,q.CODE_FNC_2=97,q.CODE_FNC_3=96,q.CODE_FNC_4_A=101,q.CODE_FNC_4_B=100,q.CODE_START_A=103,q.CODE_START_B=104,q.CODE_START_C=105,q.CODE_STOP=106;class dt extends ut{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let a=this.counters;a.fill(0),this.decodeRowResult="";let c=dt.findAsteriskPattern(i,a),u=i.getNextSet(c[1]),d=i.getSize(),h,p;do{dt.recordPattern(i,u,a);let O=dt.toNarrowWidePattern(a);if(O<0)throw new V;h=dt.patternToChar(O),this.decodeRowResult+=h,p=u;for(let k of a)u+=k;u=i.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let O of a)E+=O;let C=u-p-E;if(u!==d&&C*2<E)throw new V;if(this.usingCheckDigit){let O=this.decodeRowResult.length-1,k=0;for(let B=0;B<O;B++)k+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(O)!==dt.ALPHABET_STRING.charAt(k%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new V;let A;this.extendedMode?A=dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let S=(c[1]+c[0])/2,R=p+E/2;return new qe(A,null,0,[new se(S,n),new se(R,n)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),a=n.getNextSet(0),c=0,u=a,d=!1,h=i.length;for(let p=a;p<s;p++)if(n.get(p)!==d)i[c]++;else{if(c===h-1){if(this.toNarrowWidePattern(i)===dt.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,d=!d}throw new V}static toNarrowWidePattern(n){let i=n.length,s=0,a;do{let c=2147483647;for(let h of n)h<c&&h>s&&(c=h);s=c,a=0;let u=0,d=0;for(let h=0;h<i;h++){let p=n[h];p>s&&(d|=1<<i-1-h,a++,u+=p)}if(a===3){for(let h=0;h<i&&a>0;h++){let p=n[h];if(p>s&&(a--,p*2>=u))return-1}return d}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<dt.CHARACTER_ENCODINGS.length;i++)if(dt.CHARACTER_ENCODINGS[i]===n)return dt.ALPHABET_STRING.charAt(i);if(n===dt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(n){let i=n.length,s="";for(let a=0;a<i;a++){let c=n.charAt(a);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=n.charAt(a+1),d="\0";switch(c){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new M;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new M;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new M;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new M;break}s+=d,a++}else s+=c}return s}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class Be extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let a=this.decodeStart(i),c=this.decodeEnd(i),u=new we;Be.decodeMiddle(i,a[1],c[0],u);let d=u.toString(),h=null;s!=null&&(h=s.get(K.ALLOWED_LENGTHS)),h==null&&(h=Be.DEFAULT_ALLOWED_LENGTHS);let p=d.length,E=!1,C=0;for(let R of h){if(p===R){E=!0;break}R>C&&(C=R)}if(!E&&p>C&&(E=!0),!E)throw new M;const A=[new se(a[1],n),new se(c[0],n)];return new qe(d,null,0,A,oe.ITF,new Date().getTime())}static decodeMiddle(n,i,s,a){let c=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(c.fill(0),u.fill(0),d.fill(0);i<s;){ut.recordPattern(n,i,c);for(let p=0;p<5;p++){let E=2*p;u[p]=c[E],d[p]=c[E+1]}let h=Be.decodeDigit(u);a.append(h.toString()),h=this.decodeDigit(d),a.append(h.toString()),c.forEach(function(p){i+=p})}}decodeStart(n){let i=Be.skipWhiteSpace(n),s=Be.findGuardPattern(n,i,Be.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!n.get(a);a--)s--;if(s!==0)throw new V}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new V;return s}decodeEnd(n){n.reverse();try{let i=Be.skipWhiteSpace(n),s;try{s=Be.findGuardPattern(n,i,Be.END_PATTERN_REVERSED[0])}catch(c){c instanceof V&&(s=Be.findGuardPattern(n,i,Be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let a=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-a,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let a=s.length,c=new Int32Array(a),u=n.getSize(),d=!1,h=0,p=i;c.fill(0);for(let E=i;E<u;E++)if(n.get(E)!==d)c[h]++;else{if(h===a-1){if(ut.patternMatchVariance(c,s,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return[p,E];p+=c[0]+c[1],W.arraycopy(c,2,c,0,h-1),c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,d=!d}throw new V}static decodeDigit(n){let i=Be.MAX_AVG_VARIANCE,s=-1,a=Be.PATTERNS.length;for(let c=0;c<a;c++){let u=Be.PATTERNS[c],d=ut.patternMatchVariance(n,u,Be.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,s=c):d===i&&(s=-1)}if(s>=0)return s%10;throw new V}}Be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Be.MAX_AVG_VARIANCE=.38,Be.MAX_INDIVIDUAL_VARIANCE=.5,Be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Be.START_PATTERN=Int32Array.from([1,1,1,1]),Be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,a=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),s=rt.findGuardPattern(n,a,!1,this.START_END_PATTERN,c);let u=s[0];a=s[1];let d=u-(a-u);d>=0&&(i=n.isRange(d,u,!1))}return s}static checkChecksum(n){return rt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return rt.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new M;s+=c}s*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new M;s+=c}return(1e3-s)%10}static decodeEnd(n,i){return rt.findGuardPattern(n,i,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,a){return this.findGuardPattern(n,i,s,a,new Int32Array(a.length))}static findGuardPattern(n,i,s,a,c){let u=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let d=0,h=i,p=a.length,E=s;for(let C=i;C<u;C++)if(n.get(C)!==E)c[d]++;else{if(d===p-1){if(ut.patternMatchVariance(c,a,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=c[0]+c[1];let A=c.slice(2,c.length-1);for(let S=0;S<d-1;S++)c[S]=A[S];c[d-1]=0,c[d]=0,d--}else d++;c[d]=1,E=!E}throw new V}static decodeDigit(n,i,s,a){this.recordPattern(n,s,i);let c=this.MAX_AVG_VARIANCE,u=-1,d=a.length;for(let h=0;h<d;h++){let p=a[h],E=ut.patternMatchVariance(i,p,rt.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,u=h)}if(u>=0)return u;throw new V}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ks{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,s,a),u=a.toString(),d=ks.parseExtensionString(u),h=[new se((s[0]+s[1])/2,n),new se(c,n)],p=new qe(u,null,0,h,oe.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],d=0;for(let p=0;p<5&&u<c;p++){let E=rt.decodeDigit(n,a,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+E%10);for(let C of a)u+=C;E>=10&&(d|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(s.length!==5)throw new V;let h=this.determineCheckDigit(d);if(ks.extensionChecksum(s.toString())!==h)throw new V;return u}static extensionChecksum(n){let i=n.length,s=0;for(let a=i-2;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new V}static parseExtensionString(n){if(n.length!==5)return null;let i=ks.parseExtension5String(n);return i==null?null:new Map([[xt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),a=(s/100).toString(),c=s%100,u=c<10?"0"+c:c.toString();return i+a+"."+u}}class ec{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,s,a),u=a.toString(),d=ec.parseExtensionString(u),h=[new se((s[0]+s[1])/2,n),new se(c,n)],p=new qe(u,null,0,h,oe.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],d=0;for(let h=0;h<2&&u<c;h++){let p=rt.decodeDigit(n,a,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let E of a)u+=E;p>=10&&(d|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(s.length!==2)throw new V;if(parseInt(s.toString())%4!==d)throw new V;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(n)]])}}class vf{static decodeRow(n,i,s){let a=rt.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ks().decodeRow(n,i,a)}catch{return new ec().decodeRow(n,i,a)}}}vf.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Oe extends rt{constructor(){super(),this.decodeRowStringBuffer="",Oe.L_AND_G_PATTERNS=Oe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Oe.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Oe.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let a=Oe.findStartGuardPattern(i),c=s==null?null:s.get(K.NEED_RESULT_POINT_CALLBACK);if(c!=null){const X=new se((a[0]+a[1])/2,n);c.foundPossibleResultPoint(X)}let u=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(c!=null){const X=new se(d,n);c.foundPossibleResultPoint(X)}let p=this.decodeEnd(i,d);if(c!=null){const X=new se((p[0]+p[1])/2,n);c.foundPossibleResultPoint(X)}let E=p[1],C=E+(E-p[0]);if(C>=i.getSize()||!i.isRange(E,C,!1))throw new V;let A=h.toString();if(A.length<8)throw new M;if(!Oe.checkChecksum(A))throw new F;let S=(a[1]+a[0])/2,R=(p[1]+p[0])/2,O=this.getBarcodeFormat(),k=[new se(S,n),new se(R,n)],B=new qe(A,null,0,k,O,new Date().getTime()),Z=0;try{let X=vf.decodeRow(n,i,p[1]);B.putMetadata(xt.UPC_EAN_EXTENSION,X.getText()),B.putAllMetadata(X.getResultMetadata()),B.addResultPoints(X.getResultPoints()),Z=X.getText().length}catch{}let Q=s==null?null:s.get(K.ALLOWED_EAN_EXTENSIONS);if(Q!=null){let X=!1;for(let Ae in Q)if(Z.toString()===Ae){X=!0;break}if(!X)throw new V}return B}decodeEnd(n,i){return Oe.findGuardPattern(n,i,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Oe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return Oe.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new M;s+=c}s*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new M;s+=c}return(1e3-s)%10}}class ci extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],d=0;for(let p=0;p<6&&u<c;p++){let E=Oe.decodeDigit(n,a,u,Oe.L_AND_G_PATTERNS);s+=String.fromCharCode(48+E%10);for(let C of a)u+=C;E>=10&&(d|=1<<5-p)}s=ci.determineFirstDigit(s,d),u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<c;p++){let E=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode(48+E);for(let C of a)u+=C}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new V}}ci.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class If extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1];for(let h=0;h<4&&u<c;h++){let p=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode(48+p);for(let E of a)u+=E}u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<c;h++){let p=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode(48+p);for(let E of a)u+=E}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return oe.EAN_8}}class _f extends Oe{constructor(){super(...arguments),this.ean13Reader=new ci}getBarcodeFormat(){return oe.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new qe(i.substring(1),null,null,n.getResultPoints(),oe.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new V}reset(){this.ean13Reader.reset()}}class Nn extends Oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const c=n.getSize();let u=i[1],d=0;for(let p=0;p<6&&u<c;p++){const E=Nn.decodeDigit(n,a,u,Nn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+E%10);for(let C of a)u+=C;E>=10&&(d|=1<<5-p)}let h=Nn.determineNumSysAndCheckDigit(s,d);return{rowOffset:u,resultString:h}}decodeEnd(n,i){return Nn.findGuardPatternWithoutCounters(n,i,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(n){return Oe.checkChecksum(Nn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let c=String.fromCharCode(48+s),u=String.fromCharCode(48+a);return c+n+u}throw V.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(c=>c.charCodeAt(0)),s=new we;s.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tc extends ut{constructor(n){super();let i=n==null?null:n.get(K.POSSIBLE_FORMATS),s=[];o(i)?(s.push(new ci),s.push(new _f),s.push(new If),s.push(new Nn)):(i.indexOf(oe.EAN_13)>-1&&s.push(new ci),i.indexOf(oe.UPC_A)>-1&&s.push(new _f),i.indexOf(oe.EAN_8)>-1&&s.push(new If),i.indexOf(oe.UPC_E)>-1&&s.push(new Nn)),this.readers=s}decodeRow(n,i,s){for(let a of this.readers)try{const c=a.decodeRow(n,i,s),u=c.getBarcodeFormat()===oe.EAN_13&&c.getText().charAt(0)==="0",d=s==null?null:s.get(K.POSSIBLE_FORMATS),h=d==null||d.includes(oe.UPC_A);if(u&&h){const p=c.getRawBytes(),E=new qe(c.getText().substring(1),p,p?p.length:null,c.getResultPoints(),oe.UPC_A);return E.putAllMetadata(c.getResultMetadata()),E}return c}catch{}throw new V}reset(){for(let n of this.readers)n.reset()}}class bt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(ut.patternMatchVariance(n,i[s],bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return s;throw new V}static count(n){return Se.sum(new Int32Array(n))}static increment(n,i){let s=0,a=i[0];for(let c=1;c<n.length;c++)i[c]>a&&(a=i[c],s=c);n[s]++}static decrement(n,i){let s=0,a=i[0];for(let c=1;c<n.length;c++)i[c]<a&&(a=i[c],s=c);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],a=i/s;if(a>=bt.MIN_FINDER_PATTERN_RATIO&&a<=bt.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of n)d>u&&(u=d),d<c&&(c=d);return u<10*c}return!1}}bt.MAX_AVG_VARIANCE=.2,bt.MAX_INDIVIDUAL_VARIANCE=.45,bt.MIN_FINDER_PATTERN_RATIO=9.5/12,bt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Fi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Fi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $o{constructor(n,i,s,a,c){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new se(s,c)),this.resultPoints.push(new se(a,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof $o))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Vn{constructor(){}static getRSSvalue(n,i,s){let a=0;for(let h of n)a+=h;let c=0,u=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let E=Vn.combins(a-p-1,d-h-2);if(s&&u===0&&a-p-(d-h-1)>=d-h-1&&(E-=Vn.combins(a-p-(d-h),d-h-2)),d-h-1>1){let C=0;for(let A=a-p-(d-h-2);A>i;A--)C+=Vn.combins(a-p-A-1,d-h-3);E-=C*(d-1-h)}else a-p>i&&E--;c+=E}a-=p}return c}static combins(n,i){let s,a;n-i>i?(a=i,s=n-i):(a=n-i,s=i);let c=1,u=1;for(let d=n;d>s;d--)c*=d,u<=a&&(c/=u,u++);for(;u<=a;)c/=u,u++;return c}}class S2{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new U(s),c=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&a.set(c),c++;for(let h=1;h<n.length;++h){let p=n[h],E=p.getLeftChar().getValue();for(let C=11;C>=0;--C)E&1<<C&&a.set(c),c++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&a.set(c),c++}}return a}}class ui{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nc{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class jt extends nc{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===jt.FNC1}}jt.FNC1="$";class fi extends nc{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class pn extends nc{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new M;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===pn.FNC1}isAnyFNC1(){return this.firstDigit===pn.FNC1||this.secondDigit===pn.FNC1}}pn.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new V;let i=n.substring(0,2);for(let c of ne.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,c[2],n):ne.processFixedAI(2,c[1],n);if(n.length<3)throw new V;let s=n.substring(0,3);for(let c of ne.THREE_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,c[2],n):ne.processFixedAI(3,c[1],n);for(let c of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,c[2],n):ne.processFixedAI(4,c[1],n);if(n.length<4)throw new V;let a=n.substring(0,4);for(let c of ne.FOUR_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,c[2],n):ne.processFixedAI(4,c[1],n);throw new V}static processFixedAI(n,i,s){if(s.length<n)throw new V;let a=s.substring(0,n);if(s.length<n+i)throw new V;let c=s.substring(n,n+i),u=s.substring(n+i),d="("+a+")"+c,h=ne.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(n,i,s){let a=s.substring(0,n),c;s.length<n+i?c=s.length:c=n+i;let u=s.substring(n,c),d=s.substring(c),h="("+a+")"+u,p=ne.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class Ui{constructor(n){this.buffer=new we,this.information=n}decodeAllCodes(n,i){let s=i,a=null;do{let c=this.decodeGeneralPurposeField(s,a),u=ne.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&n.append(u),c.isRemaining()?a=""+c.getRemainingValue():a=null,s===c.getNewPosition())break;s=c.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(n,4);return c===0?new pn(this.information.getSize(),pn.FNC1,pn.FNC1):new pn(this.information.getSize(),c-1,pn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,a=(i-8)%11;return new pn(n+7,s,a)}extractNumericValueFromBitArray(n,i){return Ui.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let a=0;for(let c=0;c<s;++c)n.get(i+c)&&(a|=1<<s-c-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new fi(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new fi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new fi(this.current.getPosition(),this.buffer.toString()):i=new fi(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ui(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new fi(this.current.getPosition(),this.buffer.toString());return new ui(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ui(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new fi(this.current.getPosition(),this.buffer.toString());return new ui(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ui(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new fi(this.current.getPosition(),this.buffer.toString());return new ui(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ui(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new jt(n+5,jt.FNC1);if(i>=5&&i<15)return new jt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new jt(n+7,""+(s+1));if(s>=90&&s<116)return new jt(n+7,""+(s+7));let a=this.extractNumericValueFromBitArray(n,8),c;switch(a){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new M}return new jt(n+8,c)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new jt(n+5,jt.FNC1);if(i>=5&&i<15)return new jt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new jt(n+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Un("Decoding invalid alphanumeric value: "+s)}return new jt(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class rc{constructor(n){this.information=n,this.generalDecoder=new Ui(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xt extends rc{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let a=0;a<4;++a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}Xt.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let a=0;a<13;a++){let c=n.charAt(a+i).charCodeAt(0)-48;s+=a&1?c:3*c}s=10-s%10,s===10&&(s=0),n.append(s)}}Xt.GTIN_SIZE=40;class Vi extends Xt{constructor(n){super(n)}parseInformation(){let n=new we;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Vi.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Vi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Vi.HEADER_SIZE+44)}}Vi.HEADER_SIZE=4;class qo extends rc{constructor(n){super(n)}parseInformation(){let n=new we;return this.getGeneralDecoder().decodeAllCodes(n,qo.HEADER_SIZE)}}qo.HEADER_SIZE=5;class Jo extends Xt{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,a);let c=this.checkWeight(a),u=1e5;for(let d=0;d<5;++d)c/u===0&&n.append("0"),u/=10;n.append(c)}}class Hn extends Jo{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Jo.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new V;let n=new we;return this.encodeCompressedGtin(n,Hn.HEADER_SIZE),this.encodeCompressedWeight(n,Hn.HEADER_SIZE+Jo.GTIN_SIZE,Hn.WEIGHT_SIZE),n.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class T2 extends Hn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class N2 extends Hn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Wn extends Xt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+Xt.GTIN_SIZE)throw new V;let n=new we;this.encodeCompressedGtin(n,Wn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+Xt.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+Xt.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2;class Ut extends Xt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ut.HEADER_SIZE+Xt.GTIN_SIZE)throw new V;let n=new we;this.encodeCompressedGtin(n,Ut.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Xt.GTIN_SIZE,Ut.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Xt.GTIN_SIZE+Ut.LAST_DIGIT_SIZE,Ut.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let a=this.getGeneralDecoder().decodeGeneralPurposeField(Ut.HEADER_SIZE+Xt.GTIN_SIZE+Ut.LAST_DIGIT_SIZE+Ut.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}Ut.HEADER_SIZE=8,Ut.LAST_DIGIT_SIZE=2,Ut.FIRST_THREE_DIGITS_SIZE=10;class Qe extends Jo{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+Qe.GTIN_SIZE+Qe.WEIGHT_SIZE+Qe.DATE_SIZE)throw new V;let n=new we;return this.encodeCompressedGtin(n,Qe.HEADER_SIZE),this.encodeCompressedWeight(n,Qe.HEADER_SIZE+Qe.GTIN_SIZE,Qe.WEIGHT_SIZE),this.encodeCompressedDate(n,Qe.HEADER_SIZE+Qe.GTIN_SIZE+Qe.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Qe.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=s%32;s/=32;let c=s%12+1;s/=12;let u=s;u/10==0&&n.append("0"),n.append(u),c/10==0&&n.append("0"),n.append(c),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}Qe.HEADER_SIZE=8,Qe.WEIGHT_SIZE=20,Qe.DATE_SIZE=16;function Sf(y){try{if(y.get(1))return new Vi(y);if(!y.get(2))return new qo(y);switch(Ui.extractNumericValueFromBitArray(y,1,4)){case 4:return new T2(y);case 5:return new N2(y)}switch(Ui.extractNumericValueFromBitArray(y,1,5)){case 12:return new Wn(y);case 13:return new Ut(y)}switch(Ui.extractNumericValueFromBitArray(y,1,7)){case 56:return new Qe(y,"310","11");case 57:return new Qe(y,"320","11");case 58:return new Qe(y,"310","13");case 59:return new Qe(y,"320","13");case 60:return new Qe(y,"310","15");case 61:return new Qe(y,"320","15");case 62:return new Qe(y,"310","17");case 63:return new Qe(y,"320","17")}}catch(n){throw console.log(n),new Un("unknown decoder: "+y)}}class Ir{constructor(n,i,s,a){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Ir?Ir.equalsOrNull(n.leftchar,i.leftchar)&&Ir.equalsOrNull(n.rightchar,i.rightchar)&&Ir.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Ir.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ic{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof ic?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((a,c)=>{i.forEach(u=>{a.getLeftChar().getValue()===u.getLeftChar().getValue()&&a.getRightChar().getValue()===u.getRightChar().getValue()&&a.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class j extends bt{constructor(n){super(...arguments),this.pairs=new Array(j.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return j.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,j.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(c){if(c instanceof V){if(!this.pairs.length)throw new V;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new V}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(a.getPairs()),!j.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(n);c.push(a);try{return this.checkRows(c,s+1)}catch(u){this.verbose&&console.log(u)}}throw new V}static isValidSequence(n){for(let i of j.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,a=!1,c=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>n){c=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),s++}c||a||j.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new ic(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let a of s.getPairs())for(let c of n)if(Ir.equals(a,c))break}}static isPartialRow(n,i){for(let s of i){let a=!0;for(let c of n){let u=!1;for(let d of s.getPairs())if(c.equals(d)){u=!0;break}if(!u){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=S2.buildBitArray(n),a=Sf(i).parseInformation(),c=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[c[0],c[1],u[0],u[1]];return new qe(a,null,null,d,oe.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),c=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);a+=h.getLeftChar().getChecksumPortion(),c++;let p=h.getRightChar();p!=null&&(a+=p.getChecksumPortion(),c++)}return a%=211,211*(c-4)+a==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let c,u=!0,d=-1;do this.findNextPair(n,i,d),c=this.parseFoundFinderPattern(n,s,a),c==null?d=j.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,c,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new V;let p;try{p=this.decodeDataCharacter(n,c,a,!1)}catch(E){p=null,this.verbose&&console.log(E)}return new Ir(h,p,c,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u;s>=0?u=s:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<c&&(h=!n.get(u),!!h);)u++;let p=0,E=u;for(let C=u;C<c;C++)if(n.get(C)!=h)a[p]++;else{if(p==3){if(d&&j.reverseCounters(a),j.isFinderPattern(a)){this.startEnd[0]=E,this.startEnd[1]=C;return}d&&j.reverseCounters(a),E+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new V}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let a=n[s];n[s]=n[i-s-1],n[i-s-1]=a}}parseFoundFinderPattern(n,i,s){let a,c,u;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,c=p,u=this.startEnd[1]}else c=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];let d=this.getDecodeFinderCounters();W.arraycopy(d,0,d,1,d.length-1),d[0]=a;let h;try{h=this.parseFinderValue(d,j.FINDER_PATTERNS)}catch{return null}return new $o(h,[c,u],c,u,i)}decodeDataCharacter(n,i,s,a){let c=this.getDataCharacterCounters();for(let Ue=0;Ue<c.length;Ue++)c[Ue]=0;if(a)j.recordPatternInReverse(n,i.getStartEnd()[0],c);else{j.recordPattern(n,i.getStartEnd()[1],c);for(let Ue=0,_t=c.length-1;Ue<_t;Ue++,_t--){let nn=c[Ue];c[Ue]=c[_t],c[_t]=nn}}let u=17,d=Se.sum(new Int32Array(c))/u,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new V;let p=this.getOddCounts(),E=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Ue=0;Ue<c.length;Ue++){let _t=1*c[Ue]/d,nn=_t+.5;if(nn<1){if(_t<.3)throw new V;nn=1}else if(nn>8){if(_t>8.7)throw new V;nn=8}let ji=Ue/2;Ue&1?(E[ji]=nn,A[ji]=_t-nn):(p[ji]=nn,C[ji]=_t-nn)}this.adjustOddEvenCounts(u);let S=4*i.getValue()+(s?0:2)+(a?0:1)-1,R=0,O=0;for(let Ue=p.length-1;Ue>=0;Ue--){if(j.isNotA1left(i,s,a)){let _t=j.WEIGHTS[S][2*Ue];O+=p[Ue]*_t}R+=p[Ue]}let k=0;for(let Ue=E.length-1;Ue>=0;Ue--)if(j.isNotA1left(i,s,a)){let _t=j.WEIGHTS[S][2*Ue+1];k+=E[Ue]*_t}let B=O+k;if(R&1||R>13||R<4)throw new V;let Z=(13-R)/2,Q=j.SYMBOL_WIDEST[Z],X=9-Q,Ae=Vn.getRSSvalue(p,Q,!0),xe=Vn.getRSSvalue(E,X,!1),Kt=j.EVEN_TOTAL_SUBSET[Z],Rn=j.GSUM[Z],Zt=Ae*Kt+xe+Rn;return new Fi(Zt,B)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=Se.sum(new Int32Array(this.getOddCounts())),s=Se.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let h=i+s-n,p=(i&1)==1,E=(s&1)==0;if(h==1)if(p){if(E)throw new V;c=!0}else{if(!E)throw new V;d=!0}else if(h==-1)if(p){if(E)throw new V;a=!0}else{if(!E)throw new V;u=!0}else if(h==0){if(p){if(!E)throw new V;i<s?(a=!0,d=!0):(c=!0,u=!0)}else if(E)throw new V}else throw new V;if(a){if(c)throw new V;j.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&j.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new V;j.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&j.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}j.SYMBOL_WIDEST=[7,5,4,3,1],j.EVEN_TOTAL_SUBSET=[4,20,52,104,204],j.GSUM=[0,348,1388,2948,3988],j.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],j.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],j.FINDER_PAT_A=0,j.FINDER_PAT_B=1,j.FINDER_PAT_C=2,j.FINDER_PAT_D=3,j.FINDER_PAT_E=4,j.FINDER_PAT_F=5,j.FINDER_PATTERN_SEQUENCES=[[j.FINDER_PAT_A,j.FINDER_PAT_A],[j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B],[j.FINDER_PAT_A,j.FINDER_PAT_C,j.FINDER_PAT_B,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_C],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F]],j.MAX_PAIRS=11;class R2 extends Fi{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends bt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const a=this.decodePair(i,!1,n,s);it.addOrTally(this.possibleLeftPairs,a),i.reverse();let c=this.decodePair(i,!0,n,s);it.addOrTally(this.possibleRightPairs,c),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&it.checkChecksum(u,d))return it.constructResult(u,d)}throw new V}static addOrTally(n,i){if(i==null)return;let s=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),a=new String(s).toString(),c=new we;for(let p=13-a.length;p>0;p--)c.append("0");c.append(a);let u=0;for(let p=0;p<13;p++){let E=c.charAt(p).charCodeAt(0)-48;u+=p&1?E:3*E}u=10-u%10,u===10&&(u=0),c.append(u.toString());let d=n.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new qe(c.toString(),null,0,[d[0],d[1],h[0],h[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(n,i,s,a){try{let c=this.findFinderPattern(n,i),u=this.parseFoundFinderPattern(n,s,i,c),d=a==null?null:a.get(K.NEED_RESULT_POINT_CALLBACK);if(d!=null){let E=(c[0]+c[1])/2;i&&(E=n.getSize()-1-E),d.foundPossibleResultPoint(new se(E,s))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new R2(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,i,s){let a=this.getDataCharacterCounters();for(let k=0;k<a.length;k++)a[k]=0;if(s)ut.recordPatternInReverse(n,i.getStartEnd()[0],a);else{ut.recordPattern(n,i.getStartEnd()[1]+1,a);for(let k=0,B=a.length-1;k<B;k++,B--){let Z=a[k];a[k]=a[B],a[B]=Z}}let c=s?16:15,u=Se.sum(new Int32Array(a))/c,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let k=0;k<a.length;k++){let B=a[k]/u,Z=Math.floor(B+.5);Z<1?Z=1:Z>8&&(Z=8);let Q=Math.floor(k/2);k&1?(h[Q]=Z,E[Q]=B-Z):(d[Q]=Z,p[Q]=B-Z)}this.adjustOddEvenCounts(s,c);let C=0,A=0;for(let k=d.length-1;k>=0;k--)A*=9,A+=d[k],C+=d[k];let S=0,R=0;for(let k=h.length-1;k>=0;k--)S*=9,S+=h[k],R+=h[k];let O=A+3*S;if(s){if(C&1||C>12||C<4)throw new V;let k=(12-C)/2,B=it.OUTSIDE_ODD_WIDEST[k],Z=9-B,Q=Vn.getRSSvalue(d,B,!1),X=Vn.getRSSvalue(h,Z,!0),Ae=it.OUTSIDE_EVEN_TOTAL_SUBSET[k],xe=it.OUTSIDE_GSUM[k];return new Fi(Q*Ae+X+xe,O)}else{if(R&1||R>10||R<4)throw new V;let k=(10-R)/2,B=it.INSIDE_ODD_WIDEST[k],Z=9-B,Q=Vn.getRSSvalue(d,B,!0),X=Vn.getRSSvalue(h,Z,!1),Ae=it.INSIDE_ODD_TOTAL_SUBSET[k],xe=it.INSIDE_GSUM[k];return new Fi(X*Ae+Q+xe,O)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=n.getSize(),c=!1,u=0;for(;u<a&&(c=!n.get(u),i!==c);)u++;let d=0,h=u;for(let p=u;p<a;p++)if(n.get(p)!==c)s[d]++;else{if(d===3){if(bt.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,c=!c}throw new V}parseFoundFinderPattern(n,i,s,a){let c=n.get(a[0]),u=a[0]-1;for(;u>=0&&c!==n.get(u);)u--;u++;const d=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);W.arraycopy(h,0,p,1,h.length-1),p[0]=d;const E=this.parseFinderValue(p,it.FINDER_PATTERNS);let C=u,A=a[1];return s&&(C=n.getSize()-1-C,A=n.getSize()-1-A),new $o(E,[u,a[1]],C,A,i)}adjustOddEvenCounts(n,i){let s=Se.sum(new Int32Array(this.getOddCounts())),a=Se.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,d=!1,h=!1;n?(s>12?u=!0:s<4&&(c=!0),a>12?h=!0:a<4&&(d=!0)):(s>11?u=!0:s<5&&(c=!0),a>10?h=!0:a<4&&(d=!0));let p=s+a-i,E=(s&1)===(n?1:0),C=(a&1)===1;if(p===1)if(E){if(C)throw new V;u=!0}else{if(!C)throw new V;h=!0}else if(p===-1)if(E){if(C)throw new V;c=!0}else{if(!C)throw new V;d=!0}else if(p===0){if(E){if(!C)throw new V;s<a?(c=!0,h=!0):(u=!0,d=!0)}else if(C)throw new V}else throw new V;if(c){if(u)throw new V;bt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&bt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new V;bt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&bt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hi extends ut{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(K.POSSIBLE_FORMATS):null,a=n&&n.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(oe.EAN_13)||s.includes(oe.UPC_A)||s.includes(oe.EAN_8)||s.includes(oe.UPC_E))&&this.readers.push(new tc(n)),s.includes(oe.CODE_39)&&this.readers.push(new dt(a)),s.includes(oe.CODE_128)&&this.readers.push(new q),s.includes(oe.ITF)&&this.readers.push(new Be),s.includes(oe.RSS_14)&&this.readers.push(new it),s.includes(oe.RSS_EXPANDED)&&this.readers.push(new j(this.verbose))):(this.readers.push(new tc(n)),this.readers.push(new dt),this.readers.push(new tc(n)),this.readers.push(new q),this.readers.push(new Be),this.readers.push(new it),this.readers.push(new j(this.verbose)))}decodeRow(n,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,s)}catch{}throw new V}reset(){this.readers.forEach(n=>n.reset())}}class O2 extends gn{constructor(n=500,i){super(new Hi(i),n,i)}}class De{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class be{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(n,i,s,a,c,u){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=c,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let E of p)d+=E.getCount()*(E.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new M;for(let s of Ie.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Ie(1,10,10,8,8,new De(5,new be(1,3))),new Ie(2,12,12,10,10,new De(7,new be(1,5))),new Ie(3,14,14,12,12,new De(10,new be(1,8))),new Ie(4,16,16,14,14,new De(12,new be(1,12))),new Ie(5,18,18,16,16,new De(14,new be(1,18))),new Ie(6,20,20,18,18,new De(18,new be(1,22))),new Ie(7,22,22,20,20,new De(20,new be(1,30))),new Ie(8,24,24,22,22,new De(24,new be(1,36))),new Ie(9,26,26,24,24,new De(28,new be(1,44))),new Ie(10,32,32,14,14,new De(36,new be(1,62))),new Ie(11,36,36,16,16,new De(42,new be(1,86))),new Ie(12,40,40,18,18,new De(48,new be(1,114))),new Ie(13,44,44,20,20,new De(56,new be(1,144))),new Ie(14,48,48,22,22,new De(68,new be(1,174))),new Ie(15,52,52,24,24,new De(42,new be(2,102))),new Ie(16,64,64,14,14,new De(56,new be(2,140))),new Ie(17,72,72,16,16,new De(36,new be(4,92))),new Ie(18,80,80,18,18,new De(48,new be(4,114))),new Ie(19,88,88,20,20,new De(56,new be(4,144))),new Ie(20,96,96,22,22,new De(68,new be(4,174))),new Ie(21,104,104,24,24,new De(56,new be(6,136))),new Ie(22,120,120,18,18,new De(68,new be(6,175))),new Ie(23,132,132,20,20,new De(62,new be(8,163))),new Ie(24,144,144,22,22,new De(62,new be(8,156),new be(2,155))),new Ie(25,8,18,6,16,new De(7,new be(1,5))),new Ie(26,8,32,6,14,new De(11,new be(1,10))),new Ie(27,12,26,10,24,new De(14,new be(1,16))),new Ie(28,12,36,10,16,new De(18,new be(1,22))),new Ie(29,16,36,14,16,new De(24,new be(1,32))),new Ie(30,16,48,14,22,new De(28,new be(1,49)))]}}Ie.VERSIONS=Ie.buildVersions();class sc{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new M;this.version=sc.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new He(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return Ie.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,a=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,E=!1;do if(s===c&&a===0&&!d)n[i++]=this.readCorner1(c,u)&255,s-=2,a+=2,d=!0;else if(s===c-2&&a===0&&u&3&&!h)n[i++]=this.readCorner2(c,u)&255,s-=2,a+=2,h=!0;else if(s===c+4&&a===2&&!(u&7)&&!p)n[i++]=this.readCorner3(c,u)&255,s-=2,a+=2,p=!0;else if(s===c-2&&a===0&&(u&7)===4&&!E)n[i++]=this.readCorner4(c,u)&255,s-=2,a+=2,E=!0;else{do s<c&&a>=0&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,c,u)&255),s-=2,a+=2;while(s>=0&&a<u);s+=1,a+=3;do s>=0&&a<u&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,c,u)&255),s+=2,a-=2;while(s<c&&a>=0);s+=3,a+=1}while(s<c||a<u);if(i!==this.version.getTotalCodewords())throw new M;return n}readModule(n,i,s,a){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,a){let c=0;return this.readModule(n-2,i-2,s,a)&&(c|=1),c<<=1,this.readModule(n-2,i-1,s,a)&&(c|=1),c<<=1,this.readModule(n-1,i-2,s,a)&&(c|=1),c<<=1,this.readModule(n-1,i-1,s,a)&&(c|=1),c<<=1,this.readModule(n-1,i,s,a)&&(c|=1),c<<=1,this.readModule(n,i-2,s,a)&&(c|=1),c<<=1,this.readModule(n,i-1,s,a)&&(c|=1),c<<=1,this.readModule(n,i,s,a)&&(c|=1),c}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new _("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=i/a|0,d=s/c|0,h=u*a,p=d*c,E=new He(p,h);for(let C=0;C<u;++C){const A=C*a;for(let S=0;S<d;++S){const R=S*c;for(let O=0;O<a;++O){const k=C*(a+2)+1+O,B=A+O;for(let Z=0;Z<c;++Z){const Q=S*(c+2)+1+Z;if(n.get(Q,k)){const X=R+Z;E.set(X,B)}}}}}return E}}class oc{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let a=0;const c=s.getECBlocks();for(let O of c)a+=O.getCount();const u=new Array(a);let d=0;for(let O of c)for(let k=0;k<O.getCount();k++){const B=O.getDataCodewords(),Z=s.getECCodewords()+B;u[d++]=new oc(B,new Uint8Array(Z))}const p=u[0].codewords.length-s.getECCodewords(),E=p-1;let C=0;for(let O=0;O<E;O++)for(let k=0;k<d;k++)u[k].codewords[O]=n[C++];const A=i.getVersionNumber()===24,S=A?8:d;for(let O=0;O<S;O++)u[O].codewords[p-1]=n[C++];const R=u[0].codewords.length;for(let O=p;O<R;O++)for(let k=0;k<d;k++){const B=A?(k+8)%d:k,Z=A&&B>7?O-1:O;u[B].codewords[Z]=n[C++]}if(C!==n.length)throw new _;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ac{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new _(""+n);let i=0,s=this.bitOffset,a=this.byteOffset;const c=this.bytes;if(s>0){const u=8-s,d=n<u?n:u,h=u-d,p=255>>8-d<<h;i=(c[a]&p)>>h,n-=d,s+=d,s===8&&(s=0,a++)}if(n>0){for(;n>=8;)i=i<<8|c[a]&255,a++,n-=8;if(n>0){const u=8-n,d=255>>u<<u;i=i<<n|(c[a]&d)>>u,s+=n}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class _r{static decode(n){const i=new ac(n),s=new we,a=new we,c=new Array;let u=ht.ASCII_ENCODE;do if(u===ht.ASCII_ENCODE)u=this.decodeAsciiSegment(i,s,a);else{switch(u){case ht.C40_ENCODE:this.decodeC40Segment(i,s);break;case ht.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(i,s,c);break;default:throw new M}u=ht.ASCII_ENCODE}while(u!==ht.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new Os(n,s.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(n,i,s){let a=!1;do{let c=n.readBits(8);if(c===0)throw new M;if(c<=128)return a&&(c+=128),i.append(String.fromCharCode(c-1)),ht.ASCII_ENCODE;if(c===129)return ht.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&i.append("0"),i.append(""+u)}else switch(c){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(c!==254||n.available()!==0)throw new M;break}}while(n.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const a=[];let c=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(c){case 0:if(h<3)c=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new M;break;case 1:s?(i.append(String.fromCharCode(h+128)),s=!1):i.append(String.fromCharCode(h)),c=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:s=!0;break;default:throw new M}c=0;break;case 3:s?(i.append(String.fromCharCode(h+224)),s=!1):i.append(String.fromCharCode(h+96)),c=0;break;default:throw new M}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,a=[],c=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(c){case 0:if(h<3)c=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new M;break;case 1:s?(i.append(String.fromCharCode(h+128)),s=!1):i.append(String.fromCharCode(h)),c=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:s=!0;break;default:throw new M}c=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p),c=0}else throw new M;break;default:throw new M}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),s);for(let c=0;c<3;c++){const u=s[c];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new M;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let a=(n<<8)+i-1,c=Math.floor(a/1600);s[0]=c,a-=c*1600,c=Math.floor(a/40),s[1]=c,s[2]=a-c*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let a=n.readBits(6);if(a===31){const c=8-n.getBitOffset();c!==8&&n.readBits(c);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let a=1+n.getByteOffset();const c=this.unrandomize255State(n.readBits(8),a++);let u;if(c===0?u=n.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(n.readBits(8),a++),u<0)throw new M;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new M;d[h]=this.unrandomize255State(n.readBits(8),a++)}s.push(d);try{i.append(ke.decode(d,ee.ISO88591))}catch(h){throw new Un("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,i){const s=149*i%255+1,a=n-s;return a>=0?a:a+256}}_r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_r.TEXT_SHIFT2_SET_CHARS=_r.C40_SHIFT2_SET_CHARS,_r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class b2{constructor(){this.rsDecoder=new Ds(Re.DATA_MATRIX_FIELD_256)}decode(n){const i=new sc(n),s=i.getVersion(),a=i.readCodewords(),c=oc.getDataBlocks(a,s);let u=0;for(let p of c)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=c.length;for(let p=0;p<h;p++){const E=c[p],C=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(C,A);for(let S=0;S<A;S++)d[S*h+p]=C[S]}return _r.decode(d)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new F}for(let a=0;a<i;a++)n[a]=s[a]}}class lt{constructor(n){this.image=n,this.rectangleDetector=new nr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new V;i=this.shiftToModuleCenter(i);const s=i[0],a=i[1],c=i[2],u=i[3];let d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(c,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=lt.sampleGrid(this.image,s,a,c,u,d,h);return new Zo(p,[s,a,c,u])}static shiftPoint(n,i,s){let a=(i.getX()-n.getX())/(s+1),c=(i.getY()-n.getY())/(s+1);return new se(n.getX()+a,n.getY()+c)}static moveAway(n,i,s){let a=n.getX(),c=n.getY();return a<i?a-=1:a+=1,c<s?c-=1:c+=1,new se(a,c)}detectSolid1(n){let i=n[0],s=n[1],a=n[3],c=n[2],u=this.transitionsBetween(i,s),d=this.transitionsBetween(s,a),h=this.transitionsBetween(a,c),p=this.transitionsBetween(c,i),E=u,C=[c,i,s,a];return E>d&&(E=d,C[0]=i,C[1]=s,C[2]=a,C[3]=c),E>h&&(E=h,C[0]=s,C[1]=a,C[2]=c,C[3]=i),E>p&&(C[0]=a,C[1]=c,C[2]=i,C[3]=s),C}detectSolid2(n){let i=n[0],s=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c),d=lt.shiftPoint(s,a,(u+1)*4),h=lt.shiftPoint(a,s,(u+1)*4),p=this.transitionsBetween(d,i),E=this.transitionsBetween(h,c);return p<E?(n[0]=i,n[1]=s,n[2]=a,n[3]=c):(n[0]=s,n[1]=a,n[2]=c,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c),d=this.transitionsBetween(s,c),h=lt.shiftPoint(i,s,(d+1)*4),p=lt.shiftPoint(a,s,(u+1)*4);u=this.transitionsBetween(h,c),d=this.transitionsBetween(p,c);let E=new se(c.getX()+(a.getX()-s.getX())/(u+1),c.getY()+(a.getY()-s.getY())/(u+1)),C=new se(c.getX()+(i.getX()-s.getX())/(d+1),c.getY()+(i.getY()-s.getY())/(d+1));if(!this.isValid(E))return this.isValid(C)?C:null;if(!this.isValid(C))return E;let A=this.transitionsBetween(h,E)+this.transitionsBetween(p,E),S=this.transitionsBetween(h,C)+this.transitionsBetween(p,C);return A>S?E:C}shiftToModuleCenter(n){let i=n[0],s=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(a,c)+1,h=lt.shiftPoint(i,s,d*4),p=lt.shiftPoint(a,s,u*4);u=this.transitionsBetween(h,c)+1,d=this.transitionsBetween(p,c)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let E=(i.getX()+s.getX()+a.getX()+c.getX())/4,C=(i.getY()+s.getY()+a.getY()+c.getY())/4;i=lt.moveAway(i,E,C),s=lt.moveAway(s,E,C),a=lt.moveAway(a,E,C),c=lt.moveAway(c,E,C);let A,S;return h=lt.shiftPoint(i,s,d*4),h=lt.shiftPoint(h,c,u*4),A=lt.shiftPoint(s,i,d*4),A=lt.shiftPoint(A,a,u*4),p=lt.shiftPoint(a,c,d*4),p=lt.shiftPoint(p,s,u*4),S=lt.shiftPoint(c,a,d*4),S=lt.shiftPoint(S,i,u*4),[h,A,p,S]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,a,c,u,d){return vr.getInstance().sampleGrid(n,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,i.getX(),i.getY(),c.getX(),c.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.trunc(i.getX()),u=Math.trunc(i.getY()),d=Math.abs(u-a)>Math.abs(c-s);if(d){let O=s;s=a,a=O,O=c,c=u,u=O}let h=Math.abs(c-s),p=Math.abs(u-a),E=-h/2,C=a<u?1:-1,A=s<c?1:-1,S=0,R=this.image.get(d?a:s,d?s:a);for(let O=s,k=a;O!==c;O+=A){let B=this.image.get(d?k:O,d?O:k);if(B!==R&&(S++,R=B),E+=p,E>0){if(k===u)break;k+=C,E-=h}}return S}}class Sr{constructor(){this.decoder=new b2}decode(n,i=null){let s,a;if(i!=null&&i.has(K.PURE_BARCODE)){const p=Sr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),a=Sr.NO_POINTS}else{const p=new lt(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),a=p.getPoints()}const c=s.getRawBytes(),u=new qe(s.getText(),c,8*c.length,a,oe.DATA_MATRIX,W.currentTimeMillis()),d=s.getByteSegments();d!=null&&u.putMetadata(xt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&u.putMetadata(xt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new V;const a=this.moduleSize(i,n);let c=i[1];const u=s[1];let d=i[0];const p=(s[0]-d+1)/a,E=(u-c+1)/a;if(p<=0||E<=0)throw new V;const C=a/2;c+=C,d+=C;const A=new He(p,E);for(let S=0;S<E;S++){const R=c+S*a;for(let O=0;O<p;O++)n.get(d+O*a,R)&&A.set(O,S)}return A}static moduleSize(n,i){const s=i.getWidth();let a=n[0];const c=n[1];for(;a<s&&i.get(a,c);)a++;if(a===s)throw new V;const u=a-n[0];if(u===0)throw new V;return u}}Sr.NO_POINTS=[];class D2 extends gn{constructor(n=500){super(new Sr,n)}}var Wi;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(Wi||(Wi={}));class ze{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,ze.FOR_BITS.set(s,this),ze.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof ze))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=ze.FOR_BITS.size)throw new _;return ze.FOR_BITS.get(n)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(Wi.L,"L",1),ze.M=new ze(Wi.M,"M",0),ze.Q=new ze(Wi.Q,"Q",3),ze.H=new ze(Wi.H,"H",2);class Dt{constructor(n){this.errorCorrectionLevel=ze.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return N.bitCount(n^i)}static decodeFormatInformation(n,i){const s=Dt.doDecodeFormatInformation(n,i);return s!==null?s:Dt.doDecodeFormatInformation(n^Dt.FORMAT_INFO_MASK_QR,i^Dt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(const c of Dt.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===n||u===i)return new Dt(c[1]);let d=Dt.numBitsDiffering(n,u);d<s&&(a=c[1],s=d),n!==i&&(d=Dt.numBitsDiffering(i,u),d<s&&(a=c[1],s=d))}return s<=3?new Dt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Dt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Dt.FORMAT_INFO_MASK_QR=21522,Dt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class P{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class v{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ae{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0;const c=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const d of u)a+=d.getCount()*(d.getDataCodewords()+c);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new M;try{return this.getVersionForNumber((n-17)/4)}catch{throw new M}}static getVersionForNumber(n){if(n<1||n>40)throw new _;return ae.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<ae.VERSION_DECODE_INFO.length;a++){const c=ae.VERSION_DECODE_INFO[a];if(c===n)return ae.getVersionForNumber(a+7);const u=Dt.numBitsDiffering(n,c);u<i&&(s=a+7,i=u)}return i<=3?ae.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new He(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){const c=this.alignmentPatternCenters[a]-2;for(let u=0;u<s;u++)a===0&&(u===0||u===s-1)||a===s-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ae.VERSIONS=[new ae(1,new Int32Array(0),new P(7,new v(1,19)),new P(10,new v(1,16)),new P(13,new v(1,13)),new P(17,new v(1,9))),new ae(2,Int32Array.from([6,18]),new P(10,new v(1,34)),new P(16,new v(1,28)),new P(22,new v(1,22)),new P(28,new v(1,16))),new ae(3,Int32Array.from([6,22]),new P(15,new v(1,55)),new P(26,new v(1,44)),new P(18,new v(2,17)),new P(22,new v(2,13))),new ae(4,Int32Array.from([6,26]),new P(20,new v(1,80)),new P(18,new v(2,32)),new P(26,new v(2,24)),new P(16,new v(4,9))),new ae(5,Int32Array.from([6,30]),new P(26,new v(1,108)),new P(24,new v(2,43)),new P(18,new v(2,15),new v(2,16)),new P(22,new v(2,11),new v(2,12))),new ae(6,Int32Array.from([6,34]),new P(18,new v(2,68)),new P(16,new v(4,27)),new P(24,new v(4,19)),new P(28,new v(4,15))),new ae(7,Int32Array.from([6,22,38]),new P(20,new v(2,78)),new P(18,new v(4,31)),new P(18,new v(2,14),new v(4,15)),new P(26,new v(4,13),new v(1,14))),new ae(8,Int32Array.from([6,24,42]),new P(24,new v(2,97)),new P(22,new v(2,38),new v(2,39)),new P(22,new v(4,18),new v(2,19)),new P(26,new v(4,14),new v(2,15))),new ae(9,Int32Array.from([6,26,46]),new P(30,new v(2,116)),new P(22,new v(3,36),new v(2,37)),new P(20,new v(4,16),new v(4,17)),new P(24,new v(4,12),new v(4,13))),new ae(10,Int32Array.from([6,28,50]),new P(18,new v(2,68),new v(2,69)),new P(26,new v(4,43),new v(1,44)),new P(24,new v(6,19),new v(2,20)),new P(28,new v(6,15),new v(2,16))),new ae(11,Int32Array.from([6,30,54]),new P(20,new v(4,81)),new P(30,new v(1,50),new v(4,51)),new P(28,new v(4,22),new v(4,23)),new P(24,new v(3,12),new v(8,13))),new ae(12,Int32Array.from([6,32,58]),new P(24,new v(2,92),new v(2,93)),new P(22,new v(6,36),new v(2,37)),new P(26,new v(4,20),new v(6,21)),new P(28,new v(7,14),new v(4,15))),new ae(13,Int32Array.from([6,34,62]),new P(26,new v(4,107)),new P(22,new v(8,37),new v(1,38)),new P(24,new v(8,20),new v(4,21)),new P(22,new v(12,11),new v(4,12))),new ae(14,Int32Array.from([6,26,46,66]),new P(30,new v(3,115),new v(1,116)),new P(24,new v(4,40),new v(5,41)),new P(20,new v(11,16),new v(5,17)),new P(24,new v(11,12),new v(5,13))),new ae(15,Int32Array.from([6,26,48,70]),new P(22,new v(5,87),new v(1,88)),new P(24,new v(5,41),new v(5,42)),new P(30,new v(5,24),new v(7,25)),new P(24,new v(11,12),new v(7,13))),new ae(16,Int32Array.from([6,26,50,74]),new P(24,new v(5,98),new v(1,99)),new P(28,new v(7,45),new v(3,46)),new P(24,new v(15,19),new v(2,20)),new P(30,new v(3,15),new v(13,16))),new ae(17,Int32Array.from([6,30,54,78]),new P(28,new v(1,107),new v(5,108)),new P(28,new v(10,46),new v(1,47)),new P(28,new v(1,22),new v(15,23)),new P(28,new v(2,14),new v(17,15))),new ae(18,Int32Array.from([6,30,56,82]),new P(30,new v(5,120),new v(1,121)),new P(26,new v(9,43),new v(4,44)),new P(28,new v(17,22),new v(1,23)),new P(28,new v(2,14),new v(19,15))),new ae(19,Int32Array.from([6,30,58,86]),new P(28,new v(3,113),new v(4,114)),new P(26,new v(3,44),new v(11,45)),new P(26,new v(17,21),new v(4,22)),new P(26,new v(9,13),new v(16,14))),new ae(20,Int32Array.from([6,34,62,90]),new P(28,new v(3,107),new v(5,108)),new P(26,new v(3,41),new v(13,42)),new P(30,new v(15,24),new v(5,25)),new P(28,new v(15,15),new v(10,16))),new ae(21,Int32Array.from([6,28,50,72,94]),new P(28,new v(4,116),new v(4,117)),new P(26,new v(17,42)),new P(28,new v(17,22),new v(6,23)),new P(30,new v(19,16),new v(6,17))),new ae(22,Int32Array.from([6,26,50,74,98]),new P(28,new v(2,111),new v(7,112)),new P(28,new v(17,46)),new P(30,new v(7,24),new v(16,25)),new P(24,new v(34,13))),new ae(23,Int32Array.from([6,30,54,78,102]),new P(30,new v(4,121),new v(5,122)),new P(28,new v(4,47),new v(14,48)),new P(30,new v(11,24),new v(14,25)),new P(30,new v(16,15),new v(14,16))),new ae(24,Int32Array.from([6,28,54,80,106]),new P(30,new v(6,117),new v(4,118)),new P(28,new v(6,45),new v(14,46)),new P(30,new v(11,24),new v(16,25)),new P(30,new v(30,16),new v(2,17))),new ae(25,Int32Array.from([6,32,58,84,110]),new P(26,new v(8,106),new v(4,107)),new P(28,new v(8,47),new v(13,48)),new P(30,new v(7,24),new v(22,25)),new P(30,new v(22,15),new v(13,16))),new ae(26,Int32Array.from([6,30,58,86,114]),new P(28,new v(10,114),new v(2,115)),new P(28,new v(19,46),new v(4,47)),new P(28,new v(28,22),new v(6,23)),new P(30,new v(33,16),new v(4,17))),new ae(27,Int32Array.from([6,34,62,90,118]),new P(30,new v(8,122),new v(4,123)),new P(28,new v(22,45),new v(3,46)),new P(30,new v(8,23),new v(26,24)),new P(30,new v(12,15),new v(28,16))),new ae(28,Int32Array.from([6,26,50,74,98,122]),new P(30,new v(3,117),new v(10,118)),new P(28,new v(3,45),new v(23,46)),new P(30,new v(4,24),new v(31,25)),new P(30,new v(11,15),new v(31,16))),new ae(29,Int32Array.from([6,30,54,78,102,126]),new P(30,new v(7,116),new v(7,117)),new P(28,new v(21,45),new v(7,46)),new P(30,new v(1,23),new v(37,24)),new P(30,new v(19,15),new v(26,16))),new ae(30,Int32Array.from([6,26,52,78,104,130]),new P(30,new v(5,115),new v(10,116)),new P(28,new v(19,47),new v(10,48)),new P(30,new v(15,24),new v(25,25)),new P(30,new v(23,15),new v(25,16))),new ae(31,Int32Array.from([6,30,56,82,108,134]),new P(30,new v(13,115),new v(3,116)),new P(28,new v(2,46),new v(29,47)),new P(30,new v(42,24),new v(1,25)),new P(30,new v(23,15),new v(28,16))),new ae(32,Int32Array.from([6,34,60,86,112,138]),new P(30,new v(17,115)),new P(28,new v(10,46),new v(23,47)),new P(30,new v(10,24),new v(35,25)),new P(30,new v(19,15),new v(35,16))),new ae(33,Int32Array.from([6,30,58,86,114,142]),new P(30,new v(17,115),new v(1,116)),new P(28,new v(14,46),new v(21,47)),new P(30,new v(29,24),new v(19,25)),new P(30,new v(11,15),new v(46,16))),new ae(34,Int32Array.from([6,34,62,90,118,146]),new P(30,new v(13,115),new v(6,116)),new P(28,new v(14,46),new v(23,47)),new P(30,new v(44,24),new v(7,25)),new P(30,new v(59,16),new v(1,17))),new ae(35,Int32Array.from([6,30,54,78,102,126,150]),new P(30,new v(12,121),new v(7,122)),new P(28,new v(12,47),new v(26,48)),new P(30,new v(39,24),new v(14,25)),new P(30,new v(22,15),new v(41,16))),new ae(36,Int32Array.from([6,24,50,76,102,128,154]),new P(30,new v(6,121),new v(14,122)),new P(28,new v(6,47),new v(34,48)),new P(30,new v(46,24),new v(10,25)),new P(30,new v(2,15),new v(64,16))),new ae(37,Int32Array.from([6,28,54,80,106,132,158]),new P(30,new v(17,122),new v(4,123)),new P(28,new v(29,46),new v(14,47)),new P(30,new v(49,24),new v(10,25)),new P(30,new v(24,15),new v(46,16))),new ae(38,Int32Array.from([6,32,58,84,110,136,162]),new P(30,new v(4,122),new v(18,123)),new P(28,new v(13,46),new v(32,47)),new P(30,new v(48,24),new v(14,25)),new P(30,new v(42,15),new v(32,16))),new ae(39,Int32Array.from([6,26,54,82,110,138,166]),new P(30,new v(20,117),new v(4,118)),new P(28,new v(40,47),new v(7,48)),new P(30,new v(43,24),new v(22,25)),new P(30,new v(10,15),new v(67,16))),new ae(40,Int32Array.from([6,30,58,86,114,142,170]),new P(30,new v(19,118),new v(6,119)),new P(28,new v(18,47),new v(31,48)),new P(30,new v(34,24),new v(34,25)),new P(30,new v(20,15),new v(61,16)))];var wt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class mn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&n.flip(a,s)}}mn.values=new Map([[wt.DATA_MASK_000,new mn(wt.DATA_MASK_000,(y,n)=>(y+n&1)===0)],[wt.DATA_MASK_001,new mn(wt.DATA_MASK_001,(y,n)=>(y&1)===0)],[wt.DATA_MASK_010,new mn(wt.DATA_MASK_010,(y,n)=>n%3===0)],[wt.DATA_MASK_011,new mn(wt.DATA_MASK_011,(y,n)=>(y+n)%3===0)],[wt.DATA_MASK_100,new mn(wt.DATA_MASK_100,(y,n)=>(Math.floor(y/2)+Math.floor(n/3)&1)===0)],[wt.DATA_MASK_101,new mn(wt.DATA_MASK_101,(y,n)=>y*n%6===0)],[wt.DATA_MASK_110,new mn(wt.DATA_MASK_110,(y,n)=>y*n%6<3)],[wt.DATA_MASK_111,new mn(wt.DATA_MASK_111,(y,n)=>(y+n+y*n%3&1)===0)]]);class k2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new M;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let c=0;c<6;c++)n=this.copyBit(c,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let c=5;c>=0;c--)n=this.copyBit(8,c,n);const i=this.bitMatrix.getHeight();let s=0;const a=i-7;for(let c=i-1;c>=a;c--)s=this.copyBit(8,c,s);for(let c=i-8;c<i;c++)s=this.copyBit(c,8,s);if(this.parsedFormatInfo=Dt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return ae.getVersionForNumber(i);let s=0;const a=n-11;for(let u=5;u>=0;u--)for(let d=n-9;d>=a;d--)s=this.copyBit(d,u,s);let c=ae.decodeVersionInformation(s);if(c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;s=0;for(let u=5;u>=0;u--)for(let d=n-9;d>=a;d--)s=this.copyBit(u,d,s);if(c=ae.decodeVersionInformation(s),c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;throw new M}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=mn.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);const c=i.buildFunctionPattern();let u=!0;const d=new Uint8Array(i.getTotalCodewords());let h=0,p=0,E=0;for(let C=a-1;C>0;C-=2){C===6&&C--;for(let A=0;A<a;A++){const S=u?a-1-A:A;for(let R=0;R<2;R++)c.get(C-R,S)||(E++,p<<=1,this.bitMatrix.get(C-R,S)&&(p|=1),E===8&&(d[h++]=p,E=0,p=0))}u=!u}if(h!==i.getTotalCodewords())throw new M;return d}remask(){if(this.parsedFormatInfo===null)return;const n=mn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let a=i+1,c=n.getHeight();a<c;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class lc{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new _;const a=i.getECBlocksForLevel(s);let c=0;const u=a.getECBlocks();for(const R of u)c+=R.getCount();const d=new Array(c);let h=0;for(const R of u)for(let O=0;O<R.getCount();O++){const k=R.getDataCodewords(),B=a.getECCodewordsPerBlock()+k;d[h++]=new lc(k,new Uint8Array(B))}const p=d[0].codewords.length;let E=d.length-1;for(;E>=0&&d[E].codewords.length!==p;)E--;E++;const C=p-a.getECCodewordsPerBlock();let A=0;for(let R=0;R<C;R++)for(let O=0;O<h;O++)d[O].codewords[R]=n[A++];for(let R=E;R<h;R++)d[R].codewords[C]=n[A++];const S=d[0].codewords.length;for(let R=C;R<S;R++)for(let O=0;O<h;O++){const k=O<E?R:R+1;d[O].codewords[k]=n[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var xn;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(xn||(xn={}));class le{constructor(n,i,s,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,le.FOR_BITS.set(a,this),le.FOR_VALUE.set(n,this)}static forBits(n){const i=le.FOR_BITS.get(n);if(i===void 0)throw new _;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof le))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}le.FOR_BITS=new Map,le.FOR_VALUE=new Map,le.TERMINATOR=new le(xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),le.NUMERIC=new le(xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),le.ALPHANUMERIC=new le(xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),le.STRUCTURED_APPEND=new le(xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),le.BYTE=new le(xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),le.ECI=new le(xn.ECI,"ECI",Int32Array.from([0,0,0]),7),le.KANJI=new le(xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),le.FNC1_FIRST_POSITION=new le(xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),le.FNC1_SECOND_POSITION=new le(xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),le.HANZI=new le(xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Je{static decode(n,i,s,a){const c=new ac(n);let u=new we;const d=new Array;let h=-1,p=-1;try{let E=null,C=!1,A;do{if(c.available()<4)A=le.TERMINATOR;else{const S=c.readBits(4);A=le.forBits(S)}switch(A){case le.TERMINATOR:break;case le.FNC1_FIRST_POSITION:case le.FNC1_SECOND_POSITION:C=!0;break;case le.STRUCTURED_APPEND:if(c.available()<16)throw new M;h=c.readBits(8),p=c.readBits(8);break;case le.ECI:const S=Je.parseECIValue(c);if(E=z.getCharacterSetECIByValue(S),E===null)throw new M;break;case le.HANZI:const R=c.readBits(4),O=c.readBits(A.getCharacterCountBits(i));R===Je.GB2312_SUBSET&&Je.decodeHanziSegment(c,u,O);break;default:const k=c.readBits(A.getCharacterCountBits(i));switch(A){case le.NUMERIC:Je.decodeNumericSegment(c,u,k);break;case le.ALPHANUMERIC:Je.decodeAlphanumericSegment(c,u,k,C);break;case le.BYTE:Je.decodeByteSegment(c,u,k,E,d,a);break;case le.KANJI:Je.decodeKanjiSegment(c,u,k);break;default:throw new M}break}}while(A!==le.TERMINATOR)}catch{throw new M}return new Os(n,u.toString(),d.length===0?null:d,s===null?null:s.toString(),h,p)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new M;const a=new Uint8Array(2*s);let c=0;for(;s>0;){const u=n.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,a[c]=d>>8&255,a[c+1]=d&255,c+=2,s--}try{i.append(ke.decode(a,ee.GB2312))}catch(u){throw new M(u)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new M;const a=new Uint8Array(2*s);let c=0;for(;s>0;){const u=n.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,a[c]=d>>8,a[c+1]=d,c+=2,s--}try{i.append(ke.decode(a,ee.SHIFT_JIS))}catch(u){throw new M(u)}}static decodeByteSegment(n,i,s,a,c,u){if(8*s>n.available())throw new M;const d=new Uint8Array(s);for(let p=0;p<s;p++)d[p]=n.readBits(8);let h;a===null?h=ee.guessEncoding(d,u):h=a.getName();try{i.append(ke.decode(d,h))}catch(p){throw new M(p)}c.push(d)}static toAlphaNumericChar(n){if(n>=Je.ALPHANUMERIC_CHARS.length)throw new M;return Je.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,a){const c=i.length();for(;s>1;){if(n.available()<11)throw new M;const u=n.readBits(11);i.append(Je.toAlphaNumericChar(Math.floor(u/45))),i.append(Je.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(n.available()<6)throw new M;i.append(Je.toAlphaNumericChar(n.readBits(6)))}if(a)for(let u=c;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new M;const a=n.readBits(10);if(a>=1e3)throw new M;i.append(Je.toAlphaNumericChar(Math.floor(a/100))),i.append(Je.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(Je.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(n.available()<7)throw new M;const a=n.readBits(7);if(a>=100)throw new M;i.append(Je.toAlphaNumericChar(Math.floor(a/10))),i.append(Je.toAlphaNumericChar(a%10))}else if(s===1){if(n.available()<4)throw new M;const a=n.readBits(4);if(a>=10)throw new M;i.append(Je.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new M}}Je.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Je.GB2312_SUBSET=1;class Tf{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class P2{constructor(){this.rsDecoder=new Ds(Re.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(He.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new k2(n);let a=null;try{return this.decodeBitMatrixParser(s,i)}catch(c){a=c}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const c=this.decodeBitMatrixParser(s,i);return c.setOther(new Tf(!0)),c}catch(c){throw a!==null?a:c}}decodeBitMatrixParser(n,i){const s=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),c=n.readCodewords(),u=lc.getDataBlocks(c,s,a);let d=0;for(const E of u)d+=E.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const E of u){const C=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(C,A);for(let S=0;S<A;S++)h[p++]=C[S]}return Je.decode(h,s,a,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new F}for(let a=0;a<i;a++)n[a]=s[a]}}class cc extends se{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=(this.getX()+i)/2,c=(this.getY()+n)/2,u=(this.estimatedModuleSize+s)/2;return new cc(a,c,u)}}class ea{constructor(n,i,s,a,c,u,d){this.image=n,this.startX=i,this.startY=s,this.width=a,this.height=c,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,a=n+s,c=this.startY+i/2,u=new Int32Array(3),d=this.image;for(let h=0;h<i;h++){const p=c+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let E=n;for(;E<a&&!d.get(E,p);)E++;let C=0;for(;E<a;){if(d.get(E,p))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,E);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;E++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,a);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=s)return!1;return!0}crossCheckVertical(n,i,s,a){const c=this.image,u=c.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&c.get(i,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!c.get(i,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<u&&c.get(i,h)&&d[1]<=s;)d[1]++,h++;if(h===u||d[1]>s)return NaN;for(;h<u&&!c.get(i,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(d)?ea.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,s){const a=n[0]+n[1]+n[2],c=ea.centerFromEnd(n,s),u=this.crossCheckVertical(i,c,2*n[1],a);if(!isNaN(u)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,c))return p.combineEstimate(u,c,d);const h=new cc(c,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class uc extends se{constructor(n,i,s,a){super(n,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=this.count+1,c=(this.count*this.getX()+i)/a,u=(this.count*this.getY()+n)/a,d=(this.count*this.estimatedModuleSize+s)/a;return new uc(c,u,d,a)}}class M2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(K.TRY_HARDER)!==void 0,s=n!=null&&n.get(K.PURE_BARCODE)!==void 0,a=this.image,c=a.getHeight(),u=a.getWidth();let d=Math.floor(3*c/(4*Et.MAX_MODULES));(d<Et.MIN_SKIP||i)&&(d=Et.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let C=d-1;C<c&&!h;C+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let S=0;S<u;S++)if(a.get(S,C))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(Et.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,S,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const O=this.findRowSkip();O>p[2]&&(C+=O-p[2]-d,S=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;Et.foundPatternCross(p)&&this.handlePossibleCenter(p,C,u,s)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return se.orderBestPatterns(E),new M2(E)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let c=0;c<5;c++){const u=n[c];if(u===0)return!1;i+=u}if(i<7)return!1;const s=i/7,a=s/2;return Math.abs(s-n[0])<a&&Math.abs(s-n[1])<a&&Math.abs(3*s-n[2])<3*a&&Math.abs(s-n[3])<a&&Math.abs(s-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,a){const c=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;n>=u&&i>=u&&d.get(i-u,n-u);)c[2]++,u++;if(n<u||i<u)return!1;for(;n>=u&&i>=u&&!d.get(i-u,n-u)&&c[1]<=s;)c[1]++,u++;if(n<u||i<u||c[1]>s)return!1;for(;n>=u&&i>=u&&d.get(i-u,n-u)&&c[0]<=s;)c[0]++,u++;if(c[0]>s)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;n+u<h&&i+u<p&&d.get(i+u,n+u);)c[2]++,u++;if(n+u>=h||i+u>=p)return!1;for(;n+u<h&&i+u<p&&!d.get(i+u,n+u)&&c[3]<s;)c[3]++,u++;if(n+u>=h||i+u>=p||c[3]>=s)return!1;for(;n+u<h&&i+u<p&&d.get(i+u,n+u)&&c[4]<s;)c[4]++,u++;if(c[4]>=s)return!1;const E=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(E-a)<2*a&&Et.foundPatternCross(c)}crossCheckVertical(n,i,s,a){const c=this.image,u=c.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&c.get(i,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!c.get(i,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&c.get(i,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<u&&c.get(i,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!c.get(i,h)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&c.get(i,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=2*a?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,i,s,a){const c=this.image,u=c.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&c.get(h,i);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!c.get(h,i)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&c.get(h,i)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<u&&c.get(h,i);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!c.get(h,i)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&c.get(h,i)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=a?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,s,a){const c=n[0]+n[1]+n[2]+n[3]+n[4];let u=Et.centerFromEnd(n,s),d=this.crossCheckVertical(i,Math.floor(u),n[2],c);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),n[2],c),!isNaN(u)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),n[2],c)))){const h=c/7;let p=!1;const E=this.possibleCenters;for(let C=0,A=E.length;C<A;C++){const S=E[C];if(S.aboutEquals(h,d,u)){E[C]=S.combineEstimate(d,u,h),p=!0;break}}if(!p){const C=new uc(u,d,h);E.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Et.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Et.CENTER_QUORUM&&(n++,i+=u.getEstimatedModuleSize());if(n<3)return!1;const a=i/s;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-a);return c<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new V;const i=this.possibleCenters;let s;if(n>3){let a=0,c=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();a+=p,c+=p*p}s=a/n;let u=Math.sqrt(c/n-s*s);i.sort((h,p)=>{const E=Math.abs(p.getEstimatedModuleSize()-s),C=Math.abs(h.getEstimatedModuleSize()-s);return E<C?-1:E>C?1:0});const d=Math.max(.2*s,u);for(let h=0;h<i.length&&i.length>3;h++){const p=i[h];Math.abs(p.getEstimatedModuleSize()-s)>d&&(i.splice(h,1),h--)}}if(i.length>3){let a=0;for(const c of i)a+=c.getEstimatedModuleSize();s=a/i.length,i.sort((c,u)=>{if(u.getCount()===c.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(c.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return u.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class Ps{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(K.NEED_RESULT_POINT_CALLBACK);const s=new Et(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),a=n.getBottomLeft(),c=this.calculateModuleSize(i,s,a);if(c<1)throw new V("No pattern found in proccess finder.");const u=Ps.computeDimension(i,s,a,c),d=ae.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const S=s.getX()-i.getX()+a.getX(),R=s.getY()-i.getY()+a.getY(),O=1-3/h,k=Math.floor(i.getX()+O*(S-i.getX())),B=Math.floor(i.getY()+O*(R-i.getY()));for(let Z=4;Z<=16;Z<<=1)try{p=this.findAlignmentInRegion(c,k,B,Z);break}catch(Q){if(!(Q instanceof V))throw Q}}const E=Ps.createTransform(i,s,a,p,u),C=Ps.sampleGrid(this.image,E,u);let A;return p===null?A=[a,i,s]:A=[a,i,s,p],new Zo(C,A)}static createTransform(n,i,s,a,c){const u=c-3.5;let d,h,p,E;return a!==null?(d=a.getX(),h=a.getY(),p=u-3,E=p):(d=i.getX()-n.getX()+s.getX(),h=i.getY()-n.getY()+s.getY(),p=u,E=u),Tn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,E,3.5,u,n.getX(),n.getY(),i.getX(),i.getY(),d,h,s.getX(),s.getY())}static sampleGrid(n,i,s){return vr.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,a){const c=Se.round(se.distance(n,i)/a),u=Se.round(se.distance(n,s)/a);let d=Math.floor((c+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new V("Dimensions could be not found.")}return d}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,a){let c=this.sizeOfBlackWhiteBlackRun(n,i,s,a),u=1,d=n-(s-n);d<0?(u=n/(n-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(i-(a-i)*u);return u=1,h<0?(u=i/(i-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*u),c+=this.sizeOfBlackWhiteBlackRun(n,i,d,h),c-1}sizeOfBlackWhiteBlackRun(n,i,s,a){const c=Math.abs(a-i)>Math.abs(s-n);if(c){let S=n;n=i,i=S,S=s,s=a,a=S}const u=Math.abs(s-n),d=Math.abs(a-i);let h=-u/2;const p=n<s?1:-1,E=i<a?1:-1;let C=0;const A=s+p;for(let S=n,R=i;S!==A;S+=p){const O=c?R:S,k=c?S:R;if(C===1===this.image.get(O,k)){if(C===2)return Se.distance(S,R,n,i);C++}if(h+=d,h>0){if(R===a)break;R+=E,h-=u}}return C===2?Se.distance(s+p,a,n,i):NaN}findAlignmentInRegion(n,i,s,a){const c=Math.floor(a*n),u=Math.max(0,i-c),d=Math.min(this.image.getWidth()-1,i+c);if(d-u<n*3)throw new V("Alignment top exceeds estimated module size.");const h=Math.max(0,s-c),p=Math.min(this.image.getHeight()-1,s+c);if(p-h<n*3)throw new V("Alignment bottom exceeds estimated module size.");return new ea(this.image,u,h,d-u,p-h,n,this.resultPointCallback).find()}}class Tr{constructor(){this.decoder=new P2}getDecoder(){return this.decoder}decode(n,i){let s,a;if(i!=null&&i.get(K.PURE_BARCODE)!==void 0){const h=Tr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,i),a=Tr.NO_POINTS}else{const h=new Ps(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(h.getBits(),i),a=h.getPoints()}s.getOther()instanceof Tf&&s.getOther().applyMirroredCorrection(a);const c=new qe(s.getText(),s.getRawBytes(),void 0,a,oe.QR_CODE,void 0),u=s.getByteSegments();u!==null&&c.putMetadata(xt.BYTE_SEGMENTS,u);const d=s.getECLevel();return d!==null&&c.putMetadata(xt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(c.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),c.putMetadata(xt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new V;const a=this.moduleSize(i,n);let c=i[1],u=s[1],d=i[0],h=s[0];if(d>=h||c>=u)throw new V;if(u-c!==h-d&&(h=d+(u-c),h>=n.getWidth()))throw new V;const p=Math.round((h-d+1)/a),E=Math.round((u-c+1)/a);if(p<=0||E<=0)throw new V;if(E!==p)throw new V;const C=Math.floor(a/2);c+=C,d+=C;const A=d+Math.floor((p-1)*a)-h;if(A>0){if(A>C)throw new V;d-=A}const S=c+Math.floor((E-1)*a)-u;if(S>0){if(S>C)throw new V;c-=S}const R=new He(p,E);for(let O=0;O<E;O++){const k=c+Math.floor(O*a);for(let B=0;B<p;B++)n.get(d+Math.floor(B*a),k)&&R.set(B,O)}return R}static moduleSize(n,i){const s=i.getHeight(),a=i.getWidth();let c=n[0],u=n[1],d=!0,h=0;for(;c<a&&u<s;){if(d!==i.get(c,u)){if(++h===5)break;d=!d}c++,u++}if(c===a||u===s)throw new V;return(c-n[0])/7}}Tr.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(n){return Se.sum(n)}static toIntArray(n){if(n==null||!n.length)return de.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const a of n)i[s++]=a;return i}static getCodeword(n){const i=T.binarySearch(de.SYMBOL_TABLE,n&262143);return i<0?-1:(de.CODEWORD_TABLE[i]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class L2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ee{static detectMultiple(n,i,s){let a=n.getBlackMatrix(),c=Ee.detect(s,a);return c.length||(a=a.clone(),a.rotate180(),c=Ee.detect(s,a)),new L2(a,c)}static detect(n,i){const s=new Array;let a=0,c=0,u=!1;for(;a<i.getHeight();){const d=Ee.findVertices(i,a,c);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,c=0;for(const h of s)h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())));a+=Ee.ROW_STEP;continue}if(u=!0,s.push(d),!n)break;d[2]!=null?(c=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(c=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return s}static findVertices(n,i,s){const a=n.getHeight(),c=n.getWidth(),u=new Array(8);return Ee.copyToResult(u,Ee.findRowsWithPattern(n,a,c,i,s,Ee.START_PATTERN),Ee.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),Ee.copyToResult(u,Ee.findRowsWithPattern(n,a,c,i,s,Ee.STOP_PATTERN),Ee.INDEXES_STOP_PATTERN),u}static copyToResult(n,i,s){for(let a=0;a<s.length;a++)n[s[a]]=i[a]}static findRowsWithPattern(n,i,s,a,c,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;a<i;a+=Ee.ROW_STEP){let C=Ee.findGuardPattern(n,c,a,s,!1,u,p);if(C!=null){for(;a>0;){const A=Ee.findGuardPattern(n,c,--a,s,!1,u,p);if(A!=null)C=A;else{a++;break}}d[0]=new se(C[0],a),d[1]=new se(C[1],a),h=!0;break}}let E=a+1;if(h){let C=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;E<i;E++){const S=Ee.findGuardPattern(n,A[0],E,s,!1,u,p);if(S!=null&&Math.abs(A[0]-S[0])<Ee.MAX_PATTERN_DRIFT&&Math.abs(A[1]-S[1])<Ee.MAX_PATTERN_DRIFT)A=S,C=0;else{if(C>Ee.SKIPPED_ROW_COUNT_MAX)break;C++}}E-=C+1,d[2]=new se(A[0],E),d[3]=new se(A[1],E)}return E-a<Ee.BARCODE_MIN_HEIGHT&&T.fill(d,null),d}static findGuardPattern(n,i,s,a,c,u,d){T.fillWithin(d,0,d.length,0);let h=i,p=0;for(;n.get(h,s)&&h>0&&p++<Ee.MAX_PIXEL_DRIFT;)h--;let E=h,C=0,A=u.length;for(let S=c;E<a;E++)if(n.get(E,s)!==S)d[C]++;else{if(C===A-1){if(Ee.patternMatchVariance(d,u,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return new Int32Array([h,E]);h+=d[0]+d[1],W.arraycopy(d,2,d,0,C-1),d[C-1]=0,d[C]=0,C--}else C++;d[C]=1,S=!S}return C===A-1&&Ee.patternMatchVariance(d,u,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE?new Int32Array([h,E-1]):null}static patternMatchVariance(n,i,s){let a=n.length,c=0,u=0;for(let p=0;p<a;p++)c+=n[p],u+=i[p];if(c<u)return 1/0;let d=c/u;s*=d;let h=0;for(let p=0;p<a;p++){let E=n[p],C=i[p]*d,A=E>C?E-C:C-E;if(A>s)return 1/0;h+=A}return h/c}}Ee.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ee.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ee.MAX_AVG_VARIANCE=.42,Ee.MAX_INDIVIDUAL_VARIANCE=.8,Ee.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ee.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ee.MAX_PIXEL_DRIFT=3,Ee.MAX_PATTERN_DRIFT=5,Ee.SKIPPED_ROW_COUNT_MAX=25,Ee.ROW_STEP=5,Ee.BARCODE_MIN_HEIGHT=10;class vt{constructor(n,i){if(i.length===0)throw new _;this.field=n;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),W.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let c of this.coefficients)a=this.field.add(a,c);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let u=i;i=s,s=u}let a=new Int32Array(s.length),c=s.length-i.length;W.arraycopy(s,0,a,0,c);for(let u=c;u<s.length;u++)a[u]=this.field.add(i[u-c],s[u]);return new vt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof vt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new vt(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=n.coefficients,c=a.length,u=new Int32Array(s+c-1);for(let d=0;d<s;d++){let h=i[d];for(let p=0;p<c;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,a[p]))}return new vt(this.field,u)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new vt(this.field,i)}multiplyScalar(n){if(n===0)return new vt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],n);return new vt(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new _;if(i===0)return new vt(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+n);for(let c=0;c<s;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new vt(this.field,a)}toString(){let n=new we;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class B2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new _;return this.logTable[n]}inverse(n){if(n===0)throw new Yo;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class fc extends B2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let a=0;a<n;a++)this.expTable[a]=s,s=s*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new vt(this,new Int32Array([0])),this.one=new vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new _;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new vt(this,s)}}fc.PDF417_GF=new fc(de.NUMBER_OF_CODEWORDS,3);class Nf{constructor(){this.field=fc.PDF417_GF}decode(n,i,s){let a=new vt(this.field,n),c=new Int32Array(i),u=!1;for(let R=i;R>0;R--){let O=a.evaluateAt(this.field.exp(R));c[i-R]=O,O!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(s!=null)for(const R of s){let O=this.field.exp(n.length-1-R),k=new vt(this.field,new Int32Array([this.field.subtract(0,O),1]));d=d.multiply(k)}let h=new vt(this.field,c),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),E=p[0],C=p[1],A=this.findErrorLocations(E),S=this.findErrorMagnitudes(C,E,A);for(let R=0;R<A.length;R++){let O=n.length-1-this.field.log(A[R]);if(O<0)throw F.getChecksumInstance();n[O]=this.field.subtract(n[O],S[R])}return A.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let A=n;n=i,i=A}let a=n,c=i,u=this.field.getZero(),d=this.field.getOne();for(;c.getDegree()>=Math.round(s/2);){let A=a,S=u;if(a=c,u=d,a.isZero())throw F.getChecksumInstance();c=A;let R=this.field.getZero(),O=a.getCoefficient(a.getDegree()),k=this.field.inverse(O);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){let B=c.getDegree()-a.getDegree(),Z=this.field.multiply(c.getCoefficient(c.getDegree()),k);R=R.add(this.field.buildMonomial(B,Z)),c=c.subtract(a.multiplyByMonomial(B,Z))}d=R.multiply(u).subtract(S).negative()}let h=d.getCoefficient(0);if(h===0)throw F.getChecksumInstance();let p=this.field.inverse(h),E=d.multiply(p),C=c.multiply(p);return[E,C]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),a=0;for(let c=1;c<this.field.getSize()&&a<i;c++)n.evaluateAt(c)===0&&(s[a]=this.field.inverse(c),a++);if(a!==i)throw F.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let a=i.getDegree(),c=new Int32Array(a);for(let p=1;p<=a;p++)c[a-p]=this.field.multiply(p,i.getCoefficient(p));let u=new vt(this.field,c),d=s.length,h=new Int32Array(d);for(let p=0;p<d;p++){let E=this.field.inverse(s[p]),C=this.field.subtract(0,n.evaluateAt(E)),A=this.field.inverse(u.evaluateAt(E));h[p]=this.field.multiply(C,A)}return h}}class di{constructor(n,i,s,a,c){n instanceof di?this.constructor_2(n):this.constructor_1(n,i,s,a,c)}constructor_1(n,i,s,a,c){const u=i==null||s==null,d=a==null||c==null;if(u&&d)throw new V;u?(i=new se(0,a.getY()),s=new se(0,c.getY())):d&&(a=new se(n.getWidth()-1,i.getY()),c=new se(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),c.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new di(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let a=this.topLeft,c=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(n>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let E=new se(h.getX(),p);s?a=E:u=E}if(i>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let E=new se(h.getX(),p);s?c=E:d=E}return new di(this.image,a,c,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class F2{constructor(n,i,s,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ms{constructor(){this.buffer=""}static form(n,i){let s=-1;function a(u,d,h,p,E,C){if(u==="%%")return"%";if(i[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=E?parseInt(E.substr(1)):void 0,S;switch(C){case"s":S=i[s];break;case"c":S=i[s][0];break;case"f":S=parseFloat(i[s]).toFixed(u);break;case"p":S=parseFloat(i[s]).toPrecision(u);break;case"e":S=parseFloat(i[s]).toExponential(u);break;case"x":S=parseInt(i[s]).toString(A||16);break;case"d":S=parseFloat(parseInt(i[s],A||10).toPrecision(u)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(A);let R=parseInt(h),O=h&&h[0]+""=="0"?"0":" ";for(;S.length<R;)S=d!==void 0?S+O:O+S;return S}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}format(n,...i){this.buffer+=Ms.form(n,i)}toString(){return this.buffer}}class Ls{constructor(n){this.boundingBox=new di(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<Ls.MAX_NEARBY_DISTANCE;s++){let a=this.imageRowToCodewordIndex(n)-s;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+s,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Ms;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}Ls.MAX_NEARBY_DISTANCE=5;class Bs{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,a]of this.values.entries()){const c={getKey:()=>s,getValue:()=>a};c.getValue()>n?(n=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===n&&i.push(c.getKey())}return de.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class Rf extends Ls{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=-1,p=1,E=0;for(let C=u;C<d;C++){if(i[C]==null)continue;let A=i[C],S=A.getRowNumber()-h;if(S===0)E++;else if(S===1)p=Math.max(p,E),E=1,h=A.getRowNumber();else if(S<0||A.getRowNumber()>=n.getRowCount()||S>C)i[C]=null;else{let R;p>2?R=(p-2)*S:R=S;let O=R>=C;for(let k=1;k<=R&&!O;k++)O=i[C-k]!=null;O?i[C]=null:(h=A.getRowNumber(),E=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),h=-1;for(let p=c;p<u;p++){if(d[p]==null)continue;let E=d[p];E.setRowNumberAsRowIndicatorColumn();let C=E.getRowNumber()-h;C===0||(C===1?h=E.getRowNumber():E.getRowNumber()>=n.getRowCount()?d[p]=null:h=E.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Bs,s=new Bs,a=new Bs,c=new Bs;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),a.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<de.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let u=new F2(i.getValue()[0],s.getValue()[0],a.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let a=n[s];if(n[s]==null)continue;let c=a.getValue()%30,u=a.getRowNumber();if(u>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:c+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Fs{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=de.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let c=this.detectionResultColumns[a].getCodewords()[s];c!=null&&(c.setRowNumber(n[s].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(c=Fs.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(c=Fs.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let a=s[i],c=this.detectionResultColumns[n-1].getCodewords(),u=c;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=c[i],d[3]=u[i],i>0&&(d[0]=s[i-1],d[4]=c[i-1],d[5]=u[i-1]),i>1&&(d[8]=s[i-2],d[10]=c[i-2],d[11]=u[i-2]),i<s.length-1&&(d[1]=s[i+1],d[6]=c[i+1],d[7]=u[i+1]),i<s.length-2&&(d[9]=s[i+2],d[12]=c[i+2],d[13]=u[i+2]);for(let h of d)if(Fs.adjustRowNumber(a,h))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ms;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[a].getCodewords()[s];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Us{constructor(n,i,s,a){this.rowNumber=Us.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Us.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Us.BARCODE_ROW_UNKNOWN=-1;class Yt{static initialize(){for(let n=0;n<de.SYMBOL_TABLE.length;n++){let i=de.SYMBOL_TABLE[n],s=i&1;for(let a=0;a<de.BARS_IN_MODULE;a++){let c=0;for(;(i&1)===s;)c+=1,i>>=1;s=i&1,Yt.RATIOS_TABLE[n]||(Yt.RATIOS_TABLE[n]=new Array(de.BARS_IN_MODULE)),Yt.RATIOS_TABLE[n][de.BARS_IN_MODULE-a-1]=Math.fround(c/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Yt.getDecodedCodewordValue(Yt.sampleBitCounts(n));return i!==-1?i:Yt.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Se.sum(n),s=new Int32Array(de.BARS_IN_MODULE),a=0,c=0;for(let u=0;u<de.MODULES_IN_CODEWORD;u++){let d=i/(2*de.MODULES_IN_CODEWORD)+u*i/de.MODULES_IN_CODEWORD;c+n[a]<=d&&(c+=n[a],a++),s[a]++}return s}static getDecodedCodewordValue(n){let i=Yt.getBitValue(n);return de.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let a=0;a<n[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Se.sum(n),s=new Array(de.BARS_IN_MODULE);if(i>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(n[u]/i);let a=Ko.MAX_VALUE,c=-1;this.bSymbolTableReady||Yt.initialize();for(let u=0;u<Yt.RATIOS_TABLE.length;u++){let d=0,h=Yt.RATIOS_TABLE[u];for(let p=0;p<de.BARS_IN_MODULE;p++){let E=Math.fround(h[p]-s[p]);if(d+=Math.fround(E*E),d>=a)break}d<a&&(a=d,c=de.SYMBOL_TABLE[u])}return c}}Yt.bSymbolTableReady=!1,Yt.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(y=>new Array(de.BARS_IN_MODULE));class Of{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class bf{static parseLong(n,i=void 0){return parseInt(n,i)}}class Df extends x{}Df.kind="NullPointerException";class U2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new Df;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new fe;if(s===0)return;for(let a=0;a<s;a++)this.write(n[i+a])}flush(){}close(){}}class V2 extends x{}class H2 extends U2{constructor(n=32){if(super(),this.count=0,n<0)throw new _("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new V2;s=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new fe;this.ensureCapacity(this.count+s),W.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Le;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Le||(Le={}));function kf(){if(typeof window<"u")return window.BigInt||null;if(typeof Ws<"u")return Ws.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ta;function Nr(y){if(typeof ta>"u"&&(ta=kf()),ta===null)throw new Error("BigInt is not supported!");return ta(y)}function W2(){let y=[];y[0]=Nr(1);let n=Nr(900);y[1]=n;for(let i=2;i<16;i++)y[i]=y[i-1]*n;return y}class L{static decode(n,i){let s=new we(""),a=z.ISO8859_1;s.enableDecoding(a);let c=1,u=n[c++],d=new Of;for(;c<n[0];){switch(u){case L.TEXT_COMPACTION_MODE_LATCH:c=L.textCompaction(n,c,s);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:c=L.byteCompaction(u,n,a,c,s);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[c++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:c=L.numericCompaction(n,c,s);break;case L.ECI_CHARSET:z.getCharacterSetECIByValue(n[c++]);break;case L.ECI_GENERAL_PURPOSE:c+=2;break;case L.ECI_USER_DEFINED:c++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=L.decodeMacroBlock(n,c,d);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new M;default:c--,c=L.textCompaction(n,c,s);break}if(c<n.length)u=n[c++];else throw M.getFormatInstance()}if(s.length()===0)throw M.getFormatInstance();let h=new Os(null,s.toString(),null,i);return h.setOther(d),h}static decodeMacroBlock(n,i,s){if(i+L.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw M.getFormatInstance();let a=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<L.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=n[i];s.setSegmentIndex(N.parseInt(L.decodeBase900toBase10(a,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new we;i=L.textCompaction(n,i,c),s.setFileId(c.toString());let u=-1;for(n[i]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<n[0];)switch(n[i]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new we;i=L.textCompaction(n,i+1,d),s.setFileName(d.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new we;i=L.textCompaction(n,i+1,h),s.setSender(h.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new we;i=L.textCompaction(n,i+1,p),s.setAddressee(p.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new we;i=L.numericCompaction(n,i+1,E),s.setSegmentCount(N.parseInt(E.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new we;i=L.numericCompaction(n,i+1,C),s.setTimestamp(bf.parseLong(C.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new we;i=L.numericCompaction(n,i+1,A),s.setChecksum(N.parseInt(A.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new we;i=L.numericCompaction(n,i+1,S),s.setFileSize(bf.parseLong(S.toString()));break;default:throw M.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(u!==-1){let d=i-u;s.isLastSegment()&&d--,s.setOptionalData(T.copyOfRange(n,u,u+d))}return i}static textCompaction(n,i,s){let a=new Int32Array((n[0]-i)*2),c=new Int32Array((n[0]-i)*2),u=0,d=!1;for(;i<n[0]&&!d;){let h=n[i++];if(h<L.TEXT_COMPACTION_MODE_LATCH)a[u]=h/30,a[u+1]=h%30,u+=2;else switch(h){case L.TEXT_COMPACTION_MODE_LATCH:a[u++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[u]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[i++],c[u]=h,u++;break}}return L.decodeTextCompaction(a,c,u,s),i}static decodeTextCompaction(n,i,s,a){let c=Le.ALPHA,u=Le.ALPHA,d=0;for(;d<s;){let h=n[d],p="";switch(c){case Le.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case L.LL:c=Le.LOWER;break;case L.ML:c=Le.MIXED;break;case L.PS:u=c,c=Le.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break;case Le.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case L.AS:u=c,c=Le.ALPHA_SHIFT;break;case L.ML:c=Le.MIXED;break;case L.PS:u=c,c=Le.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break;case Le.MIXED:if(h<L.PL)p=L.MIXED_CHARS[h];else switch(h){case L.PL:c=Le.PUNCT;break;case 26:p=" ";break;case L.LL:c=Le.LOWER;break;case L.AL:c=Le.ALPHA;break;case L.PS:u=c,c=Le.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break;case Le.PUNCT:if(h<L.PAL)p=L.PUNCT_CHARS[h];else switch(h){case L.PAL:c=Le.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break;case Le.ALPHA_SHIFT:if(c=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break;case Le.PUNCT_SHIFT:if(c=u,h<L.PAL)p=L.PUNCT_CHARS[h];else switch(h){case L.PAL:c=Le.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=Le.ALPHA;break}break}p!==""&&a.append(p),d++}}static byteCompaction(n,i,s,a,c){let u=new H2,d=0,h=0,p=!1;switch(n){case L.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),C=i[a++];for(;a<i[0]&&!p;)switch(E[d++]=C,h=900*h+C,C=i[a++],C){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(Nr(h)>>Nr(8*(5-A))));h=0,d=0}break}a===i[0]&&C<L.TEXT_COMPACTION_MODE_LATCH&&(E[d++]=C);for(let A=0;A<d;A++)u.write(E[A]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!p;){let A=i[a++];if(A<L.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(d%5===0&&d>0){for(let S=0;S<6;++S)u.write(Number(Nr(h)>>Nr(8*(5-S))));h=0,d=0}}break}return c.append(ke.decode(u.toByteArray(),s)),a}static numericCompaction(n,i,s){let a=0,c=!1,u=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!c;){let d=n[i++];if(i===n[0]&&(c=!0),d<L.TEXT_COMPACTION_MODE_LATCH)u[a]=d,a++;else switch(d){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(a%L.MAX_NUMERIC_CODEWORDS===0||d===L.NUMERIC_COMPACTION_MODE_LATCH||c)&&a>0&&(s.append(L.decodeBase900toBase10(u,a)),a=0)}return i}static decodeBase900toBase10(n,i){let s=Nr(0);for(let c=0;c<i;c++)s+=L.EXP900[i-c-1]*Nr(n[c]);let a=s.toString();if(a.charAt(0)!=="1")throw new M;return a.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=kf()?W2():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ye{constructor(){}static decode(n,i,s,a,c,u,d){let h=new di(n,i,s,a,c),p=null,E=null,C;for(let R=!0;;R=!1){if(i!=null&&(p=ye.getRowIndicatorColumn(n,h,i,!0,u,d)),a!=null&&(E=ye.getRowIndicatorColumn(n,h,a,!1,u,d)),C=ye.merge(p,E),C==null)throw V.getNotFoundInstance();let O=C.getBoundingBox();if(R&&O!=null&&(O.getMinY()<h.getMinY()||O.getMaxY()>h.getMaxY()))h=O;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(A,E);let S=p!=null;for(let R=1;R<=A;R++){let O=S?R:A-R;if(C.getDetectionResultColumn(O)!==void 0)continue;let k;O===0||O===A?k=new Rf(h,O===0):k=new Ls(h),C.setDetectionResultColumn(O,k);let B=-1,Z=B;for(let Q=h.getMinY();Q<=h.getMaxY();Q++){if(B=ye.getStartColumn(C,O,Q,S),B<0||B>h.getMaxX()){if(Z===-1)continue;B=Z}let X=ye.detectCodeword(n,h.getMinX(),h.getMaxX(),S,B,Q,u,d);X!=null&&(k.setCodeword(Q,X),Z=B,u=Math.min(u,X.getWidth()),d=Math.max(d,X.getWidth()))}}return ye.createDecoderResult(C)}static merge(n,i){if(n==null&&i==null)return null;let s=ye.getBarcodeMetadata(n,i);if(s==null)return null;let a=di.merge(ye.adjustBoundingBox(n),ye.adjustBoundingBox(i));return new Fs(s,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=ye.getMax(i),a=0;for(let d of i)if(a+=s-d,d>0)break;let c=n.getCodewords();for(let d=0;a>0&&c[d]==null;d++)a--;let u=0;for(let d=i.length-1;d>=0&&(u+=s-i[d],!(i[d]>0));d--);for(let d=c.length-1;u>0&&c[d]==null;d--)u--;return n.getBoundingBox().addMissingRows(a,u,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,a,c,u){let d=new Rf(i,a);for(let h=0;h<2;h++){let p=h===0?1:-1,E=Math.trunc(Math.trunc(s.getX()));for(let C=Math.trunc(Math.trunc(s.getY()));C<=i.getMaxY()&&C>=i.getMinY();C+=p){let A=ye.detectCodeword(n,0,n.getWidth(),a,E,C,c,u);A!=null&&(d.setCodeword(C,A),a?E=A.getStartX():E=A.getEndX())}}return d}static adjustCodewordCount(n,i){let s=i[0][1],a=s.getValue(),c=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ye.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(c<1||c>de.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();s.setValue(c)}else a[0]!==c&&s.setValue(c)}static createDecoderResult(n){let i=ye.createBarcodeMatrix(n);ye.adjustCodewordCount(n,i);let s=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),c=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let E=i[h][p+1].getValue(),C=h*n.getBarcodeColumnCount()+p;E.length===0?s.push(C):E.length===1?a[C]=E[0]:(u.push(C),c.push(E))}let d=new Array(c.length);for(let h=0;h<d.length;h++)d[h]=c[h];return ye.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,de.toIntArray(s),de.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(n,i,s,a,c){let u=new Int32Array(a.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)i[a[h]]=c[h][u[h]];try{return ye.decodeCodewords(i,n,s)}catch(h){if(!(h instanceof F))throw h}if(u.length===0)throw F.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<c[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let c=0;c<i[a].length;c++)i[a][c]=new Bs;let s=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let c of a.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][s].setValue(c.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,a){let c=a?1:-1,u=null;if(ye.isValidBarcodeColumn(n,i-c)&&(u=n.getDetectionResultColumn(i-c).getCodeword(s)),u!=null)return a?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(i).getCodewordNearby(s),u!=null)return a?u.getStartX():u.getEndX();if(ye.isValidBarcodeColumn(n,i-c)&&(u=n.getDetectionResultColumn(i-c).getCodewordNearby(s)),u!=null)return a?u.getEndX():u.getStartX();let d=0;for(;ye.isValidBarcodeColumn(n,i-c);){i-=c;for(let h of n.getDetectionResultColumn(i).getCodewords())if(h!=null)return(a?h.getEndX():h.getStartX())+c*d*(h.getEndX()-h.getStartX());d++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,a,c,u,d,h){c=ye.adjustCodewordStartColumn(n,i,s,a,c,u);let p=ye.getModuleBitCount(n,i,s,a,c,u);if(p==null)return null;let E,C=Se.sum(p);if(a)E=c+C;else{for(let R=0;R<p.length/2;R++){let O=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=O}E=c,c=E-C}if(!ye.checkCodewordSkew(C,d,h))return null;let A=Yt.getDecodedValue(p),S=de.getCodeword(A);return S===-1?null:new Us(c,E,ye.getCodewordBucketNumber(A),S)}static getModuleBitCount(n,i,s,a,c,u){let d=c,h=new Int32Array(8),p=0,E=a?1:-1,C=a;for(;(a?d<s:d>=i)&&p<h.length;)n.get(d,u)===C?(h[p]++,d+=E):(p++,C=!C);return p===h.length||d===(a?s:i)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,a,c,u){let d=c,h=a?-1:1;for(let p=0;p<2;p++){for(;(a?d>=i:d<s)&&a===n.get(d,u);){if(Math.abs(c-d)>ye.CODEWORD_SKEW_SIZE)return c;d+=h}h=-h,a=!a}return d}static checkCodewordSkew(n,i,s){return i-ye.CODEWORD_SKEW_SIZE<=n&&n<=s+ye.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw M.getFormatInstance();let a=1<<i+1,c=ye.correctErrors(n,s,a);ye.verifyCodewordCount(n,a);let u=L.decode(n,""+i);return u.setErrorsCorrected(c),u.setErasures(s.length),u}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+ye.MAX_ERRORS||s<0||s>ye.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return ye.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw M.getFormatInstance();let s=n[0];if(s>n.length)throw M.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw M.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((n&1)!==s&&(s=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ye.getCodewordBucketNumber(ye.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Ms;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let a=0;a<n[s].length;a++){let c=n[s][a];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}ye.CODEWORD_SKEW_SIZE=2,ye.MAX_ERRORS=3,ye.MAX_EC_CODEWORDS=512,ye.errorCorrection=new Nf;class It{decode(n,i=null){let s=It.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw V.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return It.decode(n,i,!0)}catch(s){throw s instanceof M||s instanceof F?V.getNotFoundInstance():s}}static decode(n,i,s){const a=new Array,c=Ee.detectMultiple(n,i,s);for(const u of c.getPoints()){const d=ye.decode(c.getBits(),u[4],u[5],u[6],u[7],It.getMinCodewordWidth(u),It.getMaxCodewordWidth(u)),h=new qe(d.getText(),d.getRawBytes(),void 0,u,oe.PDF_417);h.putMetadata(xt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(xt.PDF417_EXTRA_METADATA,p),a.push(h)}return a.map(u=>u)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(It.getMaxWidth(n[0],n[4]),It.getMaxWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(It.getMaxWidth(n[1],n[5]),It.getMaxWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(It.getMinWidth(n[0],n[4]),It.getMinWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(It.getMinWidth(n[1],n[5]),It.getMinWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}class na extends x{}na.kind="ReaderException";class Pf{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!o(n)&&n.get(K.TRY_HARDER)===!0,s=o(n)?null:n.get(K.POSSIBLE_FORMATS),a=new Array;if(!o(s)){const c=s.some(u=>u===oe.UPC_A||u===oe.UPC_E||u===oe.EAN_13||u===oe.EAN_8||u===oe.CODABAR||u===oe.CODE_39||u===oe.CODE_93||u===oe.CODE_128||u===oe.ITF||u===oe.RSS_14||u===oe.RSS_EXPANDED);c&&!i&&a.push(new Hi(n,this.verbose)),s.includes(oe.QR_CODE)&&a.push(new Tr),s.includes(oe.DATA_MATRIX)&&a.push(new Sr),s.includes(oe.AZTEC)&&a.push(new Qo),s.includes(oe.PDF_417)&&a.push(new It),c&&i&&a.push(new Hi(n,this.verbose))}a.length===0&&(i||a.push(new Hi(n,this.verbose)),a.push(new Tr),a.push(new Sr),a.push(new Qo),a.push(new It),i&&a.push(new Hi(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new na("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof na)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class z2 extends gn{constructor(n=null,i=500){const s=new Pf;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class G2 extends gn{constructor(n=500){super(new It,n)}}class j2 extends gn{constructor(n=500){super(new Tr,n)}}var dc;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(dc||(dc={}));var gt=dc;class hc{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Gt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const a=this.field;for(let c=i.length;c<=n;c++){const u=s.multiply(new Gt(a,Int32Array.from([1,a.exp(c-1+a.getGeneratorBase())])));i.push(u),s=u}}return i[n]}encode(n,i){if(i===0)throw new _("No error correction bytes");const s=n.length-i;if(s<=0)throw new _("No data bytes provided");const a=this.buildGenerator(i),c=new Int32Array(s);W.arraycopy(n,0,c,0,s);let u=new Gt(this.field,c);u=u.multiplyByMonomial(i,1);const h=u.divide(a)[1].getCoefficients(),p=i-h.length;for(let E=0;E<p;E++)n[s+E]=0;W.arraycopy(h,0,n,s+p,h.length)}}class st{constructor(){}static applyMaskPenaltyRule1(n){return st.applyMaskPenaltyRule1Internal(n,!0)+st.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let u=0;u<c-1;u++){const d=s[u];for(let h=0;h<a-1;h++){const p=d[h];p===d[h+1]&&p===s[u+1][h]&&p===s[u+1][h+1]&&i++}}return st.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let u=0;u<c;u++)for(let d=0;d<a;d++){const h=s[u];d+6<a&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(st.isWhiteHorizontal(h,d-4,d)||st.isWhiteHorizontal(h,d+7,d+11))&&i++,u+6<c&&s[u][d]===1&&s[u+1][d]===0&&s[u+2][d]===1&&s[u+3][d]===1&&s[u+4][d]===1&&s[u+5][d]===0&&s[u+6][d]===1&&(st.isWhiteVertical(s,d,u-4,u)||st.isWhiteVertical(s,d,u+7,u+11))&&i++}return i*st.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let a=i;a<s;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,s,a){s=Math.max(s,0),a=Math.min(a,n.length);for(let c=s;c<a;c++)if(n[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let h=0;h<c;h++){const p=s[h];for(let E=0;E<a;E++)p[E]===1&&i++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*st.N4}static getDataMaskBit(n,i,s){let a,c;switch(n){case 0:a=s+i&1;break;case 1:a=s&1;break;case 2:a=i%3;break;case 3:a=(s+i)%3;break;case 4:a=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:c=s*i,a=(c&1)+c%3;break;case 6:c=s*i,a=(c&1)+c%3&1;break;case 7:c=s*i,a=c%3+(s+i&1)&1;break;default:throw new _("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const a=i?n.getHeight():n.getWidth(),c=i?n.getWidth():n.getHeight(),u=n.getArray();for(let d=0;d<a;d++){let h=0,p=-1;for(let E=0;E<c;E++){const C=i?u[d][E]:u[E][d];C===p?h++:(h>=5&&(s+=st.N1+(h-5)),h=1,p=C)}h>=5&&(s+=st.N1+(h-5))}return s}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class ra{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)T.fill(i,n)}equals(n){if(!(n instanceof ra))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){const c=this.bytes[s],u=i.bytes[s];for(let d=0,h=this.width;d<h;++d)if(c[d]!==u[d])return!1}return!0}toString(){const n=new we;for(let i=0,s=this.height;i<s;++i){const a=this.bytes[i];for(let c=0,u=this.width;c<u;++c)switch(a[c]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class hi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new we;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<hi.NUM_MASK_PATTERNS}}hi.NUM_MASK_PATTERNS=8;class Fe extends x{}Fe.kind="WriterException";class ce{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,a,c){ce.clearMatrix(c),ce.embedBasicPatterns(s,c),ce.embedTypeInfo(i,a,c),ce.maybeEmbedVersionInfo(s,c),ce.embedDataBits(n,a,c)}static embedBasicPatterns(n,i){ce.embedPositionDetectionPatternsAndSeparators(i),ce.embedDarkDotAtLeftBottomCorner(i),ce.maybeEmbedPositionAdjustmentPatterns(n,i),ce.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const a=new U;ce.makeTypeInfoBits(n,i,a);for(let c=0,u=a.getSize();c<u;++c){const d=a.get(a.getSize()-1-c),h=ce.TYPE_INFO_COORDINATES[c],p=h[0],E=h[1];if(s.setBoolean(p,E,d),c<8){const C=s.getWidth()-c-1;s.setBoolean(C,8,d)}else{const A=s.getHeight()-7+(c-8);s.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new U;ce.makeVersionInfoBits(n,s);let a=6*3-1;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const d=s.get(a);a--,i.setBoolean(c,i.getHeight()-11+u,d),i.setBoolean(i.getHeight()-11+u,c,d)}}static embedDataBits(n,i,s){let a=0,c=-1,u=s.getWidth()-1,d=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!ce.isEmpty(s.get(p,d)))continue;let E;a<n.getSize()?(E=n.get(a),++a):E=!1,i!==255&&st.getDataMaskBit(i,p,d)&&(E=!E),s.setBoolean(p,d,E)}d+=c}c=-c,d+=c,u-=2}if(a!==n.getSize())throw new Fe("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-N.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new _("0 polynomial");const s=ce.findMSBSet(i);for(n<<=s-1;ce.findMSBSet(n)>=s;)n^=i<<ce.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!hi.isValidMaskPattern(i))throw new Fe("Invalid mask pattern");const a=n.getBits()<<3|i;s.appendBits(a,5);const c=ce.calculateBCHCode(a,ce.TYPE_INFO_POLY);s.appendBits(c,10);const u=new U;if(u.appendBits(ce.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Fe("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=ce.calculateBCHCode(n.getVersionNumber(),ce.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Fe("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;ce.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),ce.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Fe;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let a=0;a<8;++a){if(!ce.isEmpty(s.get(n+a,i)))throw new Fe;s.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let a=0;a<7;++a){if(!ce.isEmpty(s.get(n,i+a)))throw new Fe;s.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let a=0;a<5;++a){const c=ce.POSITION_ADJUSTMENT_PATTERN[a];for(let u=0;u<5;++u)s.setNumber(n+u,i+a,c[u])}}static embedPositionDetectionPattern(n,i,s){for(let a=0;a<7;++a){const c=ce.POSITION_DETECTION_PATTERN[a];for(let u=0;u<7;++u)s.setNumber(n+u,i+a,c[u])}}static embedPositionDetectionPatternsAndSeparators(n){const i=ce.POSITION_DETECTION_PATTERN[0].length;ce.embedPositionDetectionPattern(0,0,n),ce.embedPositionDetectionPattern(n.getWidth()-i,0,n),ce.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;ce.embedHorizontalSeparationPattern(0,s-1,n),ce.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),ce.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const a=7;ce.embedVerticalSeparationPattern(a,0,n),ce.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),ce.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,a=ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let c=0,u=a.length;c!==u;c++){const d=a[c];if(d>=0)for(let h=0;h!==u;h++){const p=a[h];p>=0&&ce.isEmpty(i.get(p,d))&&ce.embedPositionAdjustmentPattern(p-2,d-2,i)}}}}ce.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ce.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ce.VERSION_INFO_POLY=7973,ce.TYPE_INFO_POLY=1335,ce.TYPE_INFO_MASK_PATTERN=21522;class X2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class je{constructor(){}static calculateMaskPenalty(n){return st.applyMaskPenaltyRule1(n)+st.applyMaskPenaltyRule2(n)+st.applyMaskPenaltyRule3(n)+st.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let a=je.DEFAULT_BYTE_MODE_ENCODING;const c=s!==null&&s.get(gt.CHARACTER_SET)!==void 0;c&&(a=s.get(gt.CHARACTER_SET).toString());const u=this.chooseMode(n,a),d=new U;if(u===le.BYTE&&(c||je.DEFAULT_BYTE_MODE_ENCODING!==a)){const Q=z.getCharacterSetECIByName(a);Q!==void 0&&this.appendECI(Q,d)}this.appendModeInfo(u,d);const h=new U;this.appendBytes(n,u,h,a);let p;if(s!==null&&s.get(gt.QR_VERSION)!==void 0){const Q=Number.parseInt(s.get(gt.QR_VERSION).toString(),10);p=ae.getVersionForNumber(Q);const X=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit(X,p,i))throw new Fe("Data too big for requested version")}else p=this.recommendVersion(i,u,d,h);const E=new U;E.appendBitArray(d);const C=u===le.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(C,p,u,E),E.appendBitArray(h);const A=p.getECBlocksForLevel(i),S=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(S,E);const R=this.interleaveWithECBytes(E,p.getTotalCodewords(),S,A.getNumBlocks()),O=new hi;O.setECLevel(i),O.setMode(u),O.setVersion(p);const k=p.getDimensionForVersion(),B=new ra(k,k),Z=this.chooseMaskPattern(R,i,p,B);return O.setMaskPattern(Z),ce.buildMatrix(R,i,p,Z,B),O.setMatrix(B),O}static recommendVersion(n,i,s,a){const c=this.calculateBitsNeeded(i,s,a,ae.getVersionForNumber(1)),u=this.chooseVersion(c,n),d=this.calculateBitsNeeded(i,s,a,u);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,i,s,a){return i.getSize()+n.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(n){return n<je.ALPHANUMERIC_TABLE.length?je.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(z.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return le.KANJI;let s=!1,a=!1;for(let c=0,u=n.length;c<u;++c){const d=n.charAt(c);if(je.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return le.BYTE}return a?le.ALPHANUMERIC:s?le.NUMERIC:le.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=ke.encode(n,z.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){const c=i[a]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(n,i,s,a){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<hi.NUM_MASK_PATTERNS;d++){ce.buildMatrix(n,i,s,d,a);let h=this.calculateMaskPenalty(a);h<c&&(c=h,u=d)}return u}static chooseVersion(n,i){for(let s=1;s<=40;s++){const a=ae.getVersionForNumber(s);if(je.willFit(n,a,i))return a}throw new Fe("Data too big")}static willFit(n,i,s){const a=i.getTotalCodewords(),u=i.getECBlocksForLevel(s).getTotalECCodewords(),d=a-u,h=(n+7)/8;return d>=h}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Fe("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let u=0;u<4&&i.getSize()<s;++u)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let u=a;u<8;u++)i.appendBit(!1);const c=n-i.getSizeInBytes();for(let u=0;u<c;++u)i.appendBits(u&1?17:236,8);if(i.getSize()!==s)throw new Fe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,a,c,u){if(a>=s)throw new Fe("Block ID too large");const d=n%s,h=s-d,p=Math.floor(n/s),E=p+1,C=Math.floor(i/s),A=C+1,S=p-C,R=E-A;if(S!==R)throw new Fe("EC bytes mismatch");if(s!==h+d)throw new Fe("RS blocks mismatch");if(n!==(C+S)*h+(A+R)*d)throw new Fe("Total bytes mismatch");a<h?(c[0]=C,u[0]=S):(c[0]=A,u[0]=R)}static interleaveWithECBytes(n,i,s,a){if(n.getSizeInBytes()!==s)throw new Fe("Number of bits and data bytes does not match");let c=0,u=0,d=0;const h=new Array;for(let E=0;E<a;++E){const C=new Int32Array(1),A=new Int32Array(1);je.getNumDataBytesAndNumECBytesForBlockID(i,s,a,E,C,A);const S=C[0],R=new Uint8Array(S);n.toBytes(8*c,R,0,S);const O=je.generateECBytes(R,A[0]);h.push(new X2(R,O)),u=Math.max(u,S),d=Math.max(d,O.length),c+=C[0]}if(s!==c)throw new Fe("Data bytes does not match offset");const p=new U;for(let E=0;E<u;++E)for(const C of h){const A=C.getDataBytes();E<A.length&&p.appendBits(A[E],8)}for(let E=0;E<d;++E)for(const C of h){const A=C.getErrorCorrectionBytes();E<A.length&&p.appendBits(A[E],8)}if(i!==p.getSizeInBytes())throw new Fe("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,i){const s=n.length,a=new Int32Array(s+i);for(let u=0;u<s;u++)a[u]=n[u]&255;new hc(Re.QR_CODE_FIELD_256).encode(a,i);const c=new Uint8Array(i);for(let u=0;u<i;u++)c[u]=a[s+u];return c}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,a){const c=s.getCharacterCountBits(i);if(n>=1<<c)throw new Fe(n+" is bigger than "+((1<<c)-1));a.appendBits(n,c)}static appendBytes(n,i,s,a){switch(i){case le.NUMERIC:je.appendNumericBytes(n,s);break;case le.ALPHANUMERIC:je.appendAlphanumericBytes(n,s);break;case le.BYTE:je.append8BitBytes(n,s,a);break;case le.KANJI:je.appendKanjiBytes(n,s);break;default:throw new Fe("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=je.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const c=je.getDigit(n.charAt(a));if(a+2<s){const u=je.getDigit(n.charAt(a+1)),d=je.getDigit(n.charAt(a+2));i.appendBits(c*100+u*10+d,10),a+=3}else if(a+1<s){const u=je.getDigit(n.charAt(a+1));i.appendBits(c*10+u,7),a+=2}else i.appendBits(c,4),a++}}static appendAlphanumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const c=je.getAlphanumericCode(n.charCodeAt(a));if(c===-1)throw new Fe;if(a+1<s){const u=je.getAlphanumericCode(n.charCodeAt(a+1));if(u===-1)throw new Fe;i.appendBits(c*45+u,11),a+=2}else i.appendBits(c,6),a++}}static append8BitBytes(n,i,s){let a;try{a=ke.encode(n,s)}catch(c){throw new Fe(c)}for(let c=0,u=a.length;c!==u;c++){const d=a[c];i.appendBits(d,8)}}static appendKanjiBytes(n,i){let s;try{s=ke.encode(n,z.SJIS)}catch(c){throw new Fe(c)}const a=s.length;for(let c=0;c<a;c+=2){const u=s[c]&255,d=s[c+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Fe("Invalid byte sequence");const E=(p>>8)*192+(p&255);i.appendBits(E,13)}}static appendECI(n,i){i.appendBits(le.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),je.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class gi{write(n,i,s,a=null){if(n.length===0)throw new _("Found empty contents");if(i<0||s<0)throw new _("Requested dimensions are too small: "+i+"x"+s);let c=ze.L,u=gi.QUIET_ZONE_SIZE;a!==null&&(a.get(gt.ERROR_CORRECTION)!==void 0&&(c=ze.fromString(a.get(gt.ERROR_CORRECTION).toString())),a.get(gt.MARGIN)!==void 0&&(u=Number.parseInt(a.get(gt.MARGIN).toString(),10)));const d=je.encode(n,c,a);return this.renderResult(d,i,s,u)}writeToDom(n,i,s,a,c=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(i,s,a,c);n&&n.appendChild(u)}renderResult(n,i,s,a){const c=n.getMatrix();if(c===null)throw new Un;const u=c.getWidth(),d=c.getHeight(),h=u+a*2,p=d+a*2,E=Math.max(i,h),C=Math.max(s,p),A=Math.min(Math.floor(E/h),Math.floor(C/p)),S=Math.floor((E-u*A)/2),R=Math.floor((C-d*A)/2),O=this.createSVGElement(E,C);for(let k=0,B=R;k<d;k++,B+=A)for(let Z=0,Q=S;Z<u;Z++,Q+=A)if(c.get(Z,k)===1){const X=this.createSvgRectElement(Q,B,A,A);O.appendChild(X)}return O}createSVGElement(n,i){const s=document.createElementNS(gi.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,a){const c=document.createElementNS(gi.SVG_NS,"rect");return c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",a.toString()),c.setAttributeNS(null,"fill","#000000"),c}}gi.QUIET_ZONE_SIZE=4,gi.SVG_NS="http://www.w3.org/2000/svg";class zi{encode(n,i,s,a,c){if(n.length===0)throw new _("Found empty contents");if(i!==oe.QR_CODE)throw new _("Can only encode QR_CODE, but got "+i);if(s<0||a<0)throw new _(`Requested dimensions are too small: ${s}x${a}`);let u=ze.L,d=zi.QUIET_ZONE_SIZE;c!==null&&(c.get(gt.ERROR_CORRECTION)!==void 0&&(u=ze.fromString(c.get(gt.ERROR_CORRECTION).toString())),c.get(gt.MARGIN)!==void 0&&(d=Number.parseInt(c.get(gt.MARGIN).toString(),10)));const h=je.encode(n,u,c);return zi.renderResult(h,s,a,d)}static renderResult(n,i,s,a){const c=n.getMatrix();if(c===null)throw new Un;const u=c.getWidth(),d=c.getHeight(),h=u+a*2,p=d+a*2,E=Math.max(i,h),C=Math.max(s,p),A=Math.min(Math.floor(E/h),Math.floor(C/p)),S=Math.floor((E-u*A)/2),R=Math.floor((C-d*A)/2),O=new He(E,C);for(let k=0,B=R;k<d;k++,B+=A)for(let Z=0,Q=S;Z<u;Z++,Q+=A)c.get(Z,k)===1&&O.setRegion(Q,B,A,A);return O}}zi.QUIET_ZONE_SIZE=4;class Y2{encode(n,i,s,a,c){let u;switch(i){case oe.QR_CODE:u=new zi;break;default:throw new _("No encoder available for format "+i)}return u.encode(n,i,s,a,c)}}class zn extends te{constructor(n,i,s,a,c,u,d,h){if(super(u,d),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=c,a+u>i||c+d>s)throw new _("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return W.arraycopy(this.yuvData,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,a=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return W.arraycopy(this.yuvData,c,a,0,s),a;for(let u=0;u<i;u++){const d=u*n;W.arraycopy(this.yuvData,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,a,!1)}renderThumbnail(){const n=this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),a=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const d=u*n;for(let h=0;h<n;h++){const p=a[c+h*zn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|p*65793}c+=this.dataWidth*zn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let a=0,c=this.top*this.dataWidth+this.left;a<i;a++,c+=this.dataWidth){const u=c+n/2;for(let d=c,h=c+n-1;d<u;d++,h--){const p=s[d];s[d]=s[h],s[h]=p}}}invert(){return new ue(this)}}zn.THUMBNAIL_SCALE_FACTOR=2;class gc extends te{constructor(n,i,s,a,c,u,d){if(super(i,s),this.dataWidth=a,this.dataHeight=c,this.left=u,this.top=d,n.BYTES_PER_ELEMENT===4){const h=i*s,p=new Uint8ClampedArray(h);for(let E=0;E<h;E++){const C=n[E],A=C>>16&255,S=C>>7&510,R=C&255;p[E]=(A+S+R)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return W.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,a=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return W.arraycopy(this.luminances,c,a,0,s),a;for(let u=0;u<i;u++){const d=u*n;W.arraycopy(this.luminances,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new gc(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new ue(this)}}class Mf extends z{static forName(n){return this.getCharacterSetECIByName(n)}}class pc{}pc.ISO_8859_1=z.ISO8859_1;class Lf{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Bf{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class K2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Gi extends K2{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Gi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Gi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+N.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class mc extends Gi{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new mc(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Z2(y,n,i){return new mc(y,n,i)}function Vs(y,n,i){return new Gi(y,n,i)}const Q2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Rr=0,ia=1,wn=2,Ff=3,Gn=4,$2=new Gi(null,0,0),xc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function q2(y){for(let n of y)T.fill(n,-1);return y[Rr][Gn]=0,y[ia][Gn]=0,y[ia][Rr]=28,y[Ff][Gn]=0,y[wn][Gn]=0,y[wn][Rr]=15,y}const Uf=q2(T.createInt32Array(6,6));class jn{constructor(n,i,s,a){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,a=this.token;if(n!==this.mode){let u=xc[this.mode][n];a=Vs(a,u&65535,u>>16),s+=u>>16}let c=n===wn?4:5;return a=Vs(a,i,c),new jn(a,n,0,s+c)}shiftAndAppend(n,i){let s=this.token,a=this.mode===wn?4:5;return s=Vs(s,Uf[this.mode][n],a),s=Vs(s,i,5),new jn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===Gn||this.mode===wn){let d=xc[s][Rr];i=Vs(i,d&65535,d>>16),a+=d>>16,s=Rr}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new jn(i,s,this.binaryShiftByteCount+1,a+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Z2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(xc[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=jn.calculateBinaryShiftCost(n)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new U;for(const a of i)a.appendTo(s,n);return s}toString(){return ee.format("%s bits=%d bytes=%d",Q2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn($2,Rr,0,0);function J2(y){const n=ee.getCharCode(" "),i=ee.getCharCode("."),s=ee.getCharCode(",");y[Rr][n]=1;const a=ee.getCharCode("Z"),c=ee.getCharCode("A");for(let A=c;A<=a;A++)y[Rr][A]=A-c+2;y[ia][n]=1;const u=ee.getCharCode("z"),d=ee.getCharCode("a");for(let A=d;A<=u;A++)y[ia][A]=A-d+2;y[wn][n]=1;const h=ee.getCharCode("9"),p=ee.getCharCode("0");for(let A=p;A<=h;A++)y[wn][A]=A-p+2;y[wn][s]=12,y[wn][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<E.length;A++)y[Ff][ee.getCharCode(E[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)ee.getCharCode(C[A])>0&&(y[Gn][ee.getCharCode(C[A])]=A);return y}const wc=J2(T.createInt32Array(5,256));class Hs{constructor(n){this.text=n}encode(){const n=ee.getCharCode(" "),i=ee.getCharCode(`
`);let s=Bf.singletonList(jn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,d=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ee.getCharCode("\r"):u=d===i?2:0;break;case ee.getCharCode("."):u=d===n?3:0;break;case ee.getCharCode(","):u=d===n?4:0;break;case ee.getCharCode(":"):u=d===n?5:0;break;default:u=0}u>0?(s=Hs.updateStateListForPair(s,c,u),c++):s=this.updateStateListForChar(s,c)}return Bf.min(s,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let a of n)this.updateStateForChar(a,i,s);return Hs.simplifyStates(s)}updateStateForChar(n,i,s){let a=this.text[i]&255,c=wc[n.getMode()][a]>0,u=null;for(let d=0;d<=Gn;d++){let h=wc[d][a];if(h>0){if(u==null&&(u=n.endBinaryShift(i)),!c||d===n.getMode()||d===wn){const p=u.latchAndAppend(d,h);s.push(p)}if(!c&&Uf[n.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||wc[n.getMode()][a]===0){let d=n.addBinaryShiftChar(i);s.push(d)}}static updateStateListForPair(n,i,s){const a=[];for(let c of n)this.updateStateForPair(c,i,s,a);return this.simplifyStates(a)}static updateStateForPair(n,i,s,a){let c=n.endBinaryShift(i);if(a.push(c.latchAndAppend(Gn,s)),n.getMode()!==Gn&&a.push(c.shiftAndAppend(Gn,s)),s===3||s===4){let u=c.latchAndAppend(wn,16-s).latchAndAppend(wn,1);a.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(u)}}static simplifyStates(n){let i=[];for(const s of n){let a=!0;for(const c of i){if(c.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(c)&&(i=i.filter(u=>u!==c))}a&&i.push(s)}return i}}class Te{constructor(){}static encodeBytes(n){return Te.encode(n,Te.DEFAULT_EC_PERCENT,Te.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let a=new Hs(n).encode(),c=N.truncDivision(a.getSize()*i,100)+11,u=a.getSize()+c,d,h,p,E,C;if(s!==Te.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Te.MAX_NB_BITS_COMPACT:Te.MAX_NB_BITS))throw new _(ee.format("Illegal value %s for layers",s));p=Te.totalBitsInLayer(h,d),E=Te.WORD_SIZE[h];let X=p-p%E;if(C=Te.stuffBits(a,E),C.getSize()+c>X)throw new _("Data to large for user specified layer");if(d&&C.getSize()>E*64)throw new _("Data to large for user specified layer")}else{E=0,C=null;for(let X=0;;X++){if(X>Te.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(d=X<=3,h=d?X+1:X,p=Te.totalBitsInLayer(h,d),u>p)continue;(C==null||E!==Te.WORD_SIZE[h])&&(E=Te.WORD_SIZE[h],C=Te.stuffBits(a,E));let Ae=p-p%E;if(!(d&&C.getSize()>E*64)&&C.getSize()+c<=Ae)break}}let A=Te.generateCheckWords(C,p,E),S=C.getSize()/E,R=Te.generateModeMessage(d,h,S),O=(d?11:14)+h*4,k=new Int32Array(O),B;if(d){B=O;for(let X=0;X<k.length;X++)k[X]=X}else{B=O+1+2*N.truncDivision(N.truncDivision(O,2)-1,15);let X=N.truncDivision(O,2),Ae=N.truncDivision(B,2);for(let xe=0;xe<X;xe++){let Kt=xe+N.truncDivision(xe,15);k[X-xe-1]=Ae-Kt-1,k[X+xe]=Ae+Kt+1}}let Z=new He(B);for(let X=0,Ae=0;X<h;X++){let xe=(h-X)*4+(d?9:12);for(let Kt=0;Kt<xe;Kt++){let Rn=Kt*2;for(let Zt=0;Zt<2;Zt++)A.get(Ae+Rn+Zt)&&Z.set(k[X*2+Zt],k[X*2+Kt]),A.get(Ae+xe*2+Rn+Zt)&&Z.set(k[X*2+Kt],k[O-1-X*2-Zt]),A.get(Ae+xe*4+Rn+Zt)&&Z.set(k[O-1-X*2-Zt],k[O-1-X*2-Kt]),A.get(Ae+xe*6+Rn+Zt)&&Z.set(k[O-1-X*2-Kt],k[X*2+Zt])}Ae+=xe*8}if(Te.drawModeMessage(Z,d,B,R),d)Te.drawBullsEye(Z,N.truncDivision(B,2),5);else{Te.drawBullsEye(Z,N.truncDivision(B,2),7);for(let X=0,Ae=0;X<N.truncDivision(O,2)-1;X+=15,Ae+=16)for(let xe=N.truncDivision(B,2)&1;xe<B;xe+=2)Z.set(N.truncDivision(B,2)-Ae,xe),Z.set(N.truncDivision(B,2)+Ae,xe),Z.set(xe,N.truncDivision(B,2)-Ae),Z.set(xe,N.truncDivision(B,2)+Ae)}let Q=new Lf;return Q.setCompact(d),Q.setSize(B),Q.setLayers(h),Q.setCodeWords(S),Q.setMatrix(Z),Q}static drawBullsEye(n,i,s){for(let a=0;a<s;a+=2)for(let c=i-a;c<=i+a;c++)n.set(c,i-a),n.set(c,i+a),n.set(i-a,c),n.set(i+a,c);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let a=new U;return n?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=Te.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=Te.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,s,a){let c=N.truncDivision(s,2);if(i)for(let u=0;u<7;u++){let d=c-3+u;a.get(u)&&n.set(d,c-5),a.get(u+7)&&n.set(c+5,d),a.get(20-u)&&n.set(d,c+5),a.get(27-u)&&n.set(c-5,d)}else for(let u=0;u<10;u++){let d=c-5+u+N.truncDivision(u,5);a.get(u)&&n.set(d,c-7),a.get(u+10)&&n.set(c+7,d),a.get(29-u)&&n.set(d,c+7),a.get(39-u)&&n.set(c-7,d)}}static generateCheckWords(n,i,s){let a=n.getSize()/s,c=new hc(Te.getGF(s)),u=N.truncDivision(i,s),d=Te.bitsToWords(n,s,u);c.encode(d,u-a);let h=i%s,p=new U;p.appendBits(0,h);for(const E of Array.from(d))p.appendBits(E,s);return p}static bitsToWords(n,i,s){let a=new Int32Array(s),c,u;for(c=0,u=n.getSize()/i;c<u;c++){let d=0;for(let h=0;h<i;h++)d|=n.get(c*i+h)?1<<i-h-1:0;a[c]=d}return a}static getGF(n){switch(n){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new _("Unsupported word size "+n)}}static stuffBits(n,i){let s=new U,a=n.getSize(),c=(1<<i)-2;for(let u=0;u<a;u+=i){let d=0;for(let h=0;h<i;h++)(u+h>=a||n.get(u+h))&&(d|=1<<i-1-h);(d&c)===c?(s.appendBits(d&c,i),u--):d&c?s.appendBits(d,i):(s.appendBits(d|1,i),u--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Te.DEFAULT_EC_PERCENT=33,Te.DEFAULT_AZTEC_LAYERS=0,Te.MAX_NB_BITS=32,Te.MAX_NB_BITS_COMPACT=4,Te.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sa{encode(n,i,s,a){return this.encodeWithHints(n,i,s,a,null)}encodeWithHints(n,i,s,a,c){let u=pc.ISO_8859_1,d=Te.DEFAULT_EC_PERCENT,h=Te.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(gt.CHARACTER_SET)&&(u=Mf.forName(c.get(gt.CHARACTER_SET).toString())),c.has(gt.ERROR_CORRECTION)&&(d=N.parseInt(c.get(gt.ERROR_CORRECTION).toString())),c.has(gt.AZTEC_LAYERS)&&(h=N.parseInt(c.get(gt.AZTEC_LAYERS).toString()))),sa.encodeLayers(n,i,s,a,u,d,h)}static encodeLayers(n,i,s,a,c,u,d){if(i!==oe.AZTEC)throw new _("Can only encode AZTEC, but got "+i);let h=Te.encode(ee.getBytes(n,c),u,d);return sa.renderResult(h,s,a)}static renderResult(n,i,s){let a=n.getMatrix();if(a==null)throw new Un;let c=a.getWidth(),u=a.getHeight(),d=Math.max(i,c),h=Math.max(s,u),p=Math.min(d/c,h/u),E=(d-c*p)/2,C=(h-u*p)/2,A=new He(d,h);for(let S=0,R=C;S<u;S++,R+=p)for(let O=0,k=E;O<c;O++,k+=p)a.get(O,S)&&A.setRegion(k,R,p,p);return A}}r.AbstractExpandedDecoder=rc,r.ArgumentException=I,r.ArithmeticException=Yo,r.AztecCode=Lf,r.AztecCodeReader=Qo,r.AztecCodeWriter=sa,r.AztecDecoder=We,r.AztecDetector=Af,r.AztecDetectorResult=yf,r.AztecEncoder=Te,r.AztecHighLevelEncoder=Hs,r.AztecPoint=Ft,r.BarcodeFormat=oe,r.Binarizer=G,r.BinaryBitmap=b,r.BitArray=U,r.BitMatrix=He,r.BitSource=ac,r.BrowserAztecCodeReader=_2,r.BrowserBarcodeReader=O2,r.BrowserCodeReader=gn,r.BrowserDatamatrixCodeReader=D2,r.BrowserMultiFormatReader=z2,r.BrowserPDF417Reader=G2,r.BrowserQRCodeReader=j2,r.BrowserQRCodeSvgWriter=gi,r.CharacterSetECI=z,r.ChecksumException=F,r.Code128Reader=q,r.Code39Reader=dt,r.DataMatrixDecodedBitStreamParser=_r,r.DataMatrixReader=Sr,r.DecodeHintType=K,r.DecoderResult=Os,r.DefaultGridSampler=Cf,r.DetectorResult=Zo,r.EAN13Reader=ci,r.EncodeHintType=gt,r.Exception=x,r.FormatException=M,r.GenericGF=Re,r.GenericGFPoly=Gt,r.GlobalHistogramBinarizer=Pe,r.GridSampler=Jl,r.GridSamplerInstance=vr,r.HTMLCanvasElementLuminanceSource=pe,r.HybridBinarizer=ge,r.ITFReader=Be,r.IllegalArgumentException=_,r.IllegalStateException=Un,r.InvertedLuminanceSource=ue,r.LuminanceSource=te,r.MathUtils=Se,r.MultiFormatOneDReader=Hi,r.MultiFormatReader=Pf,r.MultiFormatWriter=Y2,r.NotFoundException=V,r.OneDReader=ut,r.PDF417DecodedBitStreamParser=L,r.PDF417DecoderErrorCorrection=Nf,r.PDF417Reader=It,r.PDF417ResultMetadata=Of,r.PerspectiveTransform=Tn,r.PlanarYUVLuminanceSource=zn,r.QRCodeByteMatrix=ra,r.QRCodeDataMask=mn,r.QRCodeDecodedBitStreamParser=Je,r.QRCodeDecoderErrorCorrectionLevel=ze,r.QRCodeDecoderFormatInformation=Dt,r.QRCodeEncoder=je,r.QRCodeEncoderQRCode=hi,r.QRCodeMaskUtil=st,r.QRCodeMatrixUtil=ce,r.QRCodeMode=le,r.QRCodeReader=Tr,r.QRCodeVersion=ae,r.QRCodeWriter=zi,r.RGBLuminanceSource=gc,r.RSS14Reader=it,r.RSSExpandedReader=j,r.ReaderException=na,r.ReedSolomonDecoder=Ds,r.ReedSolomonEncoder=hc,r.ReedSolomonException=Bi,r.Result=qe,r.ResultMetadataType=xt,r.ResultPoint=se,r.StringUtils=ee,r.UnsupportedOperationException=me,r.VideoInputDevice=Ze,r.WhiteRectangleDetector=nr,r.WriterException=Fe,r.ZXingArrays=T,r.ZXingCharset=Mf,r.ZXingInteger=N,r.ZXingStandardCharsets=pc,r.ZXingStringBuilder=we,r.ZXingStringEncoding=ke,r.ZXingSystem=W,r.createAbstractExpandedDecoder=Sf,Object.defineProperty(r,"__esModule",{value:!0})})})(s1,s1.exports);var Ye=s1.exports;const wv=jd(Ye),Ev=nm({__proto__:null,default:wv},[Ye]);var Fd=function(){function e(t,r,o){if(this.formatMap=new Map([[re.QR_CODE,Ye.BarcodeFormat.QR_CODE],[re.AZTEC,Ye.BarcodeFormat.AZTEC],[re.CODABAR,Ye.BarcodeFormat.CODABAR],[re.CODE_39,Ye.BarcodeFormat.CODE_39],[re.CODE_93,Ye.BarcodeFormat.CODE_93],[re.CODE_128,Ye.BarcodeFormat.CODE_128],[re.DATA_MATRIX,Ye.BarcodeFormat.DATA_MATRIX],[re.MAXICODE,Ye.BarcodeFormat.MAXICODE],[re.ITF,Ye.BarcodeFormat.ITF],[re.EAN_13,Ye.BarcodeFormat.EAN_13],[re.EAN_8,Ye.BarcodeFormat.EAN_8],[re.PDF_417,Ye.BarcodeFormat.PDF_417],[re.RSS_14,Ye.BarcodeFormat.RSS_14],[re.RSS_EXPANDED,Ye.BarcodeFormat.RSS_EXPANDED],[re.UPC_A,Ye.BarcodeFormat.UPC_A],[re.UPC_E,Ye.BarcodeFormat.UPC_E],[re.UPC_EAN_EXTENSION,Ye.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ev)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var l=this.createZXingFormats(t),f=new Map;f.set(Ye.DecodeHintType.POSSIBLE_FORMATS,l),f.set(Ye.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(o,l){try{o(r.decode(t))}catch(f){l(f)}})},e.prototype.decode=function(t){var r=new Ye.MultiFormatReader(this.verbose,this.hints),o=new Ye.HTMLCanvasElementLuminanceSource(t),l=new Ye.BinaryBitmap(new Ye.HybridBinarizer(o)),f=r.decode(l);return{text:f.text,format:A2.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,l){t.set(r,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],o=0,l=t;o<l.length;o++){var f=l[o];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),yv=function(e,t,r,o){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(o.next(I))}catch(_){g(_)}}function w(I){try{x(o.throw(I))}catch(_){g(_)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((o=o.apply(e,t||[])).next())})},Cv=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{o=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ud=function(){function e(t,r,o){if(this.formatMap=new Map([[re.QR_CODE,"qr_code"],[re.AZTEC,"aztec"],[re.CODABAR,"codabar"],[re.CODE_39,"code_39"],[re.CODE_93,"code_93"],[re.CODE_128,"code_128"],[re.DATA_MATRIX,"data_matrix"],[re.ITF,"itf"],[re.EAN_13,"ean_13"],[re.EAN_8,"ean_8"],[re.PDF_417,"pdf417"],[re.UPC_A,"upc_a"],[re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return yv(this,void 0,void 0,function(){var r,o;return Cv(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:A2.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,o=0,l=0,f=t;l<f.length;l++){var g=f[l],m=g.boundingBox.width*g.boundingBox.height;m>o&&(o=m,r=g)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],o=0,l=t;o<l.length;o++){var f=l[o];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,l){t.set(r,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Vd=function(e,t,r,o){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(o.next(I))}catch(_){g(_)}}function w(I){try{x(o.throw(I))}catch(_){g(_)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((o=o.apply(e,t||[])).next())})},Hd=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{o=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Av=function(){function e(t,r,o,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&Ud.isSupported()?(this.primaryDecoder=new Ud(t,o,l),this.secondaryDecoder=new Fd(t,o,l)):this.primaryDecoder=new Fd(t,o,l)}return e.prototype.decodeAsync=function(t){return Vd(this,void 0,void 0,function(){var r;return Hd(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Vd(this,void 0,void 0,function(){var r,o;return Hd(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(o=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,o=this.executionResults;r<o.length;r++){var l=o[r];t+=l}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ef=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),_l=function(e,t,r,o){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(o.next(I))}catch(_){g(_)}}function w(I){try{x(o.throw(I))}catch(_){g(_)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((o=o.apply(e,t||[])).next())})},Sl=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{o=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},I2=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),vv=function(e){Ef(t,e);function t(r,o){return e.call(this,r,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var o={};o[this.name]=r;var l={advanced:[o]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(I2),Iv=function(e){Ef(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(vv),_v=function(e){Ef(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(I2),Sv=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Iv(this.track)},e.prototype.torchFeature=function(){return new _v(this.track)},e}(),Tv=function(){function e(t,r,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,o,l){return _l(this,void 0,void 0,function(){var f,g;return Sl(this,function(m){switch(m.label){case 0:return f=new e(t,r,l),o.aspectRatio?(g={aspectRatio:o.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,o=function(){setTimeout(t,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return _l(this,void 0,void 0,function(){return Sl(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,o){var l=t.mediaStream.getVideoTracks(),f=l.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Sv(this.getFirstTrackOrFail())},e}(),Nv=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,o){return _l(this,void 0,void 0,function(){return Sl(this,function(l){return[2,Tv.create(t,this.mediaStream,r,o)]})})},e.create=function(t){return _l(this,void 0,void 0,function(){var r,o;return Sl(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=l.sent(),[2,new e(o)]}})})},e}(),Wd=function(e,t,r,o){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(o.next(I))}catch(_){g(_)}}function w(I){try{x(o.throw(I))}catch(_){g(_)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((o=o.apply(e,t||[])).next())})},zd=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{o=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Rv=function(){function e(){}return e.failIfNotSupported=function(){return Wd(this,void 0,void 0,function(){return zd(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Wd(this,void 0,void 0,function(){return zd(this,function(r){return[2,Nv.create(t)]})})},e}(),Ov=function(e,t,r,o){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(o.next(I))}catch(_){g(_)}}function w(I){try{x(o.throw(I))}catch(_){g(_)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((o=o.apply(e,t||[])).next())})},bv=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{o=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Dv=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=as.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=as.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Ov(this,void 0,void 0,function(){var t,r,o,l,f,g,m;return bv(this,function(w){switch(w.label){case 0:return t=function(x){for(var I=x.getVideoTracks(),_=0,b=I;_<b.length;_++){var F=b[_];F.enabled=!1,F.stop(),x.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),l=[],f=0,g=o;f<g.length;f++)m=g[f],m.kind==="videoinput"&&l.push({id:m.deviceId,label:m.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var o=function(f){for(var g=[],m=0,w=f;m<w.length;m++){var x=w[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},l=MediaStreamTrack;l.getSources(o)})},e}(),ot;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ot||(ot={}));var kv=function(){function e(){this.state=ot.NOT_STARTED,this.onGoingTransactionNewState=ot.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ot.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ot.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ot.UNKNOWN:throw"Transition from unknown is not allowed";case ot.NOT_STARTED:this.failIfNewStateIs(t,[ot.PAUSED]);break;case ot.SCANNING:break;case ot.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var o=0,l=r;o<l.length;o++){var f=l[o];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Pv=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ot.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ot.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ot.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ot.PAUSED},e}(),Mv=function(){function e(){}return e.create=function(){return new Pv(new kv)},e}(),Lv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),sn=function(e){Lv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(pv),Bv=function(){function e(t,r){this.logger=r,this.fps=sn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=sn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?v2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ir(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Fv=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new xv(this.verbose),this.qrcode=new Av(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Mv.create()}return e.prototype.start=function(t,r,o,l){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;l?g=l:g=this.verbose?this.logger.log:function(){};var m=Bv.create(r,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:sn.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var _=this,b=this.stateManagerProxy.startTransition(ot.SCANNING);return new Promise(function(F,G){var W=x?m.videoConstraints:_.createVideoConstraints(t);if(!W){b.cancel(),G("videoConstraints should be defined");return}var fe={};(!x||m.aspectRatio)&&(fe.aspectRatio=m.aspectRatio);var D={onRenderSurfaceReady:function(T,N){_.setupUi(T,N,m),_.isScanning=!0,_.foreverScan(m,o,g)}};Rv.failIfNotSupported().then(function(T){T.create(W).then(function(N){return N.render(f.element,fe,D).then(function(U){_.renderedCamera=U,b.execute(),F(null)}).catch(function(U){b.cancel(),G(U)})}).catch(function(N){b.cancel(),G(as.errorGettingUserMedia(N))})}).catch(function(T){b.cancel(),G(as.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ot.PAUSED),this.showPausedState(),(ir(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ot.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var f=document.getElementById(sn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),o(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,r){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ir(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,f){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,w=g.height,x=document.getElementById(o.elementId),I=x.clientWidth?x.clientWidth:sn.DEFAULT_WIDTH,_=Math.max(x.clientHeight?x.clientHeight:w,sn.FILE_SCAN_MIN_HEIGHT),b=o.computeCanvasDrawConfig(m,w,I,_);if(r){var F=o.createCanvasElement(I,_,"qr-canvas-visible");F.style.display="inline-block",x.appendChild(F);var G=F.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=I,G.canvas.height=_,G.drawImage(g,0,0,m,w,b.x,b.y,b.width,b.height)}var W=sn.FILE_SCAN_HIDDEN_CANVAS_PADDING,fe=Math.max(g.width,b.width),D=Math.max(g.height,b.height),T=fe+2*W,N=D+2*W,U=o.createCanvasElement(T,N);x.appendChild(U);var J=U.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=T,J.canvas.height=N,J.drawImage(g,0,0,m,w,W,W,fe,D);try{o.qrcode.decodeRobustlyAsync(U).then(function(K){l(Bd.createFromQrcodeResult(K))}).catch(f)}catch(K){f("QR code parse error, error = ".concat(K))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Dv.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!v2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[re.QR_CODE,re.AZTEC,re.CODABAR,re.CODE_39,re.CODE_93,re.CODE_128,re.DATA_MATRIX,re.MAXICODE,re.ITF,re.EAN_13,re.EAN_8,re.PDF_417,re.RSS_14,re.RSS_EXPANDED,re.UPC_A,re.UPC_E,re.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],l=0,f=t.formatsToSupport;l<f.length;l++){var g=f[l];gv(g)?o.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ir(t))return!0;if(!ir(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ir(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ir(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,o){var l=this,f=o.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,r,f),m=function(x){if(x<sn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sn.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return o},e.prototype.setupUi=function(t,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,o);var l=ir(o.qrbox)?{width:t,height:r}:o.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,r,l);f.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=o.isShadedBoxEnabled()&&f.height<=r,m={x:0,y:0,width:t,height:r},w=g?this.getShadedRegionBounds(t,r,f):m,x=this.createCanvasElement(w.width,w.height),I={willReadFrequently:!0},_=x.getContext("2d",I);_.canvas.width=w.width,_.canvas.height=w.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,r,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=_,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=as.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Bd.createFromQrcodeResult(l)),o.possiblyUpdateShaders(!0),!0}).catch(function(l){o.possiblyUpdateShaders(!1);var f=as.codeParseError(l);return r(f,mv.createFrom(f)),!1})},e.prototype.foreverScan=function(t,r,o){var l=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,x=this.qrRegion.height*m,I=this.qrRegion.x*g,_=this.qrRegion.y*m;this.context.drawImage(f,I,_,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,o)},l.getTimeoutFps(t.fps))};this.scanContext(r,o).then(function(F){!F&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,o).finally(function(){b()})):b()}).catch(function(F){l.logger.logError("Error happend while scanning context",F),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",o="deviceId",l={user:!0,environment:!0},f="exact",g=function(G){if(G in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(t)[0];if(w!==r&&w!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var I=typeof x;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var _=t.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(f in _)return{deviceId:{exact:_["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var b=typeof _;throw"Invalid type of 'deviceId' = ".concat(b)}}}var F=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},e.prototype.computeCanvasDrawConfig=function(t,r,o,l){if(t<=o&&r<=l){var f=(o-t)/2,g=(l-r)/2;return{x:f,y:g,width:t,height:r}}else{var m=t,w=r;return t>o&&(r=o/t*r,t=o),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,o,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?sn.BORDER_SHADER_MATCH_COLOR:sn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,o){var l=t,f=r,g=document.createElement("canvas");return g.style.width="".concat(l,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=ir(o)?"qr-canvas":o,g},e.prototype.getShadedRegionBounds=function(t,r,o){if(o.width>t||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,r,o,l){if(!(r-l.width<1||o-l.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(r-l.width)/2,m=(o-l.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(sn.SHADED_REGION_ELEMENT_ID),r-l.width<11||o-l.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,r,o,l,f,g,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=sn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(o,"px"),l!==null&&(w.style.top="".concat(l,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),m?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Gd;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Gd||(Gd={}));function Uv({reference:e,houses:t,teacherName:r}){const[o,l]=ve.useState(-1),[f,g]=ve.useState(0),[m,w]=ve.useState(!1);return H.jsxs("dialog",{ref:e,className:"HousesPrompt",children:[H.jsx("img",{src:Xl,alt:"",className:"XMark",onClick:()=>{var x;return[l(-1),g(0),(x=e.current)==null?void 0:x.close()]}}),H.jsx("h2",{children:o==-1?"Select House":"Enter amount to give"}),H.jsx("label",{htmlFor:"houses",children:"House: "}),H.jsxs("select",{name:"houses",id:"houses",value:o,onChange:x=>{l(parseInt(x.target.value))},children:[H.jsx("option",{value:-1,children:"Select House"}),t.map((x,I)=>H.jsx("option",{value:I,children:x.name},x.name))]}),H.jsx("br",{}),o==-1?H.jsx(H.Fragment,{children:H.jsx("br",{})}):H.jsxs(H.Fragment,{children:[H.jsxs("h3",{children:["Tiger Bucks: ",t[o].points]}),H.jsx("label",{htmlFor:"",children:"Amount to give: "}),H.jsx("input",{type:"number",onChange:x=>g(parseInt(x.target.value)),value:f}),H.jsx("br",{}),H.jsx("br",{}),m?H.jsx("div",{className:"center",children:H.jsx("div",{className:"loader"})}):H.jsx("button",{className:"actionBtn",onClick:async()=>{var x;w(!0),await fetch("https://tiger-store-server.onrender.com/tbHouses",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify({id:t[o].id,tigerBucks:f,teacher:r})}),w(!1),g(0),l(-1),(x=e.current)==null||x.close(),alert("Tiger Bucks Given!")},children:"Give Tiger Bucks to House"})]})]})}function Vv({reference:e,teacherName:t}){const[r,o]=ve.useState(-1),[l,f]=ve.useState(-1),[g,m]=ve.useState(""),[w,x]=ve.useState(!1),[I,_]=ve.useState([]);return H.jsxs("dialog",{ref:e,className:"StudentsPrompt",children:[H.jsx("img",{src:Xl,alt:"",className:"XMark",onClick:()=>{var b;return[m(""),o(-1),f(-1),_([]),(b=e.current)==null?void 0:b.close()]}}),H.jsx("h2",{children:r==-1?"Select Grade":l==-1?"Select Student":"Enter amount to give"}),H.jsx("label",{htmlFor:"grades",children:"Grades: "}),H.jsxs("select",{name:"grades",id:"grades",value:r,onChange:async b=>{if(o(parseInt(b.target.value)),parseInt(b.target.value)==-1)return;const F=await lv(parseInt(b.target.value)),G=JSON.parse(F);console.log(G),_(G)},children:[H.jsx("option",{value:-1,children:"Select Grade"}),H.jsx("option",{value:6,children:"6th Grade"}),H.jsx("option",{value:7,children:"7th Grade"}),H.jsx("option",{value:8,children:"8th Grade"})]}),H.jsx("br",{}),r!=-1&&I.length!=0?H.jsxs(H.Fragment,{children:[H.jsx("label",{htmlFor:"students",children:"Students: "}),H.jsxs("select",{name:"students",id:"students",value:l,onChange:b=>{f(parseInt(b.target.value))},children:[H.jsx("option",{value:-1,children:"Select Student"}),I.map((b,F)=>H.jsx("option",{value:F,children:b.name},b.name))]}),H.jsx("br",{})]}):H.jsx(H.Fragment,{}),l==-1?H.jsx(H.Fragment,{children:H.jsx("br",{})}):H.jsxs(H.Fragment,{children:[H.jsxs("h3",{children:["Tiger Bucks: ",I[l].points]}),H.jsx("label",{htmlFor:"",children:"Amount to give: "}),H.jsx("input",{onChange:b=>{m(b.target.value)},value:g}),H.jsx("br",{}),H.jsx("br",{}),w?H.jsx("div",{className:"center",children:H.jsx("div",{className:"loader"})}):H.jsx("button",{className:"actionBtn",onClick:async()=>{var b;x(!0),await C2(I[l].id,parseInt(g),t),x(!1),m(""),o(-1),f(-1),_([]),(b=e.current)==null||b.close(),alert("Tiger Bucks Given!")},children:"Give Tiger Bucks to Student"})]})]})}function Hv(){const e=ve.useRef(null),t=ve.useRef(null),r=ve.useRef(null),o=ve.useRef(null),[l,f]=ve.useState(0),[g,m]=ve.useState(""),[w,x]=ve.useState(""),[I,_]=ve.useState(!1),[b,F]=ve.useState(""),[G,W]=ve.useState(""),[fe,D]=ve.useState(!0),[T,N]=ve.useState(!1),[U,J]=ve.useState(0),[K,M]=ve.useState([]),[$,z]=ve.useState([]),[me,ke]=ve.useState(!1);return ve.useEffect(()=>{async function ee(){await dv(_);const we=localStorage.getItem("tigerStoreLogin");if(we){const He=JSON.parse(we);if(He){const V=He.name;F(V)}}}ee()},[]),H.jsx(H.Fragment,{children:I?H.jsxs(H.Fragment,{children:[H.jsx("button",{className:"actionBtn",onClick:async()=>{var ee;(ee=e.current)==null||ee.showModal()},children:"Create QR Code"}),H.jsx("br",{}),H.jsx("br",{}),H.jsx("button",{className:"actionBtn",onClick:()=>{var ee;D(!0),(ee=t.current)==null||ee.showModal(),setTimeout(()=>{const we=new Fv("reader");async function He(Pe,ge){if(Pe===null)return;console.log(`Scan result: ${Pe}`,ge),we.stop();const te=await av(parseInt(Pe.split("|")[1]));console.log(te),J(parseInt(await te)),f(Pe.split("|")[1]),m(Pe.split("|")[0]),D(!1),console.log(`Scan result: ${Pe}`,ge)}const V={fps:10,qrbox:{width:250,height:250}};we.start({facingMode:"environment"},V,He)},100)},children:"Scan QR Code"}),H.jsx("br",{}),H.jsx("br",{}),H.jsx("button",{className:"actionBtn",onClick:async()=>{var ee;console.log($),z($),(ee=o.current)==null||ee.showModal()},children:"Give Student Tiger Bucks"}),H.jsx("br",{})," ",H.jsx("br",{}),H.jsx("button",{className:"actionBtn",onClick:async()=>{localStorage.removeItem("tigerStoreLogin"),await uv(),_(!1)},children:"Log Out"}),H.jsx($E,{reference:e}),H.jsx(Vv,{reference:o,teacherName:b}),H.jsx(hv,{reference:t,id:l,isScanning:fe,teacherName:b,studentName:g,studentTigerBucks:U}),H.jsx(Uv,{reference:r,houses:K,teacherName:b})]}):me?H.jsxs("div",{className:"Login",children:[H.jsx("h1",{className:"createTitle",children:"Create Account"}),H.jsx("input",{type:"text",placeholder:"Full Name",onChange:ee=>{F(ee.target.value)}}),H.jsx("input",{type:"text",placeholder:"Email",onChange:ee=>{x(ee.target.value)}}),H.jsx("input",{type:"password",placeholder:"Password",onChange:ee=>{W(ee.target.value)}}),T?H.jsx("div",{className:"center",children:H.jsx("div",{className:"loader"})}):H.jsx("button",{className:"actionBtn",onClick:async()=>{if(N(!0),G.length<6){N(!1),alert("Password must be at least 6 characters");return}if(!await fv(w,G,b)){N(!1),alert("Unable to create account, try again");return}N(!1),F(b),_(!0),localStorage.setItem("tigerStoreLogin",JSON.stringify({name:b}))},children:"Create Account"}),H.jsx("button",{className:"actionBtn",onClick:()=>{ke(!1)},children:"Login"})]}):H.jsxs("div",{className:"Login",children:[H.jsx("h1",{children:"Login"}),H.jsx("input",{type:"text",placeholder:"Full Name",onChange:ee=>{F(ee.target.value)}}),H.jsx("input",{type:"text",placeholder:"Email",onChange:ee=>{x(ee.target.value)}}),H.jsx("input",{type:"password",placeholder:"Password",onChange:ee=>{W(ee.target.value)}}),T?H.jsx("div",{className:"center",children:H.jsx("div",{className:"loader"})}):H.jsx("button",{className:"actionBtn",onClick:async()=>{if(N(!0),!await cv(w,G)){N(!1),alert("Wrong email or password");return}N(!1),F(b),_(!0),localStorage.setItem("tigerStoreLogin",JSON.stringify({name:b}))},children:"Login"}),H.jsx("button",{className:"actionBtn",onClick:()=>{ke(!0)},children:"Create an Account"})]})})}Jc.createRoot(document.getElementById("root")).render(H.jsx(wm.StrictMode,{children:H.jsx(Hv,{})}));
